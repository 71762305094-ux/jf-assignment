(function () {
var p;function sa(a,f,e){this.Zm=a;this.i=e;this.Ij=this.ck();this.ih=this.yj(f);this.Ff=this.bk()}var za;p=sa.prototype;p.ck=function(){var a=this.i;return"vroid"===a?{Tb:function(f){var e=f.x,c=f.z,g=f.c;f.x=-f.y;f.y=-c;f.z=e;f.c=g}}:"webaverse"===a?{Tb:function(f){var e=f.x,c=f.z,g=f.c;f.x=f.y;f.y=-c;f.z=-e;f.c=g}}:{Tb:function(){}}};p.yj=function(a){var f={},e={};C(Aa.M(a),function(c){e[Ba.getName(c)]=c});f.get=function(c){return e[c]};f.D=function(c){Da(e,function(g,h){c(g,h)})};return f};
p.bk=function(){var a={},f={};a.set=function(e,c,g,h,l){f[e]={x:c,y:g,z:h,w:l}};a.get=function(e){return f[e]};return a};p.Mn=function(a){Da(this.Zm,function(f,e){a(f,e)})};p.Zg=function(a){this.ih.D(a)};p.ul=function(a){return this.Ff.get(a)};p.ep=function(a,f,e,c,g){this.Ff.set(a,f,e,c,g)};p.Bl=function(a){return this.ih.get(a)};p.Ra=function(a){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(a,this.i)};p.xq=function(a){this.Ij.Tb(a)};
za=function(a){return"right"===a?{Tg:function(f){return/RightHand.+/.test(f)},eg:function(f){return f.replace("Right","Left")},Tb:function(f){f.y*=-1;f.z*=-1}}:{Tg:function(f){return/LeftHand.+/.test(f)},eg:function(f){return f},Tb:function(){}}};
sa.prototype.rq=function(a,f,e,c){var g=this,h=za(c);C(X.j(a),function(l){var b=Ea.f(l);if("rotationQuaternion"===Y.B(b)){l=Ea.m(l);l=Ba.getName(l);var d=g.Bl(l);if(null!=d){var k=Y.h(b);if(!0!==Ha(k)){var m=g.re(h,l);null!=m&&(function(){var n=!0;$a(k,{A:function(){return n},da:function(q,u){var S=q.frame;S<f?n=!1:S>=f&&S<=e&&k.splice(u,1)}})}(),b=function(){var n=Pb.create(),q=Ba.dc(d);Qb.Qa(q,null,n,null);q=Pb.create(m.x,m.y,m.z,m.c);return Pb.multiply(n,q)}(),k.push(Sb(f,Pb.clone(b))),k.push(Sb(e,
Pb.clone(b))),Xb(k))}}}})};sa.prototype.sq=function(a){var f=this,e=za(a);f.Zg(function(c,g){var h=f.re(e,c);if(null!=h){var l=Ba.dc(g);var b=Pb.create();Qb.Qa(l,null,b,null);h=Pb.create(h.x,h.y,h.z,h.c);b=Pb.multiply(b,h);h=Ba.ia(g);ec.fa(h,b)}})};sa.prototype.re=function(a,f){var e=this.Ra(f);fc(f,"mixamorig:")&&(e=f.substring(10));if(!1===a.Tg(e))return null;e=this.ul(a.eg(e));if(null==e)return null;e={x:e.x,y:e.y,z:e.z,c:e.w};this.xq(e);a.Tb(e);return e};
sa.prototype.Ed=function(){var a=this;return new Promise(function(f){a.Mn(function(e,c){a.ep(e,c[0],c[1],c[2],c[3])});f()})};function gc(a,f){this.fi=a;this.Ym=f}gc.prototype.load=function(){var a=this;return new Promise(function(f,e){a.Un().then(function(c){return ic(a.fi+c)}).then(function(c){f(c)})["catch"](function(c){e(c)})})};gc.prototype.Un=function(){var a=this;return new Promise(function(f,e){var c=a.Ym;mc({parentId:"eae2fba2-d263-4335-b859-784e35f79a7e",_id:c}).then(function(g){Array.isArray(g)&&1===g.length?f(g[0].path):e("Cannot get hand gesture asset: "+c)})["catch"](function(g){e(g)})})};function pc(){this.values=[]}pc.prototype.Ni=function(a){this.values.push(a)};pc.prototype.Cd=function(a,f){this.Ni({left:a,right:f})};pc.prototype.O=function(){return 0===this.values.length};pc.prototype.Jc=function(){return this.values[0]};function fc(a,f){var e=!1;null==qc(a)===!1&&null==qc(f)===!1&&(e=0===a.lastIndexOf(f,0));return e}function yc(a,f){var e;null==e&&(e=!1);var c=!1;if(null==qc(a)===!1&&null==qc(f)===!1){c=a.length;if(null==g||g>c)var g=c;g=a.substring(g-f.length,g);e&&(g=g.toLowerCase(),f=f.toLowerCase());c=g===f}return c}function qc(a){null!=a&&"string"===typeof a&&(a=a.trim(),0===a.length&&(a=null));return a};function zc(){var a={},f=new Map;a.yf=function(e){f[e]=!0};!1===Ha(void 0)&&C(void 0,function(e){a.yf(e)});a.Bn=function(e){return!0===f[e]};return a}function Ac(a){return new Promise(function(f){setTimeout(function(){f()},a)})}function Da(a,f){Bc(a,{we:function(e,c){f(e,c)},A:function(){return!0}})}function Bc(a,f){for(var e in a)if(a.hasOwnProperty(e)&&(f.we(e,a[e]),!1===f.A()))break}function Dc(a){a=JSON.stringify(a);return JSON.parse(a)}
function Ec(a,f){var e=null,c=!1;Gc(a,{A:function(){return!1===c},da:function(g,h){f(g,h)&&(e=g,c=!0)}});return e}function Hc(a,f){return new Promise(function(e,c){function g(){return new Promise(function(d,k){f(a[b],b).then(function(){d()})["catch"](function(m){k(m)})})}function h(){b===l?e():g().then(function(){b++;h()})["catch"](function(d){c(d)})}if(Ha(a))e();else{var l=a.length,b=0;h()}})}function Ic(a,f){var e=[];C(a,function(c){c=f(c);e.push(c)});return e}
function Ha(a){return null==a||0===a.length}function Kc(a,f){$a(a,{A:function(){return!0},da:function(e,c){f(e,c)}})}function $a(a,f){if(null!=a&&0<a.length)for(var e=a.length-1;f.A()&&0<=e;e--)f.da(a[e],e)}function C(a,f){Gc(a,{A:function(){return!0},da:function(e,c){f(e,c)}})}function Gc(a,f){if(null!=a&&0<a.length)for(var e=a.length,c=0;f.A()&&c<e;c++)f.da(a[c],c)};var Lc,Mc;Lc=function(a){if(null==f)var f=Math.round;if((""+a).includes("e")){a=(""+a).split("e");var e="";0<+a[1]+2&&(e="+");return+(f(+a[0]+"e"+e+(+a[1]+2))+"e-2")}return+(f(a+"e+2")+"e-2")};Mc=function(a,f){if(Ha(a)||Ha(f))return null;var e=Math.max(a[0],f[0]),c=Math.min(a[1],f[1]);return e<=c?[e,c]:null};function Pc(a){this.key=a;this.next=this.Na=null}function Qc(){this.Fj=200;this.head=this.Va=null;this.length=0;this.data={};this.S={}}p=Qc.prototype;
p.set=function(a,f){if(this.data[a])Rc(this,a);else{var e=new Pc(a);null===this.head&&null===this.Va?(this.Va=this.head=e,this.head.next=this.Va,this.Va.Na=this.head):(this.head.Na=e,e.next=this.head,this.head=e);this.S[e.key]=e;this.length+=1;this.length>this.Fj&&(e=this.Va,this.Va=e.Na,--this.length,this.Pf(this.data[e.key]),delete this.data[e.key],delete this.S[e.key])}this.data[a]=f};p.Pf=function(){};p.get=function(a){return this.data[a]?(Rc(this,a),this.data[a]):null};
function Rc(a,f){if(a.S[f]&&a.S[f]!==a.head){var e=a.S[f].Na,c=a.S[f].next;e.next=c;c.Na=e;a.head.Na=a.S[f];a.S[f].next=a.head;a.head=a.S[f]}}p.has=function(a){return null!=this.S[a]};
p["delete"]=function(a){if(this.S[a]){var f=this.data[a];if(1==this.length)this.head=this.Va=null,this.length=0,this.data={},this.S={};else{if(this.S[a]===this.head){var e=this.S[a].next;delete e.Na;this.head=e}else if(this.S[a]===this.Va){var c=this.S[a].Na;delete c.next;this.Va=c}else c=this.S[a].Na,e=this.S[a].next,c.next=e,e.Na=c;this.length--;delete this.data[a];delete this.S[a]}return f}return null};
p.keys=function(){function a(e){e&&!f.includes(e.key)&&(f.push(e.key),a(e.next))}var f=[];a(this.head);return f};var ic,mc,Wc,Xc,Yc;
(function(){function a(e,c,g){null==g&&(g=!1);return new Promise(function(h,l){var b=!1===g?null:f();fetch(e,b).then(function(d){!1===d.ok?Wc(d).then(function(k){l(k)})["catch"](function(k){l(k)}):c(d).then(function(k){h(k)})["catch"](function(k){l(k)})})["catch"](function(d){l(d)})})}function f(){return{method:"GET",credentials:"include"}}mc=function(e){var c=null==c?"":"&"+c;e="https://content-global.visual-paradigm.com/asset/assets?filter="+encodeURIComponent(JSON.stringify(e))+c;return ic(e)};
Wc=function(e){return new Promise(function(c){e.text().then(function(g){c(g)})["catch"](function(g){c(g)})})};ic=function(e,c){return a(e,function(g){return g.json()},c)};Xc=function(e){return a(e,function(c){return c.text()})};Yc=function(e){return new Promise(function(c,g){var h=f();fetch(e,h).then(function(l){c(l)})["catch"](function(l){g(l)})})}})();var Sb,Xb,ad,bd,cd,dd,ed,fd,id,jd,kd,ld,md,nd,td,ud,vd,wd,yd,zd,Dd,Ed,Fd,Gd,Hd,Id;ad=function(a){Jd()&&Ld.Rj(a);Qd()&&Ld.Oj(a)};bd=function(a){Ld.Jh(a,Rd.create(0,0,0,0))};cd=function(a){var f=Sd.create(0,5,-10);a=Td.create("camera1",f,a);f=Sd.create(0,5,0);Td.Ua(a,f);return a};dd=function(a){var f=Sd.create(0,.7,-1);return Ud.create("light",f,a)};
ed=function(a){var f={preserveDrawingBuffer:!0,stencil:!0,disableWebGL2Support:!1,doNotHandleContextLost:Vd(),loseContextOnDispose:!0};a=Wd.create(a,!0,f);Wd.yp(a,Xd());return a};fd=function(a){a=Yd(0,a);return Pb.ga(0,a,0)};
(function(){var a=Math.PI/180*80,f=-Math.PI/180*80,e=Math.PI/180*60,c=-Math.PI/180*40;id=function(g,h,l,b){return Zd.create(g,h,l,{yawAxis:b?Sd.ni():null,adjustYaw:Math.PI,slerpAmount:1,maxYaw:a,minYaw:f,maxPitch:e,minPitch:c,upAxisSpace:$d.gi()})};jd=function(g){var h=Pb.Oa(g),l=h.x;g=h.z;h=h.y;l=Math.max(c,Math.min(e,l));h=Math.max(f,Math.min(a,h));return Pb.ga(l,h,g)}})();
kd=function(a,f){return new Promise(function(e,c){var g=encodeURIComponent(f);g="https://anitool.visual-paradigm.com/engine2/retarget_animation?source_series="+g+"&target_series="+g;var h=new FormData,l=new File([a],"temp.glb");h.append("file",l,"temp.glb");fetch(g,{method:"POST",body:h}).then(function(b){if(!1===b.ok)Wc(b).then(function(d){c(d)})["catch"](function(d){c(d)});else return b.blob()}).then(function(b){e(b)})["catch"](function(b){c(b)})})};
ld=function(a,f,e){if("number"===typeof a&&"number"===typeof f)return a+e*(f-a);if(a instanceof ae()&&f instanceof ae())return Sd.zc(a,f,e);if(a instanceof be()&&f instanceof be())return Pb.sd(a,f,e);throw Error("Unsupported data type for interpolation");};md=function(a,f){var e=Ec(a,function(h){return h.frame>f});if(null==e)return a[a.length-1].value;var c=a[a.indexOf(e)-1];if(null==c)return null;var g=c.frame;return ld(c.value,e.value,(f-g)/(e.frame-g))};
nd=function(a,f,e,c){return(a-a*f-a*(1-e))*c};td=function(a,f){var e=Pb.Wj(a);return Pb.multiply(f,e)};ud=function(a,f){var e=Pb.clone(f);Pb.Xc(e,a);return Pb.normalize(e)};self.applyRotationQuaternionDifference=function(a,f){function e(h){return Pb.create(h.x,h.y,h.z,h.w)}var c=e(a),g=e(f);c=ud(c,g);return{x:c.x,y:c.y,z:c.z,w:c.w}};
vd=function(a,f,e,c,g,h){return new Promise(function(l,b){function d(){if(ce(e)||de(e))Aa.To(m);else{var n=Ld.pe(a);if(!1===Ha(n)){var q=fe;C(n,function(u){var S=q[ec.getName(u)];null!=S&&(S=Pb.create(S.x,S.y,S.z,S.w),ec.fa(u,S))})}}}var k,m;(function(){return new Promise(function(n,q){wd(f).then(function(u){return ge.ka("",u.J,u.url,a,null,u.I)}).then(function(u){var S=he.ca(u);!1===Ha(S)&&Kc(S,function(ka){X.b(ka)});S=he.H(u)[0];u=he.$a(u)[0];k=S;m=u;var W=me(u,e),ea=ne(u);S=new oe(u,S,c,W,ea,e,
a);S.hf(!0);S.ef(!0);S.yb(h);S.bb();n()})["catch"](function(u){q(u)})})})().then(function(){Ld.kq(a);d();var n=null;if(null!=g){var q=pe(a);null!=q&&(g.actionAssetPathForLoadProps&&q.actionAssetPathForLoadProps&&(g.actionAssetPathForLoadProps=q.actionAssetPathForLoadProps),g.patchedAnimationGroupData&&q.patchedAnimationGroupData&&(g.patchedAnimationGroupData=q.patchedAnimationGroupData));qe(a,g);n=re(a)}return se.ui(a,"glbFile",{metadataSelector:function(u){return g===u?u:null},shouldExportNode:function(u){return u===
n?!0:(u===k||te.vn(u,k))&&!(u instanceof ue())&&(u instanceof ve()||u instanceof we())},shouldExportAnimation:function(){return!0}})}).then(function(n){n=yd(n).qj;l(n)})["catch"](function(n){b(n)})})};zd=function(a){return a*Math.PI/180};Dd=function(a){return 180*a/Math.PI};Ed=function(a){return Pb.create(a.x,a.y,a.z,a.w)};yd=function(a){var f,e;Bc(xe.bm(a),{we:function(c,g){f=c;e=g},A:function(){return!1}});return{fileName:f,qj:e}};
wd=function(){function a(f,e){for(var c=new Uint8Array(e.match(/.{1,2}/g).map(function(l){return parseInt(l,16)})),g=new Uint8Array(f.length),h=0;h<f.length;h++)g[h]=f[h]^c[h%c.length];return g}return function(f,e){null==e&&(e=!1);return new Promise(function(c,g){if("string"!==typeof f)c({url:f,I:null,J:""});else{var h=f;if(h.startsWith("blob:"))c({url:h,I:".glb",J:""});else if(h.endsWith(".eglb")||h.endsWith(".evrm")||e){var l=h;fetch(h).then(function(b){return b.arrayBuffer()}).then(function(b){var d=
e?".glb":"."+h.slice(-3);h=a(new Uint8Array(b),"c28d3530f9fa1f8dba8ec6d5b9dbe0e2fd659872d7d1aac021ae81c38584e173");c({url:h,I:d,J:l})})["catch"](function(b){g(b)})}else c({url:h,I:null,J:""})}})}}();Fd=function(a){a=a.gltf;return null!=a?a.extras:null};Sb=function(a,f){return{frame:a,value:f}};Xb=function(a){a.sort(function(f,e){return f.frame-e.frame})};
Gd=function(a,f){return new Promise(function(e,c){Yc(a).then(function(g){!1===g.ok?Wc(g).then(function(h){c(h)})["catch"](function(h){c(h)}):g.blob().then(function(h){h=new File([h],f+".glb");e(h)})["catch"](function(h){c(h)})})["catch"](function(g){c(g)})})};
Hd=function(a,f,e,c,g,h,l){return!0===h&&"string"===typeof f&&f.includes("/rest/diagrams/assets/")?(l=null!=l?l:f.split("/rest/diagrams/assets/")[1].replace("/",""),Gd(f,l).then(function(b){return ge.qd(a,b,e,c,g)})["catch"](function(b){console.error(b)})):ge.qd(a,f,e,c,g)};Id=function(a,f,e,c,g){return"string"===typeof f&&f.includes("/rest/diagrams/assets/")?Gd(f,g).then(function(h){return ge.ka("",a,h,e,null,c)})["catch"](function(h){console.error(h)}):ge.ka("",a,f,e,null,c)};var ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge;ye=function(a,f,e,c,g,h){g=ze(c,a,g);if(null!=g){var l=function(){var m={};C(Aa.M(f),function(n){var q=Ba.getName(n);n=Ba.ia(n);m[q]=n});return function(n){return n===He?a:m[n]}}(),b=c;c=Ie(h,g,l);X.b(b);var d=[];e=Je(f,e);var k=Ba.getName(e);C(X.j(c),function(m){var n=Ea.m(m);m=Ea.f(m);var q=Y.B(m),u=!1;"rotationQuaternion"!==q&&(u=!0,"position"===q&&null!=n&&n.id===k&&(u=!1));u&&d.push(m)});C(d,function(m){X.Ah(c,m)})}return c};
Ae=function(a,f,e){var c=a.horizontal||0,g=a.vertical||0;if(0!==c||0!==g)a=Be(e,f,"position"),null!=a&&(a=Y.h(Ea.f(a)),C(a,function(h){var l=Sd.clone(h.value);l.x+=c;l.y+=g;h.value=l}))};
Ce=function(a,f){C(X.j(a),function(e){function c(l){var b=Y.h(g);C(b,function(d){var k=d.value;k=l(k);d.value=k})}var g=Ea.f(e),h=Y.ig(g);h===Y.Vd()?c(function(l){l=Sd.clone(l);l.x=-l.x;return l}):h===Y.Ud()&&(e=Ea.m(e),h=Ba.getName(e),h=self.BabylonJsBoneMapper.flipDirectionOfBoneName(h,f),e.name=h,c(function(l){l=Sd.clone(l);l.y=-l.y;l.z=-l.z;return l}))})};
De=function(a,f,e){C(X.j(a),function(c){var g=Ea.f(c),h=Y.K(g,f);c=Y.K(g,e);g=Y.h(g);var l=g[h],b=g[c],d=l.frame,k=b.frame;l=l.value;b=b.value;for(h+=1;h<c;h++){var m=g[h];m.value=ld(l,b,(m.frame-d)/(k-d))}})};Ee=function(a,f){var e=X.ne(a);if(f!==e){var c=1/(f/e);e=X.R(a);var g=X.v(a);C(X.j(a),function(h){h=Y.h(Ea.f(h));C(h,function(l){var b=l.frame;b*=c;l.frame=b})});X.Mh(a,e*c);X.Sb(a,g*c)}};
Fe=function(a,f,e){var c=!0;null==c&&(c=!1);var g=X.v(a),h=g*f,l=g*e;(function(){function b(d){Gc(X.j(a),{A:function(){return d.A()},da:function(k){k=Ea.f(k);var m=Y.h(k),n=m[0].frame;(h>m[m.length-1].frame||l<n)&&d.nh(k)}})}(function(){var d=!1;b({A:function(){return!1===d},nh:function(){d=!0}});return d})()&&(!1===c&&(a=X.clone(a)),b({A:function(){return!0},nh:function(d){d=Y.h(d);var k=d[d.length-1].value;d.unshift(Sb(h,d[0].value.clone()));d.push(Sb(l,k.clone()))}}))})();f=X.hi(a,h,l,null,!0);
c&&X.b(a);return f};ze=function(a,f,e){var c=e.animationGroup;if(null!=c)return c;e=e.animationGroupDelta;return null!=e?Ke(Le(a,f),e):null};Be=function(a,f,e){var c=null;Gc(X.j(a),{A:function(){return null==c},da:function(g){Ea.m(g).name===f&&Y.B(Ea.f(g))===e&&(c=g)}});return c};Ge=function(a){a=X.sl(a);return Ha(a)?null:Me.tm(a[0])};var Ne,Oe,Pe,Qe,Re,Se,Te;
(function(){function a(c,g,h){c=zd(30*(50-c)/50);var l=0,b=ce(g),d=de(g);if(b||d)g=f(h,g),h=l,d?l="mixamorig:LeftArm"===g?-c:c:b&&(l="mixamorig:RightArm"===g?-c:c),c=h;return Pb.ga(c,0,l)}function f(c,g){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(c,g)}var e=["mixamorig:LeftArm","mixamorig:RightArm"];Ne=function(){return 50};Oe=function(c){return c===Ne()};Pe=function(c,g,h,l){c=Y.h(c);C(c,function(b){var d=Qe(Ue.va(b),g,l,h);Ue.fb(b,d)})};Re=function(c,g){var h=f(c,g);return 0<=e.indexOf(h)};
Se=function(c,g,h,l){g=a(g,h,l);g=Pb.tb(g);return Pb.multiply(c,g)};Qe=function(c,g,h,l){g=a(g,h,l);return Pb.multiply(c,g)};Te=function(c,g,h){C(X.j(c),function(l){var b=Ea.m(l);b=Ba.getName(b);l=Ea.f(l);"rotationQuaternion"===Y.B(l)&&Re(b,h)&&Pe(l,g,b,h)})}})();var Ve,We,af,bf,cf,df,ef;
(function(){function a(g,h){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(g,h)}function f(g,h,l){0<=a(h,l).indexOf("Arm")&&(g=-g);return g}function e(g,h,l,b){b=ec.create(null,b);try{return ec.fa(b,Pb.clone(g)),ec.rotate(b,h,zd(l)),ec.N(b)}finally{ec.b(b)}}var c=["mixamorig:LeftArm","mixamorig:LeftShoulder","mixamorig:RightArm","mixamorig:RightShoulder"];Ve=function(g,h,l,b,d){var k=Y.h(g),m=function(){var n=k[0].value,q=We(n,h,b,l,d);return td(n,q)}();C(k,function(n){var q=ud(Ue.va(n),m);
Ue.fb(n,q)})};af=function(g,h,l,b,d){h=f(h,b,l);l=ce(l)?fc(b,"J_Bip_L_")?Sd.Ub():Sd.yc():de(l)?0<=b.indexOf("left")?Sd.yc():Sd.Ub():Sd.Bi();return e(g,l,h,d)};We=function(g,h,l,b,d){h=f(h,b,l);l=ce(l)?fc(b,"J_Bip_L_")?Sd.yc():Sd.Ub():de(l)?0<=b.indexOf("left")?Sd.Ub():Sd.yc():Sd.wi();return e(g,l,h,d)};bf=function(g,h){var l=a(g,h);return 0<=c.indexOf(l)};cf=function(){return 0};df=function(g){return null==g||0===g};ef=function(g,h,l,b){C(X.j(g),function(d){var k=Ea.m(d);k=Ba.getName(k);d=Ea.f(d);
"rotationQuaternion"===Y.B(d)&&bf(k,l)&&Ve(d,h,k,l,b)})}})();var ff,gf,hf,jf,kf,lf;ff=function(a,f){return null!=a&&(ce(f)||de(f))?self.BabylonJsBoneMapper.remapBoneName(a,f):a};gf=function(a){return(a=Z.gg(a))&&1===a.length&&(a=Z.getMetadata(a[0]),null!=a&&(a=Fd(a),null!=a))?a.attachTo:null};
hf=function(a,f,e,c){function g(){var b=Z.ta(a);b=ec.create(null,b);ec.l(b).x=-1;var d=Z.getParent(a);ec.ea(b,d);Z.ea(a,b)}var h=gf(a);"left"===f?h=h.replace("Right","Left"):"right"===f&&(h=h.replace("Left","Right"));var l=ff(h,c);(function(){jf({get:function(){return a},set:function(b){a=b}},{Gb:e,Wf:!1,Xf:!1,i:c},{Hf:l,Wa:h},{position:null,scale:null,rotation:null},!1)})();"right"===f&&g();return a};
jf=function(a,f,e,c,g){function h(){var ta=Z.$d(wa,!1,function(Ia){return te.getName(Ia)===na})[0],Fa=f.i,Na=ce(Fa);Fa=de(Fa);if(Na||Fa){var Ca=Na?"dummy_106008":void 0;Fa=ec.create(Na?void 0:"dummy_106008",m);ec.ea(Fa,ta);var Wa=mf[q];ta=function(){var Ia=Pb.create(Wa.x,Wa.y,Wa.z,Wa.c),La=Pb.create(0,0,0,.7071067811865476);La=Qb.tb(La);La=Qb.normalize(La);return Pb.multiply(Ia,La)}();ec.fa(Fa,ta);Na&&(Na=ec.create(Ca,m),ec.fa(Na,Pb.create(0,1,0,0)),ec.ea(Na,ec.getParent(Fa)),ec.ea(Fa,Na));ta=Fa}b(ta);
g&&(Na=Z.getParent(k),Fa=ec.create(null,m),ec.ea(Fa,Na),Z.ea(k,Fa),Na=ec.l(Fa),Na.x=-Na.x)}function l(){var ta=Z.$d(wa,!0)[0];b(ta)}function b(ta){function Fa(){Z.Ga(k,!0);return Sd.clone(Z.Zf(k))}var Na=Sd.clone(Z.l(k));null==Z.getParent(k)&&0>Na.z&&(Sd.set(Z.l(k),Na.x,Na.y,-Na.z),Z.Ga(k,!0));var Ca=Fa();Z.ld(k,Na);Z.ea(k,ta);(function(){var Wa=Fa();!1===Sd.Zb(Ca,Wa)&&(Sd.Pk(Ca,Wa),0>Ca.x&&(Ca.x=-Ca.x),0>Ca.y&&(Ca.y=-Ca.y),0>Ca.z&&(Ca.z=-Ca.z),Sd.Xc(Z.l(k),Ca))})()}function d(){return Pb.create(ka.x,
ka.y,ka.z,Pb.pb(ka))}var k=a.get(),m=Z.ta(k),n=e.Hf,q=e.Wa,u=e=null,S=null,W=c.position,ea=c.scale,ka=c.rotation;if(null!=n){var ma=Z.gg(k)[0];Z.Ga(ma,!0);e=function(){if(null!=W)return Sd.create(W.x,W.y,W.z);var ta=Z.Od(ma);return Sd.clone(ta)}();u=null!=ea?Sd.create(ea.x,ea.y,ea.z):Sd.clone(Z.Zf(ma));S=null!=ka?d():Sd.clone(Z.il(ma));Z.ea(ma,null);nf(k);k=ma;a.set(k);var na=n}else na="__root__",null!=W&&(e=Sd.create(W.x,W.y,W.z)),null!=ea&&(u=Sd.create(ea.x,ea.y,ea.z)),null!=ka&&(S=d());null!=e&&
Z.setPosition(k,e);null!=u&&Z.ld(k,u);null!=S&&Z.fa(k,S);var wa=f.Gb;a=function(){var ta=Z.l(wa),Fa=ta.x,Na=ta.y,Ca=ta.z;ta.x=f.Wf?-1:1;ta.y=f.Xf?-1:1;ta.z=-1;return function(){ta.x=Fa;ta.y=Na;ta.z=Ca}}();try{"__root__"===na?l():h()}finally{a()}};kf=function(a){return new Promise(function(f,e){mc({parentId:"d861f9f7-fc58-4ed6-a9f9-3a9f3cfa8516",name:a}).then(function(c){null==c||1!==c.length?e("Invalid action props asset"):(c=c[0],f({id:c.id,path:c.path}))})["catch"](function(c){e(c)})})};
lf=function(a){var f=Z.ta(a);f=ec.create(null,f);ec.l(f).x=-1;var e=Z.getParent(a);ec.ea(f,e);Z.ea(a,f)};var of;
of=function(a){function f(n){Ha(b)||Gc(b,{A:function(){return n.A()},da:function(q){var u=pf.getName(q);u=u.substring(4);n.Lg(q,u)}})}function e(n){return f({A:function(){return!0},Lg:function(q,u){n(q,u)}})}function c(n){var q=null;f({A:function(){return null==q},Lg:function(u,S){S===n&&(q=u)}});return q}function g(n,q){var u=c(n);null!=u&&(u=qf.$f(u),null!=u&&q(u))}function h(n,q){var u=rf.pd(q);qf.Hh(n,u);qf.bf(n,null)}var l={},b=[],d=function(){var n={},q=new Map;n.add=function(u){q.set(u,{ej:qf.rl(u),
fj:qf.$f(u)})};n.We=function(u){var S=q.get(u);if(null!=S){var W=S.fj;qf.Hh(u,S.ej);qf.bf(u,W)}};return n}(),k=zc();C(a,function(n){n=Z.ge(n);null!=n&&!1!==fc(pf.getName(n),"cth-")&&!1===k.Bn(n)&&(k.yf(n),d.add(n),b.push(n))});var m=Ic(b,function(n){n=pf.getName(n);return n=n.substring(4)});l.Fp=function(n,q){g(n,function(u){sf.Vh(u,q);sf.Wh(u,q)})};l.Dp=function(n,q){var u=c(n);null!=u&&h(u,q)};l.Ep=function(n,q){g(n,function(u){var S=zd(q);sf.Xh(u,S)})};l.Gp=function(n){e(function(q,u){var S=pf.Al(q);
Ha(S)||C(S,function(W){var ea=!1,ka=null,ma=null,na=null!=n?n[u]:null;null!=na&&(ea=!0,ka=na.color,ka=rf.pd(ka),ma=na.width);Z.Tp(W,ea);Z.Op(W,ka);Z.Pp(W,ma)})})};l.zm=function(){return m};l.We=function(){Ha(b)||e(function(n){d.We(n)})};l.jj=function(n,q,u){return new Promise(function(S,W){var ea=[];e(function(ka,ma){function na(){var Fa=wa.assetId,Na=wa.scale,Ca=wa.rotation;ea.push(new Promise(function(Wa,Ia){q(Fa).then(function(La){return new Promise(function(vb,hb){if(fc(La,tf.Ac)){var tc=sf.create(La,
u);vb(tc)}else Yc(La).then(function(Rb){if(!1===Rb.ok)hb("response not ok");else return Rb.blob()}).then(function(Rb){Rb=URL.createObjectURL(Rb);Rb=sf.create(Rb,u);vb(Rb)})["catch"](function(Rb){hb(Rb)})})}).then(function(La){null!=Na&&(sf.Vh(La,Na),sf.Wh(La,Na));if(null!=Ca){var vb=zd(Ca);sf.Xh(La,vb)}qf.bf(ka,La);Wa()})["catch"](function(La){Ia(La)})}))}var wa=n[ma];if(null!=wa){var ta=wa.type;"color"===ta?h(ka,wa.color):"image"===ta&&na()}});Promise.all(ea).then(function(){S()})["catch"](function(ka){W(ka)})})};
return l};function uf(a,f,e,c){this.Ma=a;this.a=f;this.ha=e;this.jn=c}p=uf.prototype;p.Nn=function(a){C(this.Ma,function(f){a(f)})};
p.El=function(a){function f(m){if(!yc(Z.getName(m),"_ColliderSphere")){var n=function(){if("function"===typeof m.Jf)return m.Jf();var q=Z.bc(m);return vf.Hg(wf.Yd(q))}();C(n,function(q){a.bq(q,g);h>g.x&&(h=g.x);b<g.x&&(b=g.x);l>g.y&&(l=g.y);d<g.y&&(d=g.y)})}}function e(){var m=[];c.Nn(function(n){m.push(n);n=Z.fg(n,!1,function(q){return Z.isEnabled(q)});!1===Ha(n)&&C(n,function(q){m.push(q)})});return m}var c=this,g=Sd.create(),h=1E10,l=1E10,b=-1E10,d=-1E10,k=this.Ma;this.jn&&(k=e());C(k,function(m){f(m)});
k={};k.x=h;k.y=l;k.width=b-h;k.height=d-l;return k};p.za=function(){return Ld.za(this.a)};p.sa=function(){return Ld.sa(this.a)};p.Qd=function(){return xf.Rc(this.sa())};p.me=function(){return Ld.Qc(this.a)};p.Il=function(){var a=this.ha;return null==a?0:a.offsetLeft};p.Jl=function(){var a=this.ha;return null==a?0:a.offsetTop};
p.Jb=function(){var a=yf.nd(this.Qd(),this.ha.clientWidth||1,this.ha.clientHeight||1),f=this.me(),e=this.Il(),c=this.Jl(),g=this.El({bq:function(h,l){var b=Qb.Kb();Sd.Ai(h,b,f,a,l)}});g.x+=e;g.y+=c;return g};function zf(a,f,e,c){this.Ma=a;this.oa=f;this.a=e;this.ha=c;this.Zh=!1}p=zf.prototype;p.Xp=function(a){this.Zh=a};p.On=function(a){Kc(this.Ma,function(f){a(f)})};p.wh=function(){this.On(function(a){Af(a)})};p.Aa=function(){return this.Ma[0]};p.pk=function(a,f){return new uf(a,this.a,this.ha,f)};p.Hd=function(a,f){return this.pk(a,f).Jb()};p.za=function(){return Ld.za(this.a)};p.sa=function(){return Ld.sa(this.a)};p.Qd=function(){return xf.Rc(this.sa())};p.pl=function(){return xf.se(this.sa(),void 0)};
p.ol=function(){return xf.ke(this.sa(),void 0)};p.me=function(){return Ld.Qc(this.a)};
p.C=function(){var a=this,f=a.ha.clientWidth,e=a.ha.clientHeight;if(0!==f&&0!==e){var c=this.Aa(),g=this.oa.x,h=this.oa.y,l=this.oa.width,b=this.oa.height,d;(function(){a.wh();d=a.Hd([c],!0);if(0!==d.width&&0!==d.height){var k=Math.min(l/d.width,b/d.height),m=Z.l(c);m.x*=k;m.y*=k;m.z*=k}})();(function(){a.wh();d=a.Hd([c],!0);var k=Z.u(c),m=yf.nd(a.Qd(),f,e),n=a.me();k=Sd.rd(k,Qb.Kb(),n,m);m=a.Hd([c],!1);k=Sd.tf(Sd.create(g+l/2+(m.x+m.width/2-(d.x+d.width/2)),h+b+(m.y+m.height-(d.y+d.height)),k.z),
f,e,Qb.Kb(),a.pl(),a.ol());Z.setPosition(c,k);if(!1===a.Zh){k=a.Ma;var q=Z.te(k[0]),u=1E10,S=1E10,W=1E10,ea=-1E10,ka=-1E10,ma=-1E10;k.slice(1).forEach(function(ta){var Fa=Z.bc(ta);ta=wf.hh(Fa);Fa=wf.eh(Fa);ta.x<u&&(u=ta.x);ta.y<S&&(S=ta.y);ta.z<W&&(W=ta.z);Fa.x>ea&&(ea=Fa.x);Fa.y>ka&&(ka=Fa.y);Fa.z>ma&&(ma=Fa.z)});var na=Sd.create(u,S,W),wa=Sd.create(ea,ka,ma);k.slice(1).forEach(function(ta){ta=Z.bc(ta);wf.yo(ta,na,wa,q)})}})()}};var Bf;Bf=function(a,f,e,c,g){function h(){var b=gsap.to({progress:0},{progress:1,duration:.001,onStart:function(){g()},onComplete:function(){},onUpdate:function(){g()}});a.add(b,f-.001)}0<f&&h();var l=gsap.to({progress:0},{progress:1,duration:e,onStart:function(){c(l)},onComplete:function(){g()},onUpdate:function(){l?c(l):g()}});l.forceExitForTimeAheadOfCharacter=function(){g(!0)};return l};var pe,qe,re;re=function(a){return a instanceof Cf()?Ld.Qm(a,"node-for-metadata"):a instanceof Df()?(a=Ef.pe(a),Ha(a)?null:Ec(a,function(f){return"node-for-metadata"===ec.de(f)})):null};pe=function(a){a=re(a);if(null==a)return null;a=ec.getMetadata(a);return null==a?null:Fd(a)};qe=function(a,f){var e=re(a);null==e&&(e=ec.create("node-for-metadata",a),ec.Bp(e,"node-for-metadata"));ec.Ip(e,f)};var me,ne,Je,Ff,Gf,Hf;Ff=function(a,f){var e=Aa.M(a);return Ha(e)?null:Ec(e,function(c){return f===Ba.getName(c)})};ne=function(a){var f={};C(Aa.M(a),function(e){var c=Ba.N(e);c=Pb.Oa(c);f[Ba.getName(e)]={x:c.x,y:c.y,z:c.z}});return f};me=function(a,f,e){null==e&&(e=!1);var c=void 0;a=Je(a,f);if(null!=a){if(e)return c=Ba.dc(a),e=Sd.Gi(),Qb.Qa(c,null,null,e),e.y;e=Ba.u(a);null!=e&&(c=e.y)}return c};Gf=function(a){return"mixamorig:Hips"===Ba.getName(Aa.M(a)[0])};
Hf=function(a){return"J_Bip_C_Hips"===Ba.getName(Aa.M(a)[1])};Je=function(a,f){if(a){if(null!=f){var e=self.BabylonJsBoneMapper.remapBoneName("mixamorig:Hips",f);if(null!=e&&(e=Ff(a,e),null!=e))return e}var c=Aa.M(a);e=c[1];c=c[0];var g=Ba.getName(c);"root"===g&&"hips"===Ba.getName(e)?c=e:"Root"===g&&"J_Bip_C_Hips"===Ba.getName(e)&&(c=e);return c}};var nf,Af,If,Jf,Kf,Lf;If=function(a){var f=Ld.H(a);f=f.slice(0);Kc(f,function(e,c){null!=Z.getParent(e)&&f.splice(c,1)});return f};Jf=function(a,f){var e=Z.$d(a,!0);if(!Ha(e)&&(e=Z.getMetadata(e[0]),null!=e&&(e=Fd(e),null!=e&&(e=e["z-index"],null!=e)))){a:{try{var c=JSON.parse(e);break a}catch(h){console.error(h)}c=null}if(null!=c){var g=function(){var h=Object.entries(c);h.sort(function(l,b){return l[1]-b[1]});return Ic(h,function(l){return l[0]})}();C(f,function(h){Z.$o(h,g.indexOf(Z.getName(h)))})}}};
nf=function(a){Z.b(a);var f=Z.ug(a);null!=f&&Mf.b(f);a=Z.ge(a);null!=a&&pf.b(a,!0,!0)};Kf=function(a){return a instanceof self.BABYLON.Mesh};Af=function(a){Z.Ga(a,!0)};Lf=function(a,f,e){function c(l){C(a,function(b,d){l(b,d)})}var g=null,h=[];c(function(l){var b=Z.bc(l);l=Z.te(l);b=wf.create(wf.hh(b),wf.eh(b),l);h.push(b)});try{c(function(l){Z.zo(l,f)}),g=e()}finally{c(function(l,b){Z.kp(l,h[b])})}return g};self.VpBabylonJsMeshUtils={setMeshesAlphaIndices:Jf};var Nf;Nf=function(a,f){var e=function(g){var h=Qb.si(f,Qb.ee());var l=Sd.create(0,0,1);h=Sd.sf(l,h);return Sd.scale(h,g)}(10),c=function(){var g=ec.Ga(Ba.ia(a),void 0,void 0),h=Sd.create();Qb.Qa(g,null,null,h);return h}();return Sd.add(c,e)};var Of;
(function(){Of=function(f,e){if(0===f.length)return[e];var c=e.startTime,g=e.endTime,h=[],l=[],b=[];f.reduce(function(m,n){n.endTime<c?m.vq.push(n):n.startTime>g?m.Xn.push(n):m.$n.push(n);return m},{vq:h,Xn:b,$n:l});var d=0,k=[];l.forEach(function(m,n){m.endTime===g&&m.startTime===c?d=n:m.startTime<c&&m.endTime>=c?(k.push(Object.assign({},m,{endTime:c})),d=n+1):m.endTime>=g&&m.startTime<=g&&k.push(Object.assign({},m,{startTime:g}))});k.splice(d,0,e);return h.concat(k,b)};var a={};self.HandPropsUtils=(a.normalizedHandPropsInfo=
Of,a)})();var Yd,ce,de,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf;Pf=function(a){return"pixar-man"===a?!0:tf.isNonMixamoBasedFamily(a)?!1:!0};Qf=function(a){return"adventurer_mage_ua"===a||"pixar-man"===a?!0:!1};Rf=function(a,f,e){"adventurer_mage_ua"===e&&(f.sh=function(){var c={},g=[];c.add=function(h){g.push(h)};c.s=function(h){C(g,function(l){Z.s(l,h)})};return c}(),C(a,function(c){var g=Z.getParent(c);null!=g&&fc(te.getName(g),"handslot.")&&f.sh.add(c)}))};ce=function(a){return"vroid"===a};
de=function(a){return"webaverse"===a};Sf=function(a){return"mixamo"===a};Tf=function(a){return"readyplayerme_female"===a||"readyplayerme_male"===a};Uf=function(a){return"uavatar"===a};Vf=function(a){return"vroid"===a||"webaverse"===a?a:Wf(a)};Wf=function(a){return tf.isNonMixamoBasedFamily(a)?a:"mixamo"};Yd=function(a,f){return"vroid"===f?a+Math.PI:a};Xf=function(a,f){var e=Ef.H(a);null!=e&&e.map(function(c){c=Z.ge(c);null!=c&&null==c.characterFamilyName&&(c.characterFamilyName=f)})};
self.CharacterFamilyUtils={validateRotation:Yd};var Yf,Zf,$f;Yf=function(a){return.01*a};Zf=function(){var a={},f={};a.set=function(e,c){f[String(e)]=c};a.get=function(e){return f[String(e)]};return a};$f=function(a,f,e){var c=Y.h(a);C(c,function(g){var h=g.frame;C(f,function(l){h<=l&&e.set(l,g)})});C(f,function(g){var h=e.get(g);h.frame!==g&&(h=Y.K(a,g),h=c[h],e.set(g,h))})};var Ke,ag,bg;ag=function(a,f){return self.jsondiffpatch.diff(a,f)};Ke=function(a,f){return self.jsondiffpatch.patch(a,f)};bg=function(a){var f={},e=!1,c=!1;f.start=function(){return new Promise(function(g,h){e?h("Session already started"):c?h("Session already ended"):(e=!0,g())})};f.end=function(g){return new Promise(function(h,l){if(!1===e)l("Session not yet started");else if(c)l("Session already ended");else{e=!1;c=!0;var b=ag(a,g);h(b)}})};return f};!function(a,f,e){function c(q,u,S){function W(){for(var ma=ka.Kc(6),na=d,wa=0;ma<k;)ma=256*(ma+wa),na*=256,wa=ka.Kc(1);for(;m<=ma;)ma/=2,na/=2,wa>>>=1;return(ma+wa)/na}var ea=[];q=l(function ta(na,wa){var Fa,Na=[],Ca=typeof na;if(wa&&"object"==Ca)for(Fa in na)try{Na.push(ta(na[Fa],wa-1))}catch(Wa){}return Na.length?Na:"string"==Ca?na:na+"\x00"}((u=1==u?{Wk:!0}:u||{}).Wk?[q,b(f)]:null==q?function(){try{var na;return n&&(na=n.er)?na=na(256):(na=new Uint8Array(256),(a.crypto||a.msCrypto).getRandomValues(na)),
b(na)}catch(wa){return na=a.navigator,[+new Date,a,na&&na.plugins,a.screen,b(f)]}}():q,3),ea);var ka=new g(ea);return W.$q=function(){return 0|ka.Kc(4)},W.th=function(){return ka.Kc(4)/4294967296},W.quick=W.th,W.Pq=W,l(b(ka.Vb),f),(u.dr||S||function(na,wa,ta,Fa){return Fa&&(Fa.Vb&&h(Fa,ka),na.state=function(){return h(ka,{})}),ta?(e.random=na,wa):na})(W,q,"global"in u?u.global:this==e,u.state)}function g(q){var u,S=q.length,W=this,ea=0,ka=W.Sc=W.Wc=0,ma=W.Vb=[];for(S||(q=[S++]);256>ea;)ma[ea]=ea++;
for(ea=0;256>ea;ea++)ma[ea]=ma[ka=255&ka+q[ea%S]+(u=ma[ea])],ma[ka]=u;(W.Kc=function(na){for(var wa,ta=0,Fa=W.Sc,Na=W.Wc,Ca=W.Vb;na--;)wa=Ca[Fa=255&Fa+1],ta=256*ta+Ca[255&(Ca[Fa]=Ca[Na=255&Na+wa])+(Ca[Na]=wa)];return W.Sc=Fa,W.Wc=Na,ta})(256)}function h(q,u){return u.Sc=q.Sc,u.Wc=q.Wc,u.Vb=q.Vb.slice(),u}function l(q,u){for(var S,W=q+"",ea=0;ea<W.length;)u[255&ea]=255&(S^=19*u[255&ea])+W.charCodeAt(ea++);return b(u)}function b(q){return String.fromCharCode.apply(0,q)}var d=e.pow(256,6),k=e.pow(2,
52),m=2*k;if(l(e.random(),f),"object"==typeof module&&module.Xk){module.Xk=c;try{var n=require("crypto")}catch(q){}}else"function"==typeof define&&define.Lq?define(function(){return c}):e.seedrandom=c}("undefined"!=typeof self?self:this,[],Math);function kg(a,f,e,c,g,h,l,b,d,k,m,n,q,u){this.Gk=function(){if(1===a.length)return a;a=a.slice(0);var S=[lg,mg,ng];a.sort(function(W,ea){var ka=S.indexOf(W.type),ma=S.indexOf(ea.type);return 0>ka||0>ma?0:ka-ma});return a}();this.g=f;this.ue=e;this.i=c;this.o=g;this.ra=h;this.U=l;this.pa=b;this.wa=d;this.Da=k;this.Ja=tf.ba;this.Ka=tf.aa;this.Hb=!1;this.speed=tf.li;this.kb=m;this.wb=n;this.Bc=q;this.a=u}var lg,mg,ng;mg="poseOffset";ng="handProps";lg="motionMixer";p=kg.prototype;
p.ed=function(a){this.Hb=a};p.eb=function(a){this.Ja=a};p.cb=function(a){this.Ka=a};p.zb=function(a){this.speed=a};p.Ha=function(a,f,e){return this.o.Ha?this.o.Ha(a,f,e):Promise.resolve()};p.L=function(a){return this.o.L(a)};p.ub=function(a,f,e){return this.o.ub(a,f,e)};p.gk=function(a){var f=a.type;return f===mg?new og(a,this.g,this.i):f===ng?new pg(a,this.ue):f===lg?this.qk(a):null};
p.qk=function(a){var f=this;return new qg(a,this.g,this.i,{ub:function(e,c,g){return f.ub(e,c,g)},Ha:function(e,c,g){return f.Ha(e,c,g)},L:function(e){return f.L(e)},Pa:function(e){return f.Pa(e)},Sa:function(e){return f.Sa(e)}},this.ra,this.U,this.pa,this.wa,this.Da,this.Ja,this.Ka,this.speed,this.kb,this.wb,this.Bc,this.a,this.Hb)};p.Sa=function(a){return this.o.Sa(a)};p.Pa=function(a){return this.o.Pa(a)};
p.C=function(){var a=this;return new Promise(function(f,e){function c(){b===l?f():g().then(function(){b++;c()})["catch"](function(d){e(d)})}function g(){return new Promise(function(d,k){var m=a.gk(h[b]);null==m?d():m.C().then(function(){d()})["catch"](function(n){k(n)})})}var h=a.Gk,l=h.length,b=0;c()})};function og(a,f,e){this.oh=a;this.g=f;this.i=e}p=og.prototype;p.yh=function(a){return self.BabylonJsBoneMapper.remapBoneName(a,this.i)};p.Ra=function(a){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(a,this.i)};p.rm=function(){return this.oh.lockedBoneRotations};p.Xd=function(){return this.oh.boneRotations};p.j=function(){return X.j(this.g)};
p.Dj=function(){var a={},f={};C(this.j(),function(e){if("rotationQuaternion"===Y.B(Ea.f(e))){var c=Ea.m(e).name;f[c]=e}});a.Gg=function(e){return f[e]};return a};p.bp=function(a){this.g.ij=a};p.An=function(a){return"mixamorig:Hips"===this.Ra(a)};
p.C=function(){var a=this;return new Promise(function(f){var e=a.Xd(),c=a.rm();if(null!=e||null!=c){var g=a.Dj(),h=function(){Da(e,function(b,d){if(null==c||null==c[b]){var k=g.Gg(b);if(null!=k){k=Y.h(Ea.f(k));var m=Pb.create(d.x,d.y,d.z,d.w);C(k,function(n,q){var u=n.value,S=ud(u,m);n.value=S;0===q&&a.An(b)&&a.bp({oo:u,Uo:m,So:S})})}}})},l=function(){Da(c,function(b,d){var k=g.Gg(b);if(null!=k){k=Y.h(Ea.f(k));var m=d.x,n=d.y,q=d.z,u=d.w;C(k,function(S){S.value=Pb.create(m,n,q,u)})}})};null!=e&&h();
null!=c&&l()}f()})};function pg(a,f){this.$m=a;this.ue=f}pg.prototype.C=function(){var a=this;return new Promise(function(f){var e=a.$m;a.ue.Cd(e.left,e.right);f()})};function qg(a,f,e,c,g,h,l,b,d,k,m,n,q,u,S,W,ea){this.ao=a;this.g=f;this.i=e;this.o=c;this.ra=g;this.U=h;this.pa=l;this.wa=b;this.Da=d;this.Ja=k||tf.ba;this.Ka=m||tf.aa;this.speed=n;this.kb=q;this.wb=u;this.Bc=S;this.a=W;this.Hb=ea}
(function(){function a(e){var c=[];C(e,function(g){var h=g.playCount;if(null!=h&&1<h){var l=g.repeatBlendDuration;null==l&&(l=0);for(var b=0,d=g.duration,k=d/(g.speed||1),m=!0;0<h;){var n=1<h?1:h,q=d*n,u=k*n,S=Dc(g);S.startTime+=b;S.duration=q;m?m=!1:S.blendDuration=l;h-=n;b+=u;c.push(S)}}else c.push(g)});return c}function f(){function e(h,l){g[h]=l}var c={},g={};e("upper-body",["Spine","Spine1","Spine2","LeftShoulder","RightShoulder"]);e("head",["Neck","Head","HeadTop_End"]);e("left-upper-arm",["LeftArm"]);
e("right-upper-arm",["RightArm"]);e("left-forearm","LeftForeArm LeftHand LeftHandThumb1 LeftHandThumb2 LeftHandThumb3 LeftHandThumb4 LeftHandIndex1 LeftHandIndex2 LeftHandIndex3 LeftHandIndex4 LeftHandMiddle1 LeftHandMiddle2 LeftHandMiddle3 LeftHandMiddle4 LeftHandRing1 LeftHandRing2 LeftHandRing3 LeftHandRing4 LeftHandPinky1 LeftHandPinky2 LeftHandPinky3 LeftHandPinky4".split(" "));e("right-forearm","RightForeArm RightHand RightHandThumb1 RightHandThumb2 RightHandThumb3 RightHandThumb4 RightHandIndex1 RightHandIndex2 RightHandIndex3 RightHandIndex4 RightHandMiddle1 RightHandMiddle2 RightHandMiddle3 RightHandMiddle4 RightHandRing1 RightHandRing2 RightHandRing3 RightHandRing4 RightHandPinky1 RightHandPinky2 RightHandPinky3 RightHandPinky4".split(" "));
e("legs","Hips LeftUpLeg RightUpLeg LeftLeg LeftFoot LeftToeBase LeftToe_End RightLeg RightFoot RightToeBase RightToe_End".split(" "));c.Fm=function(h){var l={},b={};C(h,function(d){d=g[d];!1===Ha(d)&&C(d,function(k){b["mixamorig:"+k]=!0})});l.contains=function(d){return!0===b[d]};return l};return c}qg.prototype.Kf=function(){return Yf(this.ra)};qg.prototype.j=function(){return X.j(this.g)};qg.prototype.Ia=function(){return X.R(this.g)};qg.prototype.ua=function(){return X.v(this.g)};qg.prototype.V=
function(e){return e*this.ra};qg.prototype.Ya=function(e){return e/this.ra};qg.prototype.tj=function(){var e=this,c={},g={};C(this.j(),function(h){if(!1!==e.Sg(h)){var l=Ea.m(h).name+"\n"+Y.B(Ea.f(h));g[l]=h}});c.Om=function(h,l){return g[h+"\n"+l]};return c};qg.prototype.Ra=function(e){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(e,this.i)};qg.prototype.Ha=function(e,c,g){return this.o.Ha?this.o.Ha(e,c,g):Promise.resolve()};qg.prototype.ub=function(e,c,g){return this.o.ub(e,c,g)};qg.prototype.Sg=
function(e){var c=Y.B(Ea.f(e)),g;if(!(g="rotationQuaternion"===c)){if(c="position"===c)e=Ea.m(e).name,c="mixamorig:Hips"===this.Ra(e);g=c}return g?!0:!1};qg.prototype.dl=function(e){Ce(e,this.i)};qg.prototype.io=function(){X.normalize(this.g,this.Ia(),this.ua())};qg.prototype.zk=function(e){return new oe(this.pa,this.U,e,this.wa,this.Da,this.i,this.a)};qg.prototype.L=function(e){return this.o.L(e)};qg.prototype.Sa=function(e){return this.o.Sa(e)};qg.prototype.Pa=function(e){return this.o.Pa(e)};qg.prototype.zd=
function(e){this.Bc.zd(e)};qg.prototype.Ad=function(e){this.Bc.Ad(e)};qg.prototype.xk=function(){return rg().vc(this.Hb).$()};qg.prototype.dk=function(){return sg(this.kb,this.i,this.U).uc(this.Hb).$()};qg.prototype.C=function(){var e=this;return new Promise(function(c,g){var h=e.ao.actions;if(Ha(h))c();else{var l=e.speed;h=a(h);var b=e.tj(),d=f(),k=e.Ia(),m=e.ua(),n=e.Ya(e.Ja*m),q=h.length,u=0,S=function(){return new Promise(function(ea,ka){var ma=h[u],na=ma.speed||1,wa=m/l,ta=ma.assetId,Fa=ma.assetPath,
Na=ma.assetType,Ca;(function(){return new Promise(function(Wa,Ia){var La=function(){return{L:function(yb){return e.L(yb)},ob:function(){return null},nb:function(){return null}}}(),vb=e.dk(),hb=e.xk(),tc=function(){var yb=ma.duration,uc=ma.startRatio,lb=ma.endRatio,xd=ma.speed;return tg(Fa).sc(yb).eb(uc).cb(lb).zb(xd).$()}(),Rb=new ug(La,vb,e.wb,tc,e.a,hb,e.g);Rb.yd=function(yb){e.Pa(yb)};Rb.sb().then(function(){function yb(lb){e.zd({propInfoList:lb,startTime:ma.startTime,duration:ma.duration/na,startRatio:ma.startRatio,
endRatio:ma.endRatio,speed:na})}if(Rb.Ee())yb([]);else{var uc=e.Sa(Rb.hb);yb(uc);uc=Rb.xa;null!=uc&&e.Ad(uc)}Wa()})["catch"](function(yb){Ia(yb)})})})().then(function(){var Wa=ma.startTime;Wa+=n;var Ia=ma.duration,La=ma.startRatio||tf.ba,vb=ma.endRatio||tf.aa,hb=!1;tf.isSingleFrameAction(Ia,ma.playCount||1,La,vb)&&ma.repeatDuration&&0<ma.repeatDuration&&(Ia=ma.repeatDuration,hb=!0);var tc=Wa+Ia/na,Rb=ma.blendDuration,yb=ma.blendOutDuration,uc=ma.inPlace,lb=e.V(Wa)*l,xd=e.V(tc);if(0>xd||lb>m)ea();
else{var ee=e.V(Ia);Ca=function(od){return new Promise(function(Nc){function gd(){var Zc=Ef.ca(od)[0];e.Hb&&e.dl(Zc);if(hb){var pd=X.v(Zc),Kd=e.V(Ia);Kd!==pd&&X.normalize(Zc,null,Kd)}if(La!==tf.ba||vb!==tf.aa)Zc=Fe(Zc,La,vb);pd=e.zk(Zc);pd.yb(uc);pd.bb();var hd=d.Fm(ma.overrideBodyParts);C(X.j(Zc),function(qd){if(!1!==e.Sg(qd)){var w=Ea.m(qd).name,U=e.Ra(w);if(hd.contains(U)){var fa=Ea.f(qd);qd=b.Om(w,Y.B(fa));if(null!=qd){var G=Ea.f(qd),ba=Y.h(G);(function(){var ca=lb;null!=Rb&&0<Rb&&(ca-=e.V(Rb*
l));0>ca&&(ca=0);if(0<ca){var va=ca-1;0>va&&(va=ca/2);Y.K(G,va)}va=xd*l;null!=yb&&0<yb&&(va+=e.V(yb*l));va>m&&(va=m);if(va<m){var la=va+1;la>m&&(la=va+(m-va)/2);Y.K(G,la)}ca=ca<=k?Math.min(k+e.Kf(),m):ca;va=va>m?m:va;ca=Y.K(G,ca);va=Y.K(G,va);ba.splice(ca,va-ca+1)})();(function(){var ca=lb+ee>wa?wa-lb:ee,va=Y.K(fa,0>lb?-lb:0);ca=Y.K(fa,ca);var la=Y.h(fa);ca>=la.length&&(ca=la.length-1);for(var ha,ia,qa=va;qa<=ca;qa++){var ra=la[qa];va=function(){var rc=ra.frame;rc/=na/l;return rc+=lb}();0<=va&&(ra.frame=
va,null==ha&&(ha=va),ia=va,ba.push(ra))}null!=ia&&15>ia-ha&&(ha=ba[ba.length-1],va=ha.frame,ia=va+e.Kf(),ia<m&&ba.push({frame:ia,value:ha.value.clone()}));ba.sort(function(rc,tb){return rc.frame-tb.frame})})();Y.K(G,k);Y.K(G,m)}}}})}try{gd(),Nc()}finally{Ef.b(od)}})};return e.Ha(ta,Fa,Na)}}).then(function(){return e.ub(ta,Fa,Na)}).then(function(Wa){return Ca(Wa)}).then(function(){ea()})["catch"](function(Wa){ka(Wa)})})},W=function(){u===q?(e.io(),c()):S().then(function(){u++;W()})["catch"](function(ea){g(ea)})};
W()}})}})();function vg(){this.Db=[];this.xa=[]}vg.prototype.zd=function(a){this.Db.push(a)};vg.prototype.Ad=function(a){this.xa=this.xa.concat(a)};function wg(a,f,e,c){this.Yk=a;this.i=f;this.Gj=e;this.g=c}p=wg.prototype;p.Wn=function(){var a=this;return new Promise(function(f,e){function c(){return new Promise(function(d,k){h.jg(l).then(function(m){d(m)})["catch"](function(m){k(m)})})}function g(){c().then(function(d){f(d)})["catch"](function(d){e(d)})}var h=xg(null);if(null==h)e("expressionDataProvider is null");else{var l=a.i,b=a.Yk;null==b?g():h.Vl(l,b).then(function(d){null==d?g():f(d)})["catch"](function(d){e(d)})}})};p.Vc=function(a){this.Gj.Vc(a)};
p.Ia=function(){return X.R(this.g)};p.ua=function(){return X.v(this.g)};p.ma=function(a,f){X.ma(this.g,a,f)};p.C=function(){var a=this;return new Promise(function(f,e){a.Wn().then(function(c){if(null!=c){var g=a.Ia(),h=a.ua();a.Vc(function(l,b){var d=c[b]||0;var k=tf.FRAME_PER_SECOND;var m=Y.Td();k=Y.create(null,"influence",k,m,void 0,!1);d=[Sb(g,d),Sb(h,d)];Y.ya(k,d);a.ma(k,l)})}f()})["catch"](function(c){e(c)})})};var fe,mf,yg;
fe={"mixamorig:Hips":{w:1,x:0,y:0,z:0},"mixamorig:Spine":{w:.998872697353363,x:-.04746820405125618,y:0,z:0},"mixamorig:Spine1":{w:1,x:2.1097040558970548E-8,y:0,z:0},"mixamorig:Spine2":{w:1,x:7.569126658779624E-9,y:0,z:0},"mixamorig:Neck":{w:.998872697353363,x:.04746817797422409,y:0,z:0},"mixamorig:Head":{w:1,x:-7.583881078687682E-9,y:0,z:0},"mixamorig:HeadTop_End":{w:1,x:0,y:0,z:0},"mixamorig:LeftShoulder":{w:.4278925955295563,x:.5515261888504028,y:.43880894780158997,z:-.5658388137817383},"mixamorig:LeftArm":{w:.9920223355293274,
x:-.125372514128685,y:.004955745302140713,z:.012202877551317215},"mixamorig:LeftForeArm":{w:.9999964237213135,x:8.470238954672027E-10,y:-.0026698021683841944,z:9.274628176569877E-9},"mixamorig:LeftHand":{w:.9977802634239197,x:.0066401222720742226,y:.03733958676457405,z:-.05473822355270386},"mixamorig:LeftHandThumb1":{w:.9506223201751709,x:.2108687460422516,y:.08467505872249603,z:.21138043701648712},"mixamorig:LeftHandThumb2":{w:.9963324069976807,x:4.051882424391806E-4,y:-.004288762342184782,z:.08545885235071182},
"mixamorig:LeftHandThumb3":{w:.9902259707450867,x:-6.312281475402415E-4,y:-.004795566666871309,z:.13938869535923004},"mixamorig:LeftHandThumb4":{w:1,x:-3.508102253135803E-8,y:9.685754776000977E-8,z:-1.1693678914070915E-8},"mixamorig:LeftHandIndex1":{w:.9983327984809875,x:-.008668413385748863,y:-2.5904594804160297E-4,z:.05706537142395973},"mixamorig:LeftHandIndex2":{w:.9999904036521912,x:3.6043030604560045E-7,y:5.255775249679573E-5,z:-.004383080173283815},"mixamorig:LeftHandIndex3":{w:.9999998211860657,
x:-1.1855897810164606E-6,y:2.3420894649461843E-5,z:5.466053262352943E-4},"mixamorig:LeftHandIndex4":{w:1,x:1.7403537378585243E-12,y:9.313224635931761E-10,z:1.6208305219356807E-21},"mixamorig:LeftHandMiddle1":{w:.9983265399932861,x:-.00867488794028759,y:-1.2975693971384317E-4,z:.05717437341809273},"mixamorig:LeftHandMiddle2":{w:.9999877214431763,x:1.3929708302384824E-6,y:4.846076626563445E-5,z:-.00495553994551301},"mixamorig:LeftHandMiddle3":{w:.9999988079071045,x:-1.5046884982439224E-6,y:8.84056935319677E-5,
z:.0015294429613277316},"mixamorig:LeftHandMiddle4":{w:1,x:-4.582888755988446E-12,y:-1.862645149230957E-9,z:3.9770156612384255E-10},"mixamorig:LeftHandRing1":{w:.9985055327415466,x:-.008352326229214668,y:-.005954119376838207,z:.05367999151349068},"mixamorig:LeftHandRing2":{w:.9999991059303284,x:-1.0474824421180529E-6,y:-9.117454465012997E-5,z:-.0013388805091381073},"mixamorig:LeftHandRing3":{w:.9999831318855286,x:1.5274671341103385E-6,y:-1.96895984117873E-4,z:.005800379440188408},"mixamorig:LeftHandRing4":{w:1,
x:1.4760295416471614E-11,y:0,z:1.6230381483239853E-9},"mixamorig:LeftHandPinky1":{w:.9984472393989563,x:-.008452647365629673,y:-.00425378605723381,z:.054895974695682526},"mixamorig:LeftHandPinky2":{w:.9999937415122986,x:-4.038021472752007E-7,y:-2.1630027913488448E-4,z:-.003530306275933981},"mixamorig:LeftHandPinky3":{w:.9999786615371704,x:5.258552846498787E-7,y:-4.3696727516362444E-5,z:.006536003202199936},"mixamorig:LeftHandPinky4":{w:1,x:-8.13862345572236E-12,y:1.862645371275562E-9,z:-7.692878001286374E-10},
"mixamorig:RightShoulder":{w:.42824989557266235,x:.5520950555801392,y:-.43836450576782227,z:.5653579831123352},"mixamorig:RightArm":{w:.9920229315757751,x:-.12545767426490784,y:-.0048871892504394054,z:-.011269839480519295},"mixamorig:RightForeArm":{w:.9999970197677612,x:2.53465665123187E-10,y:.0024429485201835632,z:-2.7857820494858743E-9},"mixamorig:RightHand":{w:.9979417324066162,x:.013079379685223103,y:-.0385211780667305,z:.04957203567028046},"mixamorig:RightHandThumb1":{w:.9525074362754822,x:.203809916973114,
y:-.08618967235088348,z:-.20919474959373474},"mixamorig:RightHandThumb2":{w:.9935000538825989,x:1.9399829034227878E-4,y:.003167405491694808,z:-.11378810554742813},"mixamorig:RightHandThumb3":{w:.9986008405685425,x:-1.2691935990005732E-4,y:.0011996077373623848,z:-.052867621183395386},"mixamorig:RightHandThumb4":{w:1,x:-3.5541990683896074E-8,y:2.2351741790771484E-8,z:-7.944254249662303E-16},"mixamorig:RightHandIndex1":{w:.9985501170158386,x:-.01494995690882206,y:6.461840239353478E-4,z:-.051707908511161804},
"mixamorig:RightHandIndex2":{w:.9999917149543762,x:9.585432962921914E-7,y:-8.157760021276772E-5,z:.004064858425408602},"mixamorig:RightHandIndex3":{w:.9999999403953552,x:-8.640598139209033E-7,y:1.5767293007229455E-5,z:3.0760481604374945E-4},"mixamorig:RightHandIndex4":{w:1,x:2.4564131111126652E-12,y:0,z:0},"mixamorig:RightHandMiddle1":{w:.9986010789871216,x:-.0149061419069767,y:.0015795007348060608,z:-.05070759356021881},"mixamorig:RightHandMiddle2":{w:.999993622303009,x:1.3764935147264623E-6,y:1.815974246710539E-5,
z:.0035819390323013067},"mixamorig:RightHandMiddle3":{w:.9999979138374329,x:-1.2704208529612515E-6,y:-6.887859490234405E-5,z:-.0020491546019911766},"mixamorig:RightHandMiddle4":{w:1,x:-2.0672534864485392E-12,y:0,z:-2.544311983321279E-10},"mixamorig:RightHandRing1":{w:.9986846446990967,x:-.014642230235040188,y:.006872705649584532,z:-.04865517467260361},"mixamorig:RightHandRing2":{w:.9999992847442627,x:1.2899932926302426E-6,y:6.182301149237901E-5,z:.0012003955198451877},"mixamorig:RightHandRing3":{w:.9999909996986389,
x:-1.1895832585651078E-6,y:8.950767369242385E-5,z:-.004237991292029619},"mixamorig:RightHandRing4":{w:1,x:1.939939311620953E-12,y:0,z:-1.986497771833129E-10},"mixamorig:RightHandPinky1":{w:.9985767602920532,x:-.014797168783843517,y:.003859465243294835,z:-.05109375715255737},"mixamorig:RightHandPinky2":{w:.9999899864196777,x:-1.791126123862341E-6,y:4.416379670146853E-5,z:.00447008665651083},"mixamorig:RightHandPinky3":{w:.9999967217445374,x:-1.1846174174934276E-6,y:-1.3540270447265357E-4,z:-.0025576262269169092},
"mixamorig:RightHandPinky4":{w:1,x:-1.0854180374593111E-13,y:0,z:-1.389335035906214E-10},"mixamorig:LeftUpLeg":{w:.008537337183952332,x:.0034817124251276255,y:.041486866772174835,z:-.9990965127944946},"mixamorig:LeftLeg":{w:.9998201727867126,x:.005689653567969799,y:-9.921710443450138E-5,z:-.01809167116880417},"mixamorig:LeftFoot":{w:.8496170043945312,x:.5166261792182922,y:-.06570420414209366,z:.08325472474098206},"mixamorig:LeftToeBase":{w:.9556435346603394,x:.2925143837928772,y:-.03285763040184975,
z:.010057476349174976},"mixamorig:LeftToe_End":{w:1,x:-1.1271390931710812E-8,y:1.1641533959050321E-8,z:-1.5028520650162136E-8},"mixamorig:RightUpLeg":{w:.008525162003934383,x:.003605467965826392,y:-.042979683727025986,z:.9990330934524536},"mixamorig:RightLeg":{w:.9998337626457214,x:.0021865705493837595,y:3.4629807487362996E-5,z:.018103253096342087},"mixamorig:RightFoot":{w:.8444916605949402,x:.525370180606842,y:.06300411373376846,z:-.08276784420013428},"mixamorig:RightToeBase":{w:.9569758176803589,
x:.2874320447444916,y:.03807004541158676,z:-.011434516869485378},"mixamorig:RightToe_End":{w:1,x:-2.2529473397980837E-8,y:-8.754429359214555E-8,z:8.260809636340127E-8}};
mf={"mixamorig:Hips":{c:1,x:0,y:0,z:0},"mixamorig:Spine":{c:.9988727623756081,x:-.047468086310256626,y:0,z:0},"mixamorig:Spine1":{c:.9988727623756081,x:-.047468086310256626,y:0,z:0},"mixamorig:Spine2":{c:.9988727623756081,x:-.047468086310256626,y:0,z:0},"mixamorig:Neck":{c:1,x:3.708502616106557E-9,y:0,z:0},"mixamorig:Head":{c:1,x:3.708502616106557E-9,y:0,z:0},"mixamorig:HeadTop_End":{c:1,x:3.708502616106557E-9,y:0,z:0},"mixamorig:LeftShoulder":{c:-.4524719942482324,x:-.5313765940925935,y:-.4104429450328143,
z:.5868941472684575},"mixamorig:LeftArm":{c:-.492055192665323,x:-.4774895844206699,y:-.4768149830198854,z:.5500300184505597},"mixamorig:LeftForeArm":{c:.5465620959410201,x:.4835191673678029,y:.4677034568001016,z:-.4987313046345702},"mixamorig:LeftHand":{c:.46983579086102145,x:.5589961256635512,y:.48899969498709506,z:-.47713429324907786},"mixamorig:LeftHandThumb1":{c:.4701317292812204,x:.7569817827044008,y:.25830013419642417,z:-.3731433077440103},"mixamorig:LeftHandThumb2":{c:.4352266007724008,x:.7775754583254206,
y:.24106640061439694,z:-.38450138773511866},"mixamorig:LeftHandThumb3":{c:.46343350410701617,x:.7611014628151692,y:.2549972436065243,z:-.3754070850142933},"mixamorig:LeftHandThumb4":{c:.46343350410701617,x:.7611014628151692,y:.2549972436065243,z:-.3754070850142933},"mixamorig:LeftHandIndex1":{c:.4942492382271149,x:.6009908210791127,y:.4399097186120541,z:-.4483384003210124},"mixamorig:LeftHandIndex2":{c:.45617758166839195,x:.6303763740253394,y:.4113721185104324,z:-.47465857432790126},"mixamorig:LeftHandIndex3":{c:.46112207078395706,
x:.6267686822126399,y:.41509307532443707,z:-.47140781524201314},"mixamorig:LeftHandIndex4":{c:.46112207078395706,x:.6267686822126399,y:.41509307532443707,z:-.47140781524201314},"mixamorig:LeftHandMiddle1":{c:.46908863735009537,x:.5615635998502309,y:.48625467840374814,z:-.47765962917236277},"mixamorig:LeftHandMiddle2":{c:.4123214797876316,x:.6044744032922962,y:.43755608254644607,z:-.5226341765810011},"mixamorig:LeftHandMiddle3":{c:.4303647294834545,x:.5917637378240606,y:.45311966563591755,z:-.5091999131474596},
"mixamorig:LeftHandMiddle4":{c:.4303647294834545,x:.5917637378240606,y:.45311966563591755,z:-.5091999131474596},"mixamorig:LeftHandRing1":{c:.41442734019794536,x:.5833572354149118,y:.4603685291687403,z:-.5253620713288362},"mixamorig:LeftHandRing2":{c:.3964368476349906,x:.5957294126088527,y:.444125966640844,z:-.5391628539486092},"mixamorig:LeftHandRing3":{c:.47174057835660854,x:.5380676529507209,y:.5115296850249997,z:-.47569065679024036},"mixamorig:LeftHandRing4":{c:.47174057835660854,x:.5380676529507209,
y:.5115296850249997,z:-.47569065679024036},"mixamorig:LeftHandPinky1":{c:.4265830638488518,x:.5755027279803665,y:.4702514575804616,z:-.5154485690079252},"mixamorig:LeftHandPinky2":{c:.37947436502670334,x:.6075983094060412,y:.42777941438305717,z:-.5512063383898093},"mixamorig:LeftHandPinky3":{c:.4649028726960382,x:.5450153031464567,y:.5043666441279466,z:-.48211835018953797},"mixamorig:LeftHandPinky4":{c:.4649028726960382,x:.5450153031464567,y:.5043666441279466,z:-.48211835018953797},"mixamorig:RightShoulder":{c:.4528556966437849,
x:.5319281039995847,y:-.41001949986102215,z:.5863943822111105},"mixamorig:RightArm":{c:.4924558102182281,x:.4779788094891449,y:-.4763976717759121,z:.5496079887475681},"mixamorig:RightForeArm":{c:.5439673638454077,x:.4810716920920789,y:-.4707303728693767,z:.5010816921021266},"mixamorig:RightHand":{c:.4743445264329566,x:.5636524210300324,y:-.48532590011889226,z:.4709057278109279},"mixamorig:RightHandThumb1":{c:.4784029667031614,x:.7623687367332884,y:-.25020156009679956,z:.3568247057061887},"mixamorig:RightHandThumb2":{c:.4385907430219486,
x:.7859472825899536,y:-.23153308843523612,z:.3692121602957299},"mixamorig:RightHandThumb3":{c:.44754351965504374,x:.7808838272273615,y:-.23573693498887502,z:.3665426294874786},"mixamorig:RightHandThumb4":{c:.44754351965504374,x:.7808838272273615,y:-.23573693498887502,z:.3665426294874786},"mixamorig:RightHandIndex1":{c:.48005526203058724,x:.5887494214600759,y:-.4573558642837215,z:.4623276779845192},"mixamorig:RightHandIndex2":{c:.44154960002385385,x:.6181529587988349,y:-.42695489370168577,z:.49054109425761455},
"mixamorig:RightHandIndex3":{c:.4383932470025865,x:.620395507831715,y:-.42444888726191793,z:.49271094885428307},"mixamorig:RightHandIndex4":{c:.4383932470025865,x:.620395507831715,y:-.42444888726191793,z:.49271094885428307},"mixamorig:RightHandMiddle1":{c:.4544779115678738,x:.5789013543867917,y:-.46963707269093224,z:.48761081307365906},"mixamorig:RightHandMiddle2":{c:.4148672622047545,x:.6079161448356079,y:-.43607965480522026,z:.5178395929153089},"mixamorig:RightHandMiddle3":{c:.4377599190394624,
x:.5916445177187691,y:-.4555200060668634,z:.5008240989471607},"mixamorig:RightHandMiddle4":{c:.4377599190394624,x:.5916445177187691,y:-.4555200060668634,z:.5008240989471607},"mixamorig:RightHandRing1":{c:.4084596550626845,x:.5770254227424931,y:-.4679307100743545,z:.5303238876923921},"mixamorig:RightHandRing2":{c:.39174013063361784,x:.588504501194291,y:-.4525260448871461,z:.5435278385428551},"mixamorig:RightHandRing3":{c:.4491744027822564,x:.545930443789478,y:-.5051071447456561,z:.4950447714571851},
"mixamorig:RightHandRing4":{c:.4491744027822564,x:.545930443789478,y:-.5051071447456561,z:.4950447714571851},"mixamorig:RightHandPinky1":{c:.4259108194213335,x:.5651437336870043,y:-.48299044881188513,z:.5156869127391858},"mixamorig:RightHandPinky2":{c:.3692957721894041,x:.6036624128104403,y:-.43088799509070247,z:.5599536224033989},"mixamorig:RightHandPinky3":{c:.40318788083435564,x:.581573231657943,y:-.4621816255841232,z:.534416036007544},"mixamorig:RightHandPinky4":{c:.40318788083435564,x:.581573231657943,
y:-.4621816255841232,z:.534416036007544},"mixamorig:LeftUpLeg":{c:-.04609672021096437,x:-.0019221789506009624,y:-.04158855924688755,z:.9980690462818749},"mixamorig:LeftLeg":{c:-.028025110051595123,x:-.001326689978020031,y:-.03593231269811506,z:.9989603196059055},"mixamorig:LeftFoot":{c:-.07605344322141946,x:.06533226693225824,y:.48540126700036795,z:.8685235479634634},"mixamorig:LeftToeBase":{c:-.08457723837546988,x:.07360947102796539,y:.7197643306351615,z:.6851040916736681},"mixamorig:LeftToe_End":{c:-.08457723837546988,
x:.07360947102796539,y:.7197643306351615,z:.6851040916736681},"mixamorig:RightUpLeg":{c:.04608224307663588,x:.001978129952889874,y:-.04308396842523311,z:.9980061666469179},"mixamorig:RightLeg":{c:.028005107340334,x:.0012522188649900963,y:-.04092873601898875,z:.9987687488223644},"mixamorig:RightFoot":{c:.0757082507598853,x:-.06222468607868519,y:.49003827783234766,z:.8661748799041128},"mixamorig:RightToeBase":{c:.08158236694895143,x:-.07636294430291335,y:.7200900115111961,z:.6848237016613314},"mixamorig:RightToe_End":{c:.08158236694895143,
x:-.07636294430291335,y:.7200900115111961,z:.6848237016613314}};
yg={"mixamorig:Hips":{x:-1.5707963267948966,y:0,z:0},"mixamorig:Spine":{x:-.09497190291040665,y:0,z:0},"mixamorig:Spine1":{x:-7.450581485102248E-9,y:0,z:0},"mixamorig:Spine2":{x:7.450581485102248E-9,y:0,z:0},"mixamorig:Neck":{x:.09497192533802137,y:0,z:0},"mixamorig:Head":{x:-1.5167787026371116E-8,y:0,z:0},"mixamorig:HeadTop_End":{x:0,y:0,z:0},"mixamorig:LeftShoulder":{x:1.3156540057644164,y:-1.544555378571899,z:-3.1411568538212564},"mixamorig:LeftArm":{x:-.1992360210320331,y:.007095496938308508,
z:-.03583523075038645},"mixamorig:LeftForeArm":{x:-.08454168448332305,y:-.010656694749552898,z:.12554161718415882},"mixamorig:LeftHand":{x:.11507296581500771,y:.192304354651122,z:.008176369409367498},"mixamorig:LeftHandThumb1":{x:.2674190019799284,y:.1741867253065556,z:.5875056888392549},"mixamorig:LeftHandThumb2":{x:.09096896870074696,y:8.896146088468095E-7,z:6.405726370081794E-7},"mixamorig:LeftHandThumb3":{x:-.07331998587640408,y:1.096381187960466E-6,z:5.174687013770829E-7},"mixamorig:LeftHandThumb4":{x:-9.536768229969788E-7,
y:-2.864747405070031E-6,z:-1.7499538653672733E-6},"mixamorig:LeftHandIndex1":{x:.030602462858328437,y:.004515572228410206,z:.14652628032751072},"mixamorig:LeftHandIndex2":{x:.12363126034613432,y:-2.0233535112612156E-7,z:-6.446656389609913E-9},"mixamorig:LeftHandIndex3":{x:-.01573255125928328,y:3.125124845403518E-7,z:5.284284149769865E-7},"mixamorig:LeftHandIndex4":{x:-4.563480564268031E-8,y:-2.9802323173958735E-8,z:3.4458935940784314E-8},"mixamorig:LeftHandMiddle1":{x:.006384934791890548,y:2.8005595411137925E-5,
z:.004373826555700002},"mixamorig:LeftHandMiddle2":{x:.1945747817124884,y:1.1179890583963509E-7,z:2.736950912347268E-7},"mixamorig:LeftHandMiddle3":{x:-.060327579944276684,y:-2.801511631270863E-7,z:-2.460296328997371E-7},"mixamorig:LeftHandMiddle4":{x:2.0023431901699364E-8,y:-1.5366820574260658E-8,z:1.3038514114411618E-8},"mixamorig:LeftHandRing1":{x:.15938523808615357,y:-.006835255479263236,z:-.04304231821324431},"mixamorig:LeftHandRing2":{x:.06102797079242072,y:-3.815788096075208E-8,z:-8.95916992558509E-8},
"mixamorig:LeftHandRing3":{x:-.26528644773341215,y:3.0666638130604945E-7,z:-3.480378930355415E-7},"mixamorig:LeftHandRing4":{x:7.566995907861653E-8,y:-1.0392977864027839E-7,z:-2.095479725065875E-9},"mixamorig:LeftHandPinky1":{x:.1192269580673516,y:-.004823820306612185,z:-.04053583962082332},"mixamorig:LeftHandPinky2":{x:.15919053316730591,y:5.7396450131221535E-8,z:1.6437891828038645E-7},"mixamorig:LeftHandPinky3":{x:-.2959309989973337,y:-7.403846110706664E-8,z:-5.228061598936302E-7},"mixamorig:LeftHandPinky4":{x:-2.1071171471939893E-8,
y:1.5716067655304067E-9,z:-3.0267979399688933E-9},"mixamorig:RightShoulder":{x:1.315476484824679,y:1.546459455139359,z:3.1411937291394665},"mixamorig:RightArm":{x:-.1992404453994426,y:-.007125371617640997,z:.03598609520361866},"mixamorig:RightForeArm":{x:-.08581602661007935,y:.009758043428714535,z:-.1133654596829817},"mixamorig:RightHand":{x:.11070698997760249,y:-.1959498404771152,z:-.03782229458497844},"mixamorig:RightHandThumb1":{x:.2562724242910343,y:-.1745034568427973,z:-.6077128005695918},"mixamorig:RightHandThumb2":{x:.10282715869275964,
y:7.994576452913529E-7,z:4.744171900349242E-7},"mixamorig:RightHandThumb3":{x:-.02285140006964371,y:9.73727146439412E-7,z:5.384259997082248E-7},"mixamorig:RightHandThumb4":{x:8.791660539901076E-7,y:-2.7660285819332873E-6,z:-1.7350550587205806E-6},"mixamorig:RightHandIndex1":{x:.03532805935860137,y:-.0024575583671376604,z:-.06947619233586314},"mixamorig:RightHandIndex2":{x:.12757303657454883,y:-1.5954330731244424E-7,z:-3.8244200643650946E-8},"mixamorig:RightHandIndex3":{x:.010190562535834094,y:2.926450891808809E-7,
z:3.9676341094374846E-8},"mixamorig:RightHandIndex4":{x:-2.1420419945607228E-8,y:5.4016709038432594E-8,z:2.7008354085318578E-8},"mixamorig:RightHandMiddle1":{x:.06786629870171089,y:1.4090285672500565E-4,z:.0020770471246292503},"mixamorig:RightHandMiddle2":{x:.13345355630542857,y:1.2806751420965036E-7,z:-2.5337661430232317E-7},"mixamorig:RightHandMiddle3":{x:-.07632812099361651,y:-1.0564696505011498E-7,z:3.108160475550064E-8},"mixamorig:RightHandMiddle4":{x:-2.6775520498706348E-8,y:7.450579596530512E-9,
z:8.381902183614314E-9},"mixamorig:RightHandRing1":{x:.1607341890891496,y:.014000609648769773,z:.08726486772492531},"mixamorig:RightHandRing2":{x:.057373586947990954,y:1.2785980027603898E-7,z:-7.70296494870675E-8},"mixamorig:RightHandRing3":{x:-.2023364782979056,y:-9.425122887154659E-8,z:-1.5672500955015994E-7},"mixamorig:RightHandRing4":{x:-4.476168413054663E-8,y:-3.6070556235861924E-9,z:3.594322698046345E-9},"mixamorig:RightHandPinky1":{x:.10145176907770946,y:.008587185860862236,z:.08458832481208997},
"mixamorig:RightHandPinky2":{x:.19360284029126218,y:-4.105414700697029E-9,z:-2.416529570034337E-7},"mixamorig:RightHandPinky3":{x:-.11435195515290157,y:-3.678300819217988E-7,z:-8.78757551236502E-9},"mixamorig:RightHandPinky4":{x:-1.0477387902091354E-9,y:-1.3242247254490772E-9,z:-8.440111719937474E-9},"mixamorig:LeftUpLeg":{x:.08328909530388956,y:7.640686892517434E-6,z:-3.0492857299890206},"mixamorig:LeftLeg":{x:.011373391758428837,y:-4.163986280318869E-4,z:-.03618847244768612},"mixamorig:LeftFoot":{x:1.0857304145640234,
y:-.19359101521206096,z:1.284542194535555E-6},"mixamorig:LeftToeBase":{x:.5940614555885785,y:-.06873967277683787,z:4.332980260390582E-7},"mixamorig:LeftToe_End":{x:4.0000333484571365E-7,y:5.825421678216307E-7,z:-7.972121210482402E-7},"mixamorig:RightUpLeg":{x:.08628804953066395,y:4.638055859229687E-6,z:3.049311008309497},"mixamorig:RightLeg":{x:.004370815094213717,y:1.720843717969996E-4,z:.03620884881283526},"mixamorig:RightFoot":{x:1.1063203738704046,y:.18846584898645308,z:2.8078505738179886E-7},
"mixamorig:RightToeBase":{x:.5835584756225158,y:.07952107705522374,z:-5.268125550987427E-8},"mixamorig:RightToe_End":{x:-2.3166526725785226E-8,y:-5.301553809448441E-7,z:4.614412380324341E-7}};var zg;
zg={leftThumbMetacarpal:[0,0,-.234153,.972199],leftIndexProximal:[.003996,-.042799,-.092886,.994748],leftMiddleProximal:[.003996,-.042799,-.092886,.994748],leftRingProximal:[.003996,-.042799,-.092886,.994748],leftLittleProximal:[.003996,-.042799,-.092886,.994748],rightThumbMetacarpal:[0,0,.234153,.972199],rightIndexProximal:[.003996,.042799,.092886,.994748],rightMiddleProximal:[.003996,.042799,.092886,.994748],rightRingProximal:[.003996,.042799,.092886,.994748],rightLittleProximal:[.003996,.042799,
.092886,.994748]};var Ag;
Ag={J_Bip_L_Thumb1:[-.029002079740166664,.11686861515045166,.2324834167957306,.9651176333427429],J_Bip_R_Thumb1:[-.029002079740166664,-.11686861515045166,-.2324834167957306,.9651176333427429],J_Bip_L_Thumb2:[6.874939728618301E-9,.04325899854302406,-7.45756256748109E-9,.9990639090538025],J_Bip_R_Thumb2:[6.874939728618301E-9,-.04325899854302406,7.45756256748109E-9,.9990639090538025],J_Bip_L_Index1:[-2.0802879419079545E-9,-.020422078669071198,7.137113816613194E-12,.9997914433479309],J_Bip_R_Index1:[-2.0802879419079545E-9,.020422078669071198,
-7.137113816613194E-12,.9997914433479309]};var xg;
(function(){var a=null;xg=function(f){function e(b,d){return new Promise(function(k,m){g(b).then(function(n){return h(n,d)}).then(function(n){return l(n)}).then(function(n){k(n)})["catch"](function(n){m(n)})})}if(null!=a)return a;a={};var c=f["character_expression.json"],g=function(){var b=null;return function(d){return new Promise(function(k,m){if(null!=b)k(b[d]);else{var n="https://content-global.visual-paradigm.com/asset/logicals?filter="+encodeURIComponent(JSON.stringify({parentId:"769c4d6c-da6c-4894-9066-b80efe611d95"}));ic(n).then(function(q){b=
{};C(q,function(u){b[u.name]=u.id});k(b[d])})["catch"](function(q){m(q)})}})}}(),h=function(){var b={};return function(d,k){return new Promise(function(m,n){var q=b[d];null!=q?m(q[k]):(q="https://content-global.visual-paradigm.com/asset/assets?filter="+encodeURIComponent(JSON.stringify({allLogicalIds:d})),ic(q).then(function(u){var S={};b[d]=S;C(u,function(W){S[W.name]=W.path});m(S[k])})["catch"](function(u){n(u)}))})}}(),l=function(){var b={},d={};return function(k){var m=b[k];if(null!=m)return Promise.resolve(m);
if(d[k])return d[k];d[k]=new Promise(function(n,q){ic("https://static.visual-paradigm.com"+k).then(function(u){u=u.shapeKeys;b[k]=u;u.id=k;n(u)})["catch"](function(u){q(u)})["finally"](function(){delete d[k]})});return d[k]}}();a.Vl=function(b,d){return new Promise(function(k,m){if(null==d)k(null);else{var n=c[b];null==n?k(null):e(n.tag,d+".json").then(function(q){k(q)})["catch"](function(q){m(q)})}})};a.jg=function(b){return new Promise(function(d,k){var m=c[b];null==m?d(null):e(m.tag,m["default"]).then(function(n){d(n)})["catch"](function(n){k(n)})})};
return a}})();var Bg;
(function(){function a(){return new Promise(function(d,k){f().then(function(){return e()}).then(function(){return Xc("https://static.visual-paradigm.com/asset/df/dff35219-3aa5-4ea5-a10a-5192910473df/hand-to-prop-mapping.csv")}).then(function(m){m=m.trim();var n=self.Papa.parse(m);d(function(){for(var q={},u=n.data,S=u.length,W={},ea=1;ea<S;ea++){var ka=u[ea],ma=b[ka[0]];null!=ma&&(ka=ka[1],W[ka]={Pe:ka,Kg:ma})}q.Mg=function(na){return null!=W[na]};q.fe=function(na){na=l[na];return null==na?null:W[na]};
return q}())})["catch"](function(m){k(m)})})}function f(){return new Promise(function(d,k){mc({parentId:"d861f9f7-fc58-4ed6-a9f9-3a9f3cfa8516"}).then(function(m){C(m,function(n){l[n.id]=n.name});d()})["catch"](function(m){k(m)})})}function e(){return new Promise(function(d,k){mc({parentId:"eae2fba2-d263-4335-b859-784e35f79a7e"}).then(function(m){C(m,function(n){b[n.name]=n.id});d()})["catch"](function(m){k(m)})})}var c=null,g=function(){var d={},k=[];d.add=function(m,n){var q={};q.resolve=m;q.reject=
n;k.push(q)};d.Oo=function(m){C(k,function(n){n.resolve(m)})};d.Co=function(m){C(k,function(n){n.reject(m)})};return d}(),h=!1,l={},b={};Bg=function(){return new Promise(function(d,k){null!=c?d(c):(g.add(d,k),h||(h=!0,a().then(function(m){c=m;g.Oo(c)})["catch"](function(m){g.Co(m)})))})}})();var Cg;
(function(){function a(f){var e={},c=function(g){function h(b){return b.trim().split(";").map(function(d){return d.trim().split("-").map(function(k){return parseInt(k)})})}var l=new Map;g.slice(1).forEach(function(b){var d=b[3];d&&(d=h(d));var k=b[4]&&h(b[4]),m=b[1];b={familyName:b[0].replaceAll("-","_"),propsFileName:b[2],detachFrames:d,hiddenFrames:k};(d=l.get(m))?d.push(b):l.set(m,[b])});return l}(f);e.zg=function(g){return c.get(g)};e.Wl=function(g){return g&&g.familyName};e.Hm=function(g){return g?g.propsFileName:
g};e.Gm=function(g){return g?g.detachFrames:g};e.Im=function(g){return g&&g.hiddenFrames};return e}Cg=function(){return new Promise(function(f,e){Xc("https://static.visual-paradigm.com/asset/88/88d86fde-23ea-4f0c-ba2b-d8acbcdf72c0/props-mapping.csv").then(function(c){return self.Papa.parse(c)}).then(function(c){c=c.data;c=a(c);f(c)})["catch"](function(c){e(c)})})}})();function Dg(a,f,e,c,g){this.o=a;this.kb=f;this.wb=e;this.ud=c;this.i=g}Dg.prototype.L=function(a){return this.o.L(a)};Dg.prototype.Ll=function(){return this.L(this.kb)};Dg.prototype.wl=function(){if(null!=this.o.dg)return this.o.dg()};
Dg.prototype.load=function(){var a=this;return new Promise(function(f,e){a.Ll().then(function(){var c=a.ud,g=c.lastIndexOf("/");c=c.substring(g+1);var h=a.wb;g=a.i;c=h.zg(c);if(null!=c){var l=Wf(g);if(c.every(function(d){return h.Wl(d)!==l})){f(null);return}}if(null==c){var b=a.wl();null!=b&&(g=b.lastIndexOf("/"),c=b.substring(g+1),c=h.zg(c))}if(null==c)f(null);else return Promise.all(c.map(function(d){var k=h.Gm(d),m=h.Im(d);return kf(h.Hm(d)).then(function(n){n&&(k&&(n.detachFrames=Dc(k)),m&&(n.hiddenFrames=
Dc(m),n.originalHiddenFrames=Dc(m)));return n})}))}).then(function(c){f(c)})["catch"](function(c){e(c)})})};function ug(a,f,e,c,g,h,l){this.o=a;this.Fa=f;this.wb=e;this.W=c;this.a=g;this.Qb=h;this.g=l;this.Ng=!1}var rg,sg,tg,Eg,Fg;(function(){var a=new Map;Eg=function(f){return new Promise(function(e,c){if(f.nj)e();else{var g=a.get(f);null==g&&(g=[],a.set(f,g));g.push({resolve:e,reject:c})}})};Fg=function(f){f.nj=!0;var e=a.get(f);null!=e&&(a["delete"](f),C(e,function(c){c.resolve()}))}})();
tg=function(a){var f={},e,c,g,h,l,b;f.bd=function(d){e=d;return this};f.cd=function(d){c=d;return this};f.sc=function(d){g=d;return this};f.eb=function(d){h=d;return this};f.cb=function(d){l=d;return this};f.zb=function(d){b=d;return this};f.$=function(){return{Hi:a,ud:e,uf:c,duration:g,Ja:h,Ka:l,speed:b}};return f};
rg=function(){var a={},f=!0,e,c=!1,g=!1;a.Uh=function(h){f=h;return this};a.Sh=function(h){e=h;return this};a.vc=function(h){c=h;return this};a.Nh=function(h){g=h;return this};a.$=function(){return{gq:f,xo:e,Vf:c,Tc:g}};return a};sg=function(a,f,e){var c={},g=!1,h=!1;c.uc=function(l){g=l;return this};c.dd=function(l){h=l;return this};c.$=function(){return{kb:a,i:f,U:e,el:g,fl:h}};return c};p=ug.prototype;
p.cm=function(){var a=this.W.uf;return!1===Ha(a)&&(a=Ec(a,function(f){return f.type===ng}),null!=a)?a:null};
p.Tn=function(){var a=this;return new Promise(function(f,e){var c=a.cm();if(null==c)f();else{null==a.td&&(a.td=[]);var g=[];["right","left"].map(function(h){var l=c[h];if(null!=l&&"props"==l.type){var b=l.assetId;null!=b&&g.push(Bg().then(function(d){return d.fe(b)}).then(function(d){return kf(d.Pe)}).then(function(d){a.td.push({la:d,Wa:"right"===h?"mixamorig:RightHand":"mixamorig:LeftHand"})}))}});Promise.all(g).then(f)["catch"](e)}})};
p.sb=function(){var a=this;return new Promise(function(f,e){a.Tn().then(function(){return a.mk().load()}).then(function(c){a.hb=c;var g=a.W.Ja,h=a.W.Ka;null!=g&&null!=h&&(g>tf.ba||h<tf.aa)&&!Ha(a.hb)&&a.hb.forEach(function(l){var b=l.hiddenFrames;if(null!=b&&b.length){l=a.Ib();var d=a.W.speed||1,k=tf.V(g*l*d),m=tf.V(h*l*d),n=[k,m];b.forEach(function(q,u){if(!(k<=q[0]&&m>=q[1])){var S=Mc(q,n);null==S?b.splice(u,1):(q[0]=S[0]-k,q[1]=S[1]-k)}})}});return a.bn()}).then(function(){f()})["catch"](function(c){e(c)})})};
p.Mi=function(a){null==this.Fd&&(this.Fd=[]);this.Fd.push(a)};p.uk=function(){var a=this,f={L:function(c){return a.L(c)}},e=this.W.ud;null!=e&&(f.dg=function(){return e});return f};p.af=function(a){this.Bf=a};p.mk=function(){return new Dg(this.uk(),this.Fa.kb,this.wb,this.W.Hi,this.Fa.i)};p.L=function(a){return this.o.L(a)};p.Ib=function(){return this.W.duration};p.ob=function(){return this.o.ob()};p.nb=function(){return this.o.nb()};p.yg=function(){return this.ob()||this.nb()};
p.bn=function(){var a=this;return new Promise(function(f,e){if(a.Qb.Tc){var c=[],g=a.yg();g&&g.forEach(function(h){var l=h.la;if(l){c.push(l);var b=h.attachToGestures;if(b){var d=function(){var m={},n={};(function(){var q=a.W.uf;Ha(q)||C(q,function(u){u.type===mg&&Da(u.boneRotations,function(S,W){n[S]=W})})})();m.get=function(q){return n[q]};return m}(),k=function(m){m=Ea.m(m);return Ba.getName(m)};a.j().forEach(function(m){if("rotationQuaternion"===Y.B(Ea.f(m))){var n=k(m),q=b[n];if(null!=q){var u=
q.x,S=q.y,W=q.z,ea=q.w;(function(){var ka=d.get(n);if(null!=ka){var ma=Ed(q);ka=Ed(ka);ma=ud(ma,ka);u=ma.x;S=ma.y;W=ma.z;ea=ma.w;a.Mi(n)}})();Y.h(Ea.f(m)).forEach(function(ka){ka=Ue.va(ka);ka.x=u;ka.y=S;ka.z=W;ka.w=ea})}}})}}});a.hb=c}a.Ee()&&Ha(a.Bf)?f():(a.$c=function(){var h=a.Sa(),l=a.Bf;if(Ha(l))return h;var b=[];b=b.concat(h);var d=nd(a.Ib(),a.W.Ja,a.W.Ka,1),k=a.W.speed||1;C(l,function(m){var n=m.propInfoList,q=m.startTime,u=m.duration,S=q+u,W=m.startRatio,ea=m.endRatio,ka=m.speed;!1===Ha(n)&&
(C(n,function(ma){var na=ma.la;na.hiddenFrames=function(){function wa(La,vb){ta.push([La,vb])}var ta=[];0<q&&wa(tf.V(0*k),tf.V(q*k));var Fa=na.originalHiddenFrames;if(!Ha(Fa)){var Na=u/(ea-W),Ca=tf.V(q*k),Wa=tf.V(S*k),Ia=Ca-tf.V(Na*W*k);Fa.forEach(function(La){var vb=La[0]+Ia;La=vb+(La[1]-La[0])/ka;vb=Math.max(vb,Ca);La=Math.min(La,Wa);La<=Ca||wa(vb,La)})}wa(tf.V(S*k),tf.V(d*k));return ta}()}),C(h,function(ma){Eg(ma).then(function(){return Promise.all(Ic(n,function(na){return Eg(na)}))}).then(function(){if(!1!==
function(){var wa=!1,ta=ma.Wa;Gc(n,{A:function(){return!1===wa},da:function(Fa){Fa.Wa===ta&&(wa=!0)}});return wa}()){var na=ma.la;null==na.hiddenFrames&&(na.hiddenFrames=[]);na.hiddenFrames.push([tf.V(q*k),tf.V(S*k)])}})["catch"](function(na){console.error(na)})}));b=b.concat(n)});return b}(),a.Ng=!0,!1===a.Qb.gq?f():(a.Pa(),a.Vn().then(function(h){a.xa=h;a.Qe=a.yk();f()})["catch"](function(h){e(h)})))})};
p.yk=function(){var a=this;return{s:function(f){null!=a.xa&&(a.kc(function(e){e.Qk=f;Z.s(e,f)}),a.rh(f))}}};p.rh=function(){};p.Pa=function(){this.yd(this.hb)};p.yd=function(){};p.Ee=function(){return Ha(this.hb)};p.Lb=function(){return this.$c};p.Mc=function(){return this.td};p.Sa=function(){return this.Ee()?[]:this.hb.map(function(a){return{la:a}})};p.Nb=function(){return this.Ng};p.Yn=function(a){return this.$c.map(a)};
p.Vn=function(){var a=this;return new Promise(function(f,e){Promise.all(a.Yn(function(c){return a.L(c.la.id).then(function(g){return wd(g)}).then(function(g){return a.Ce("",g.J,g.url,null,g.I)}).then(function(g){a.kj(g);return a.dn(g,c)})["catch"](function(g){e(g)})})).then(function(c){f(c)})["catch"](function(c){e(c)})})};p.Ce=function(a,f,e,c,g){return ge.ka(a,f,e,this.a,c,g)};p.kj=function(a){Xf(a,this.Fa.i)};
p.dn=function(a,f){function e(){if(!c.Qb.Tc)return null;var g=c.yg();if(null==g||!g.length)return null;var h=f.la.id;g=g.find(function(l){return l.la.id===h});return null!=g&&null!=g.Wa?g.Wa:null}var c=this;return new Promise(function(g){c.Kj();var h=Ef.H(a)[0],l=f.la.id,b=c.Qb.xo,d=(b&&null!=l?Ec(b,function(W){return W.propsId==l}):null)||{},k=function(){var W=gf(h);c.Qb.Vf&&(W=c.gl(W));return W}(),m=e(),n=m||k,q=c.Vk(n);(function(){null!=c.Fa.U&&(jf({get:function(){return h},set:function(W){h=W}},
c.ek(),{Hf:q,Wa:n},{position:d.propsPosition,scale:d.propsScale,rotation:d.propsRotation},c.Qb.Vf),null!=m&&m.toLowerCase().includes("right")&&k!==m&&lf(h))})();null!=d.propsId&&(d.propsId=l);c.Re(h,l);null!=d.propsId&&(d.propsId=l);Z.s(h,!1);f.attachTo=q;f.Wa=n;f.propsMesh=h;f.propsMeshParent=h?Z.getParent(h):null;Fg(f);if(n){var u={},S=function(W){W=Ea.m(W);return Ba.getName(W)};b=n.includes("mixamorig:RightHand")?function(W){return c.Ra(S(W)).startsWith("mixamorig:RightHand")&&"rotationQuaternion"===
Y.B(Ea.f(W))}:n.includes("mixamorig:LeftHand")?function(W){return c.Ra(S(W)).startsWith("mixamorig:LeftHand")&&"rotationQuaternion"===Y.B(Ea.f(W))}:function(W){return S(W)===n&&"rotationQuaternion"===Y.B(Ea.f(W))};c.j(void 0).filter(b).forEach(function(W){var ea=Y.h(Ea.f(W)),ka=Ue.va(ea[ea.length-1])||{};ea=ka.x;var ma=ka.y,na=ka.z;ka=Pb.pb(ka);u[S(W)]={x:ea,y:ma,z:na,w:ka}});f.attachToGestures=u}g(h)})};p.j=function(){return X.j(this.g)};p.Kj=function(){ad(this.a)};
p.gl=function(a){return self.BabylonJsBoneMapper.flipDirectionOfBoneName(a,this.Fa.i)};p.Vk=function(a){return ff(a,this.Fa.i)};p.ek=function(){return{Gb:this.Fa.U,Wf:this.Fa.el,Xf:this.Fa.fl,i:this.Fa.i}};p.jd=function(a){a.tp(this.Qe)};p.Ra=function(a){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(a,this.Fa.i)};p.Re=function(a,f){a.vb=f};p.Km=function(){return this.xa?this.xa.map(function(a){return a.vb}):[]};
p.Ag=function(a){var f=this.xa,e;null!=f&&(e=f.find(function(c){return c.vb==a}));return e};p.al=function(a){if(!this.Wg())return this.xa.find(a)};p.Wg=function(){return Ha(this.xa)};p.Jm=function(){return this.Wg()?null:this.xa[0].vb};p.hd=function(){null!=this.Qe&&this.Qe.s(!0)};p.kc=function(a){var f=this.xa;null!=f&&f.forEach(function(e){null!=e&&a(e)})};function Gg(a,f,e,c,g,h,l,b,d){this.$c=a;this.Tc=f;this.Cc=e;this.g=c;this.a=g;this.timeline=h;this.speed=l;this.Ja=b;this.Ka=d}p=Gg.prototype;p.Te=function(){Ld.xb(this.a)};p.zp=function(a){this.hl=a};p.ff=function(a){this.nc=a};p.Ia=function(){return X.R(this.g)};p.ua=function(){return X.v(this.g)};
p.qb=function(){var a=this,f=this.$c;if(f&&!this.Tc){var e=a.ua(),c=a.Ja*e,g=(1-a.Ka)*e,h=a.Cc;f.forEach(function(l){var b=l.la;if(null!=b){var d=b.hiddenFrames,k=b.detachFrames;if(!Ha(d)||!Ha(k)){(function(){function n(u){if(Ha(u))return u;var S=!1;$a(u,{A:function(){return!1===S},da:function(W){var ea=W[1];q>=W[0]&&q<=ea&&(S=!0)}});return!1===S?null:[[a.Ia(),a.ua()+1]]}var q=a.hl;null!=q&&(d=n(d),k=n(k))})();var m=function(n,q){if(!1===Ha(n)){var u=[];C(n,function(S,W){function ea(Ca){Ca!==Fa&&
(Fa=Ca,q.ci(Fa,W))}var ka=h+tf.Ya(S[0])/a.speed,ma=h+tf.Ya(S[1])/a.speed,na=ma-ka,wa=0===W&&ka<=h?!0:!1,ta=W===n.length-1&&ma>=Math.floor(h+tf.Ya(e-c-g))?!0:!1;ta&&null!=a.nc&&(na=a.nc-h-ka,na+=.001);var Fa=!1,Na=null;Na=Bf(a.timeline,ka,na,function(){ea(!0)},function(){wa&&0===(null==Na?0:Na.progress())?ea(!0):ta&&1===(null==Na?0:Na.progress())?ea(!0):function(){if(1===u.length)return!0;var Ca=!0;Gc(u,{A:function(){return Ca},da:function(Wa){Wa!==Na&&Wa.zn()&&(Ca=!1)}});return Ca}()&&ea(!1)});Na.zn=
function(){return Fa};Na.wd=function(){Fa=null};u.push(Na);a.Bd(Na,ka)})}};(function(){if(!Ha(d)){var n=l.propsMesh;m(d,{ci:function(q){Z.s(n,!1===q&&n.Qk)}})}})();(function(){if(!Ha(k)){var n=l.propsMesh,q=l.propsMeshParent;m(k,{ci:function(u,S){var W=Z.getParent(n),ea=u?null:q;if(W!=ea)if(null==ea){W=k[S];ea=W[0];W=0<ea?ea-1:W[1]+1;ea=a.g;var ka=Ge(ea);X.Ba(ea,W);a.Te();Z.ea(n,null);X.Ba(ea,ka)}else Z.ea(n,ea)}})}})()}}})}};p.Bd=function(a,f){this.timeline.add(a,f)};function Hg(a,f,e,c,g,h,l,b,d,k){this.o=a;this.an=f;this.a=e;this.i=c;this.U=g;this.pa=h;this.timeline=l;this.Cb=b;this.g=d;this.W=k;this.Ef=!1;this.kf=[]}var Ig;Ig=function(a,f,e,c){return{Cc:a,Ji:f,kn:e,Ii:c}};p=Hg.prototype;p.ff=function(a){this.nc=a};p.Ib=function(){return this.W.Ji};p.Pd=function(){return this.W.Ii};p.Af=function(a){this.kf.push(a)};p.Ae=function(){return!1===Ha(this.kf)};p.Qn=function(a){C(this.kf,function(f){a(f)})};p.Ia=function(){return X.R(this.g)};p.ua=function(){return X.v(this.g)};
p.qb=function(){var a=this;return new Promise(function(f,e){var c=function(){var d={};d=(d.left=[],d.right=[],d);var k=a.an;if(null!=k)for(var m in d)null!=k[m]&&(null==d[m]||d[m].length||d[m].push(k[m]));return d}();if(Ha(c))f();else{var g=function(d){return new Promise(function(k,m){kf(d).then(function(n){return wd(tf.Ac+n.path)}).then(function(n){return ge.ka("",n.J,n.url,a.a,null,n.I)}).then(function(n){Xf(n,a.i);k(n)})["catch"](function(n){m(n)})})},h=function(d,k,m,n){function q(W){W!==u&&(u=
W,Z.s(d,u))}var u=!1,S=0===a.W.kn;1===a.Pd()&&S&&0===m&&0===a.Ib()&&a.ib(function(){q(!0)});return Bf(k,m,n,function(){q(!0)},function(W){null==W&&(W=!1);S&&W||q(!1)})},l=function(d,k){return new Promise(function(m,n){g(k).then(function(q){q=Ef.H(q)[0];q=hf(q,d,a.U,a.i);a.Wb(q,d);Z.s(q,!1);m(q)})["catch"](function(q){n(q)})})},b=[];Da(c,function(d,k){C(k,function(m){var n=m.type,q=null;if("gesture"===n){var u=m.assetId,S=tf.Ac;q=new Promise(function(ka,ma){Jg(S,u,a.pa,a.i,a.g,a.Ia(),a.ua(),d).then(function(){a.bh();
ka()})["catch"](function(na){ma(na)})})}else if("props"===n){var W=a.W.Cc;n=a.Ib();n+=.001;n+.001>=a.Ib()&&(n=null!=a.nc?a.nc-a.W.Cc-.001:n+3600);var ea=n;q=new Promise(function(ka,ma){var na=m.assetId,wa;Bg().then(function(ta){return ta.fe(na)}).then(function(ta){wa=ta.Pe;return Jg(tf.Ac,ta.Kg,a.pa,a.i,a.g,a.Ia(),a.ua(),d)}).then(function(){a.bh();return l(d,wa)}).then(function(ta){var Fa=W+0,Na=h(ta,a.timeline,Fa,ea);a.timeline.add(Na,Fa);a.Af(Na);(function(){var Ca=a.Cb;null!=Ca&&C(Ca.Db,function(Wa){if(!Ha(Wa.propInfoList)){var Ia=
W+Wa.startTime,La=Wa.duration;Wa=function(){function vb(tc){tc!=hb&&(hb=tc,Z.s(ta,!hb))}var hb=!1;return Bf(a.timeline,Ia,La,function(){vb(!0)},function(){vb(!1)})}();a.timeline.add(Wa,Ia);a.Af(Wa)}})})();ka()})["catch"](function(ta){ma(ta)})})}null!=q&&b.push(q)})});Promise.all(b).then(function(){f()})["catch"](function(d){e(d)})}})};p.bh=function(){this.Ef=!0};p.ib=function(a){this.o.ib(a)};p.Wb=function(a,f){this.o.Wb(a,f)};function Kg(a,f,e,c,g){this.U=f;this.pa=e;Hf(this.pa);this.Fb=c;this.i=g;this.Ze=!1;this.pn();this.Qg();this.ln();this.hp(Ed(a));this.nn();this.Ti()}var Lg;p=Kg.prototype;p.Hj=function(){if(!this.Ze){var a=this;this.Ze=!0;this.Pi(function(){a.Ze=!1;a.Qg()})}};p.Dm=function(){var a=this.ta();return Ld.je(a)};p.Pi=function(a){var f=this.Dm();Mg.Ec(f,a)};p.sp=function(a){this.Vj=a};p.ip=function(a){Z.ld(this.Fb,a)};p.hp=function(a){Z.fa(this.Fb,a)};p.ln=function(){var a=Sd.create(4,4,4);this.ip(a)};
p.yh=function(a){return self.BabylonJsBoneMapper.remapBoneName(a,this.i)};p.bl=function(){var a=this.Vj;if(null!=a){var f=this.cg();a(f)}};p.Wi=function(){var a=this;this.no=Mg.add(this.Fg(),function(){a.Fc=!0})};p.Ui=function(){var a=this;this.mo=Mg.add(this.Dg(),function(){a.bl();a.Fc=!1})};p.ec=function(){return this.ta().ai};p.Gd=function(){var a=this.cg();return Ng(a,this.ec(),this.i)};p.ce=function(){return ec.getParent(this.rb)};p.gm=function(){var a=this.ce();return ec.Ga(a,!0)};
p.Vi=function(){var a=this;this.lo=Mg.add(this.Eg(),function(){var f=a.Gd(),e=Sd.create(),c=Pb.create(),g=a.gm();Qb.Qa(g,e,c);c=Pb.tb(c);f=Pb.multiply(c,f);c=a.hm();f=Og(f,e,c);a.Ap(f)});this.eq()};p.gc=function(){return Pg.gc(this.Pc())};p.eq=function(){Qg.s(this.gc(),!1)};p.Ti=function(){this.Wi();this.Vi();this.Ui()};p.nn=function(){this.F=this.lk();this.lj();this.kd(!0);this.xp()};p.xp=function(){Rg.Kh(this.F,!1)};p.Ap=function(a){ec.fa(this.rb,a)};p.cg=function(){return Z.N(this.Fb)};p.Df=!1;
p.b=function(){this.Df||(this.Nk(),this.Df=!0)};p.Nk=function(){this.Ko(this.lo);this.Lo(this.no);this.Jo(this.mo);this.Mk()};p.Mk=function(){Rg.b(this.F);this.Lk()};p.Lk=function(){nf(this.Fb)};p.Fc=!1;p.Ko=function(a){Mg.remove(this.Eg(),a)};p.Lo=function(a){Mg.remove(this.Fg(),a)};p.Jo=function(a){Mg.remove(this.Dg(),a)};p.pn=function(){this.rb=this.vj()};p.hm=function(){return ec.N(this.rb)};p.vj=function(){var a=this.dm();return Ba.ia(a)};p.em=function(){return this.yh("mixamorig:Head")};
p.dm=function(){var a=this.em();return Ec(this.M(),function(f){return Ba.getName(f)===a})};p.M=function(){return Aa.M(this.pa)};p.Eg=function(){return Sg.Em(this.Pc())};p.Fg=function(){return Sg.wg(this.Pc())};p.Dg=function(){return Sg.Oc(this.Pc())};p.am=function(){return this.Nc().rotationGizmo};p.Pc=function(){return this.am()};p.Nc=function(){return Rg.Nc(this.F)};p.kd=function(a){Rg.kd(this.F,a)};p.mj=function(a){Rg.If(this.F,a)};p.lj=function(){this.mj(this.Fb)};
p.lk=function(){var a=this.ta();return Rg.create(a,tf.GIZMO_THICKNESS)};p.ta=function(){return Z.ta(this.pa)};p.Uj=function(){return ec.Ga(this.rb,void 0,void 0)};p.im=function(){var a=this.Uj(),f=Sd.create();Qb.Qa(a,null,null,f);return f};p.gp=function(a){Z.setPosition(this.Fb,a)};p.Qg=function(){var a=this.im();a.x-=3;a.z=0;this.gp(a)};
Lg=function(a,f,e,c,g){return new Promise(function(h,l){(function(){return new Promise(function(b,d){var k=Aa.ta(e);ge.ka("","",c,k).then(function(m){b(he.H(m)[0])})["catch"](function(m){d(m)})})})().then(function(b){b=new Kg(a,f,e,b,g);h(b)})["catch"](function(b){l(b)})})};function Tg(a,f,e,c,g,h){this.g=a;this.P=f;this.a=e;this.canvas=c;this.Xm=g;this.T=h}
Tg.prototype.Nd=function(){var a=this;return new Promise(function(f,e){var c=a.canvas,g=a.P,h=a.a,l=a.g,b=a.Xm;if(g&&h&&c&&l&&b){var d=null;(function(q){Wd.Xe(q,function(){d&&Ld.sa(d)&&Ld.xb(d)})})(g,c);var k=X.R(l),m=X.v(l),n=function(){return new Promise(function(q,u){function S(){wa<=m?W().then(function(){wa+=ma;S()})["catch"](function(ta){u(ta)}):ka.render()}function W(){return new Promise(function(ta){X.Ba(l,wa);null!=ea&&ea.progress((wa-k)/(m-k));Mg.Ec(na,function(){ka.addFrame(c,{delay:200,
copy:!0});ta()})})}var ea=null;a.T.Nb()&&(ea=window.gsap.timeline({paused:!0}),function(){var ta=window.gsap.to({},{duration:tf.Ya(m-k),onStart:function(){a.T.hd()}});ea.add(ta,0)}(),(new Gg(a.T.Lb(),!1,0,l,h,ea,1,tf.ba,tf.aa)).qb());var ka=new GIF({worker:2,quality:10,workerScript:b});ka.on("finished",function(ta){q(ta)});var ma=200*Y.lg(Ea.f(X.j(l)[0]))/1E3,na=Ld.Cm(h),wa=k;S()})};d=h;X.tc(l,!1);X.stop(l);X.start(l);X.pause(l);X.play(l);(function(){return new Promise(function(q){Ld.Ic(h,function(){q()})})})().then(function(){return n()}).then(function(q){f(q)})["catch"](function(q){e(q)})}else e()})};function Ug(a,f,e,c,g,h,l,b){this.g=a;this.fn=f;this.Fk=e;this.gj=c;this.a=g;this.rb=h;this.i=l;this.U=b}var Ng,Og;
(function(){function a(c){return c-=Math.PI}function f(c,g){var h=Pb.Oa(c),l=h.x,b=h.y;ce(g)&&(b+=Math.PI,l*=-1);h=h.z;h=a(h);return Pb.ga(l,b,h)}function e(c){function g(d){return"number"===typeof d}if(null==c||"object"!==typeof c)return!1;var h=c.y,l=c.z,b=c.w;return g(c.x)&&g(h)&&g(l)&&g(b)?!0:!1}Og=function(c,g,h){c=Pb.clone(c);(function(){var l=g.x,b=g.y,d=g.z;0>l&&(c.x*=-1);0>b&&(c.y*=-1);0>d&&(c.z*=-1);if(0>l||0>b||0>d)c.w*=-1})();c=jd(c);(function(){var l=Pb.Oa(h),b=Pb.Oa(c);c=Pb.ga(b.x,b.y,
l.z)})();return c};Ug.prototype.Gd=function(c){return Ng(c,this.ec(),this.i)};Ng=function(c,g,h){var l=Sd.Ub();c=Pb.oq(c,Qb.ee());l=Sd.sf(l,c);l=Sd.scale(l,1E4);ec.ah(g,l);g=ec.N(g);return g=f(g,h)};Ug.prototype.uj=function(){var c=this.fn;if("follow previous action"===c){c=null;for(var g=this.gj,h=this.Fk-1;0<=h;h--){var l=g[h].headOrientation;if("follow previous action"!==l){c=l;break}}}return c};Ug.prototype.sa=function(){return Ld.sa(this.a)};Ug.prototype.ml=function(){return xf.u(this.sa())};
Ug.prototype.nl=function(){var c=this.ml();c=Sd.clone(c);c.z-=300;return c};Ug.prototype.ec=function(){return this.a.ai};Ug.prototype.Rm=function(){var c=this.ec();return ec.N(c)};Ug.prototype.aq=function(c){var g=this.ec();ec.ah(g,c)};Ug.prototype.ak=function(c){return f(c,this.i)};Ug.prototype.fm=function(){return ec.getName(this.rb)};Ug.prototype.ce=function(){return ec.getParent(this.rb)};Ug.prototype.Tf=function(c,g){return Be(this.g,c,g)};Ug.prototype.$k=function(){return this.Tf(this.fm(),
"rotationQuaternion")};Ug.prototype.C=function(){var c=this,g=this.uj();if(this.Rn===g)return!1;this.Rn=g;if(null==g)return!1;var h=function(){if("horizontal"===g)return null;if("face camera"===g){var k=c.nl();c.aq(k);k=c.Rm();return k=c.ak(k)}if(!1===e(g))return null;k=Pb.create(g.x,g.y,g.z,g.w);return c.Gd(k)}(),l=this.$k();if(null==l)return!1;l=Y.h(Ea.f(l));if(Ha(l))return!1;var b=function(){var k={},m=function(){var n={},q={};n.get=function(u,S){return q[u+"\n"+S]};n.set=function(u,S,W){q[u+"\n"+
S]=W};return n}();k.get=function(n,q,u){n=ec.getName(n);var S=m.get(n,q);"undefined"===typeof S&&(S=c.Tf(n,q),m.set(n,q,S));q=S;if(null==q)return null;q=Y.h(Ea.f(q));return md(q,u)};return k}(),d=function(){var k=function(){var m=null;Gc(X.j(c.g),{A:function(){return null==m},da:function(n){Ea.m(n)===c.U&&"rotationQuaternion"===Y.B(Ea.f(n))&&(m=n)}});return Ea.f(m)}();return null==k?null:Y.h(k)}();C(l,function(k){var m=k.frame,n=function(){for(var W=Qb.ee(),ea=c.ce();null!=ea;){var ka=function(){var wa=
b.get(ea,"scaling",m);return null!=wa?wa:ec.l(ea)}(),ma=function(){var wa=b.get(ea,"rotationQuaternion",m);return null!=wa?wa:ec.N(ea)}(),na=function(){var wa=b.get(ea,"position",m);return null!=wa?wa:ec.u(ea)}();ka=Qb.ii(ka,ma,na);W=Qb.multiply(W,ka);ea=ec.getParent(ea)}return W}(),q=Sd.create(),u=Pb.create();Qb.Qa(n,q,u);var S=Pb.tb(u);n=function(){var W=function(){if("horizontal"===g){var ea=Pb.multiply(u,k.value);ea=Pb.Oa(ea).y;var ka=a(0);ea=Pb.ga(0,ea,ka);return Pb.multiply(S,ea)}var ma=Pb.multiply(S,
h);(function(){if(null!=d){var na=k.frame,wa=function(){var Fa=Ec(d,function(Wa){return Wa.frame>na});if(null==Fa)return d[d.length-1].value;var Na=d[d.indexOf(Fa)-1];if(null==Na)return null;var Ca=Na.frame;return ld(Na.value,Fa.value,(na-Ca)/(Fa.frame-Ca))}();if(null!=wa){(function(){var Fa=Pb.ga(0,c.od(0),0);Fa=Pb.tb(Fa);wa=Pb.multiply(Fa,wa)})();var ta=Pb.tb(wa);ma=Pb.multiply(ta,ma)}}})();return ma}();return W=Og(W,q,k.value)}();k.value=n});return!0};Ug.prototype.od=function(c){return Yd(c,this.i)}})();function Vg(a,f,e){this.a=a;this.ra=f;this.jb=e}p=Vg.prototype;p.sk=function(){function a(c){var g=Ea.f(c);return Ea.m(c).id+"\n"+Y.B(g)}var f={},e={};f.register=function(c){var g=a(c);e[g]=c};f.get=function(c){c=a(c);return e[c]};return f};p.nk=function(){return X.create(null,this.a)};p.Zi=function(a,f){return X.ma(this.ab,a,f)};p.Ao=function(a){this.kh.register(a)};p.Am=function(a){return this.kh.get(a)};p.lb=function(a){return a*this.ra};p.xj=function(){return this.lb(this.wj())};p.wm=function(){return X.R(this.ab)};
p.xm=function(){return X.v(this.ab)};p.Hp=function(a){X.Sb(this.ab,a)};p.Xl=function(){return this.jb[0]};p.qg=function(){return this.jb[this.jb.length-1]};p.Yl=function(){return this.Xl().startTime};p.qm=function(){return this.qg().startTime};p.om=function(){return this.qg().duration};p.pm=function(){return this.qm()+this.om()};p.wj=function(){return this.pm()-this.Yl()};p.Kn=function(a){C(this.jb,function(f,e){a(f,e)})};
p.fh=function(){function a(){var h=f.Pm();C(g,function(l){f.pj(l.iq,Math.min(l.Rk,h))})}var f=this;this.ab=this.nk();this.kh=this.sk();var e=this.jb.length,c=f.jb[0].startTime,g=[];this.Kn(function(h,l){function b(k){var m=[];C(k,function(n){m.push({frame:n.frame+d,value:n.value})});return m}var d=0===l?0:f.lb(h.startTime-c);(function(){if(l!==e-1){var k=f.jb[l+1],m=k.oj;null!=m&&0!==m&&(k=k.startTime,m=tf.utilFunctions.validateActionBlendDurationWithPreviousActionStartTime(m,h.startTime,k),k=f.lb(k+
1E-7-c),g.push({iq:k-f.lb(m),Rk:k}))}})();C(X.j(h.g),function(k){function m(){var q=Ea.f(k),u=Ea.m(k),S=Y.h(q);S=b(S);Y.ya(q,S);n=f.Zi(q,u);f.Ao(n)}var n=f.Am(k);null==n?m():function(){var q=Ea.f(n),u=Y.h(Ea.f(k));u=b(u);var S=Y.h(q);if(!1===Ha(S)){var W=S[S.length-1],ea=W.value,ka=.9999999999*d;ka>W.frame&&u.unshift({frame:ka,value:ea.clone()})}Y.ya(q,S.concat(u))}()})});this.Hp(this.xj());this.jo(this.wm(),this.xm());!1===Ha(g)&&a();return this.ab};p.Pm=function(){return X.v(this.ab)};
p.jo=function(a,f){X.normalize(this.ab,a,f)};p.pj=function(a,f){De(this.ab,a,f)};var He,Ie,Le,Wg;He="characterRootMesh";Le=function(a,f){var e={};e.name=X.getName(a);e.from=X.R(a);e.to=X.v(a);e.loopAnimation=X.Ug(a);e.speedRatio=X.ne(a);var c=[];e.targetedAnimations=c;C(X.j(a),function(g){var h={},l=Ea.f(g);g=Ea.m(g);h.targetId=g===f?He:g.id;l=Y.Zo(l);h.animation=l;c.push(h)});return e};Wg=function(a,f){var e={};e[He]=f;C(X.j(a),function(c){c=Ea.m(c);var g=c.id;null==e[g]&&(e[g]=c)});return function(c){return e[c]}};
Ie=function(a,f,e){var c=f.loopAnimation,g=f.speedRatio,h=X.create(f.name,a);X.Cp(h,c);X.Yp(h,g);C(f.targetedAnimations,function(l){var b=e(l.targetId);null!=b&&(l=Y.zi(l.animation),X.ma(h,l,b))});a=f.to;X.Mh(h,f.from);X.Sb(h,a);return h};function Xg(a,f,e,c,g,h){this.a=a;this.g=f;this.Ne=e;this.Dh=c;this.ra=g;this.Le=h}p=Xg.prototype;p.kk=function(){return X.create(null,this.a)};p.j=function(){return X.j(this.g)};p.Pn=function(a){C(this.j(),function(f){a(f)})};p.$j=function(a){return a/this.ra};p.lb=function(a){return a*this.ra};p.Bj=function(){return this.lb(this.Aj())};p.Aj=function(){return null!=this.Dh?this.Dh:0};p.Tl=function(){return this.duration};
p.flatten=function(){function a(l){function b(){var wa=d();na=na.concat(wa)}function d(){var wa=[],ta=!0,Fa=c*n,Na=function(){var Ia=Fa;0<h&&(Ia=Math.min(Ia,c-h));return Ia}(),Ca=function(){return function(Ia){return null!=g&&Ia>g?!1:Ia<=Fa}}(),Wa=function(){return Na<Fa?function(Ia){var La=Ia.frame;return La>=u.frame&&La<=S.frame?ld(u.value,W.value,(La-u.frame)/(S.frame-u.frame)):Ia.value}:function(Ia){return Ia.value}}();Gc(m,{A:function(){return ta},da:function(Ia){var La=Ia.frame;Ca(La)?(La+=
q,null!=g&&La<g||(null!=g&&(La=0),Ia=Wa(Ia),wa.push({frame:La,value:Ia}))):ta=!1}});return wa}var k=Ea.f(l);l=Ea.m(l);k=Y.clone(k);null!=g&&Y.K(k,g);var m=Y.h(k),n=f.Ne,q=0,u=null,S=null,W=null;if(0<h){var ea=Y.K(k,c-h),ka=Y.K(k,c),ma=Y.K(k,e);u=m[ea];S=m[ka];W=m[ma]}for(var na=[];0<n;)b(),n--,q+=c;Y.ya(k,na);f.Yi(k,l)}var f=this;this.Za=this.kk();var e=this.Ia(),c=this.ua();if(null!=this.Le){this.duration=0;var g=this.lb(this.Le)}else this.duration=this.$j(c)*this.Ne,g=null;var h=this.Bj();0<h&&
h>=c&&(h=.999*c);this.Pn(function(l){a(l)});this.Zp(this.Ej())};p.Yi=function(a,f){X.ma(this.Za,a,f)};p.Ej=function(){return null!=this.Le?0:this.ua()*this.Ne};p.Ia=function(){return X.R(this.g)};p.ua=function(){return X.v(this.g)};p.Zp=function(a){X.Sb(this.Za,a)};function oe(a,f,e,c,g,h,l){this.Gc=a;this.U=f;this.g=e;this.wa=c;this.Da=g;this.i=h;this.lc=this.hc=null;this.Yb=Ne();this.xc=cf();this.$g=this.$b=this.Ab=!1;this.a=l}var Yg;p=oe.prototype;p.ef=function(a){this.$b=a};p.cf=function(a){this.Yb=a};p.gf=function(a){this.xc=a};p.hf=function(a){this.Ab=a};p.Qh=function(){this.$g=!0};p.yb=function(a){this.hc=a};p.fd=function(a){this.lc=a};p.gd=function(a){this.Zc=a};p.M=function(){return Aa.M(this.Gc)};p.jm=function(){return Je(this.Gc,this.i)};p.j=function(){return X.j(this.g)};
p.ac=function(a){return this.Da[a]};p.Ol=function(){return Z.de(this.U)};
p.bb=function(){function a(Ca){var Wa=Ea.f(Ca),Ia=Ea.m(Ca);Y.jp(Wa,.1);Y.tc(Wa,!0);if(Kf(Ia)&&Ia.id===Fa){var La=Y.B(Wa);if("rotationQuaternion"===La){Ea.Ua(Ca,f.U);return}}var vb=Ba.getName(Ia);La=Ec(S,function(hb){return Ba.getName(hb)===vb});null!=La&&(Ia=Ba.ia(La),null!=Ia?!1===wa?(La=Y.B(Wa),"scaling"===La?(Wa=Y.h(Wa),C(Wa,function(hb){hb=hb.value;hb.x=1;hb.y=1;hb.z=1})):"position"===La&&vb===na&&null!=ta&&ta.Lf(Ca),Ea.Ua(Ca,Ia)):(null!=ta&&ta.Lf(Ca),La=Y.B(Wa),"rotationQuaternion"===La?Ea.Ua(Ca,
Ia):"position"===La&&vb===na&&Ea.Ua(Ca,Ia)):console.error("Retarget missing bone: "+vb))}var f=this,e=tf.FRAME_PER_SECOND,c=this.hc,g=this.lc,h=this.Zc,l=this.Yb,b=this.xc,d=this.i,k=this.wa,m=this.a,n=this.Ab,q=this.$b,u=this.$g,S=this.M(),W=this.wn(),ea=!1===W&&S.some(function(Ca){return["R_Jaw","L_Jaw","leftThumbMetacarpal","rightThumbMetacarpal"].includes(Ba.getName(Ca))}),ka=this.xn(),ma=this.jm(),na=null!=ma?Ba.getName(ma):void 0,wa=Pf(d),ta=function(){if(n&&!1===q)return null;var Ca=new Zg({ac:function(Wa){return f.ac(Wa)}},
ma,e,W,ea,ka,d,na,k,m);wa&&(Ca.cf(l),Ca.gf(b));Ca.yb(c);Ca.fd(g);Ca.gd(h);Ca.hf(n);Ca.ef(q);return Ca}(),Fa=this.Ol(),Na=this.j();C(Na,function(Ca){a(Ca)});null!=ta&&null!=ma&&null!=k&&ta.cj(Na,k,u)};p.wn=function(){return Gf(this.Gc)};p.xn=function(){return Hf(this.Gc)};Yg=function(a,f,e){var c=void 0;f?c=.959262:e&&(c=1.015);f=c;return null!=f?a/f:null};function Zg(a,f,e,c,g,h,l,b,d,k){this.o=a;this.gn=f;this.ra=e;this.Vg=c;this.Hn=g;this.Xg=h;this.xc=this.Yb=null;this.i=l;this.Zc=this.lc=this.hc=null;this.jh=b;this.wa=d;this.a=k;this.$b=this.Ab=!1}p=Zg.prototype;p.ef=function(a){this.$b=a};p.hf=function(a){this.Ab=a};p.cf=function(a){this.Yb=a};p.gf=function(a){this.xc=a};p.yb=function(a){this.hc=a};p.fd=function(a){this.lc=a};p.gd=function(a){this.Zc=a};
p.Lf=function(a){var f=Y.B(Ea.f(a)),e=Ea.m(a);e=Ba.getName(e);"rotationQuaternion"===f?this.en(a):"position"===f&&e===this.jh&&this.cn(a)};p.Cj=function(a){return Yg(a,this.Vg,this.Xg)};p.cj=function(a,f,e){if(!this.Ab){var c=this.jh,g=this.Cj(f);null!=g&&(a=Ec(a,function(h){var l=Ea.f(h);h=Ea.m(h);h=Ba.getName(h);return"position"===Y.B(l)&&h===c}),null!=a&&(a=Y.h(Ea.f(a)),C(a,function(h){var l=Ue.va(h),b=l.x*g,d=l.y*g;l=l.z*g;e&&(l=b=0);b=Sd.create(b,d,l);Ue.fb(h,b)})))}};
p.cn=function(a){if(!this.Ab||!1!==this.$b){var f=this.hc,e=this.lc,c=this.Zc,g=this.gn,h=this.wa,l=this.ra;if(null!=f||null!=e){a=Y.h(Ea.f(a));null==e&&(e=f);e=e.toLowerCase();var b=function(){function k(u){return 0<=(null!=q?q:e).indexOf(u)}function m(u){if(Ha(c))return null;u=Lc(u);var S=null;Gc(c,{A:function(){return null==S},da:function(W){var ea=W.startTime*l,ka=ea+W.duration*l;ea=Lc(ea);ka=Lc(ka);u>=ea&&u<=ka&&(S=W.inPlace)}});return S}var n={},q=null;n.ho=function(u){q=m(u)};n.Dn=function(){return k("x")};
n.En=function(){return k("y")};n.Fn=function(){return k("z")};return n}(),d=function(){var k=Ba.zl(g);return Qb.Sm(k)}();C(a,function(k){var m=Ue.va(k);b.ho(Ue.$l(k));b.Dn()&&(m.x=d.x);b.En()&&(m.y=h);b.Fn()&&(m.z=d.z)})}}};p.ac=function(a){return this.o.ac(a)};
p.en=function(a){if(!this.Ab){var f=Ea.f(a);a=Ea.m(a);var e=Ba.getName(a);if(this.Vg&&(fc(e,"mixamorig:LeftFoot")||fc(e,"mixamorig:RightFoot"))){var c=this.ac(e);a=Y.h(f);C(a,function(l){var b=Pb.Oa(Ue.va(l)),d=Sd.create(c.x-yg[e].x,0,0);b=Sd.add(b,d);b=Sd.nq(b);Ue.fb(l,b)})}if(a=this.Hn?zg:this.Xg?Ag:void 0){var g=a[e];if(g){a=Y.h(f);var h=Pb.create(g[0],g[1],g[2],g[3]);C(a,function(l){var b=Pb.multiply(Ue.va(l),h);Ue.fb(l,b)})}}a=this.i;g=this.Yb;null!=g&&!1===Oe(g)&&Re(e,a)&&Pe(f,g,e,a);g=this.xc;
null!=g&&!1===df(g)&&bf(e,a)&&Ve(f,g,e,a,this.a)}};var Aa,Ba,X,Ea,Y,Pb,Qb,ec,Ld,Rd,Sd,Td,Ud,Wd,Zd,$d,ae,be,ge,he,te,ue,ve,we,se,xe,Me,Ue,Z,pf,qf,sf,rf,wf,vf,xf,yf,Cf,Df,Ef,Mf,Mg,Pg,Qg,Rg,Sg,$g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh;
(function(){function a(){return l("TransformNode")}function f(){return l("Scene")}function e(){return l("Animation")}function c(){return l("Quaternion")}function g(){return l("EasingFunction")}function h(){return l("Vector3")}function l(b){return self.BABYLON[b]}$g=l;ae=h;be=c;we=e;Cf=f;Df=function(){return l("AssetContainer")};ue=function(){return l("Mesh")};ve=a;ah={Of:function(b,d,k,m){return l("Tools").CreateScreenshot(b,d,k,m)},ki:function(b,d,k,m,n){return l("Tools").CreateScreenshotAsync(b,
d,k,m,n)},Gq:function(b){return l("Tools").ToRadians(b)}};te={getName:function(b){return b.name},vn:function(b,d){return b.isDescendantOf(d)}};bh={oi:function(){return g().EASINGMODE_EASEIN},pi:function(){return g().EASINGMODE_EASEINOUT},ri:function(){return g().EASINGMODE_EASEOUT},wp:function(b,d){b.setEasingMode(d)}};ch={pf:function(b,d,k){return l("MeshBuilder").CreateSphere(b,d,k)}};Qg={s:function(b,d){b.isEnabled=d}};Sg={wc:function(b,d){b.scaleRatio=d},df:function(b,d){b.attachedMesh=d},Wd:function(b){return b.attachedMesh},
wg:function(b){return b.onDragStartObservable},Em:function(b){return b.onDragObservable},Oc:function(b){return b.onDragEndObservable}};dh={s:function(b,d){b.isEnabled=d}};Pg={Ig:function(b){return b.xGizmo},Jg:function(b){return b.yGizmo},gc:function(b){return b.zGizmo}};eh={Ig:function(b){return b.xGizmo},Jg:function(b){return b.yGizmo},gc:function(b){return b.zGizmo}};Rg={create:function(b,d,k,m){return new (l("GizmoManager"))(b,d,k,m)},Nc:function(b){return b.gizmos},If:function(b,d){b.attachToMesh(d)},
wc:function(b,d){b.scaleRatio=d},le:function(b){return b.scaleRatio},Fe:function(b){return b.positionGizmoEnabled},Qp:function(b,d){b.positionGizmoEnabled=d},He:function(b){return b.scaleGizmoEnabled},Vp:function(b,d){b.scaleGizmoEnabled=d},Ge:function(b){return b.rotationGizmoEnabled},kd:function(b,d){b.rotationGizmoEnabled=d},Kh:function(b,d){b.enableAutoPicking=d},b:function(b){b.dispose()}};Ef={qn:function(b,d,k,m){return b.instantiateModelsToScene(d,k,m)},H:function(b){return b.meshes},$a:function(b){return b.skeletons},
pe:function(b){return b.transformNodes},ca:function(b){return b.animationGroups},ta:function(b){return b.scene},b:function(b){b.dispose()}};Ud={create:function(b,d,k){return new (l("HemisphericLight"))(b,d,k)},Ph:function(b,d){b.intensity=d}};Pb={create:function(b,d,k,m){return new (c())(b,d,k,m)},jr:function(b,d){b.w=d},pb:function(b){return b.w},clone:function(b){return b.clone()},Oa:function(b){return b.toEulerAngles()},Wj:function(b){return b.conjugate()},tb:function(b){return b.invert()},multiply:function(b,
d){return b.multiply(d)},Xc:function(b,d){return b.multiplyInPlace(d)},normalize:function(b){return b.normalize()},ko:function(b,d){return b.normalizeToRef(d)},Ci:function(b,d){return c().RotationAxis(b,d)},Cq:function(b,d){return c().FromRotationMatrixToRef(b,d)},Bq:function(b){return c().FromRotationMatrix(b)},ga:function(b,d,k){return c().FromEulerAngles(b,d,k)},rf:function(b,d,k,m){return c().SlerpToRef(b,d,k,m)},sd:function(b,d,k){return c().Slerp(b,d,k)},oq:function(b,d){return b.toRotationMatrix(d)},
xf:function(b,d){return b.addInPlace(d)}};Aa={ta:function(b){return b.getScene()},clone:function(b,d,k){return b.clone(d,k)},M:function(b){return b.bones},To:function(b){b.returnToRest()},b:function(b){b.dispose()}};fh={ti:function(b){return l("Angle").FromRadians(b)},qf:function(b){return l("Angle").FromDegrees(b)},Bg:function(b){return b.radians()},Ql:function(b){return b.degrees()}};Ba={zl:function(b){return b.getBindMatrix()},dc:function(b){return b.getRestMatrix()},u:function(b,d,k){return b.getPosition(d,
k)},Uq:function(b,d,k,m){b.getPositionToRef(d,k,m)},ia:function(b){return b.getTransformNode()},getName:function(b){return b.name},pc:function(b){return b.rotationQuaternion},N:function(b,d,k){return b.getRotationQuaternion(d,k)},Yq:function(b,d,k,m){return b.getRotationQuaternionToRef(d,k,m)},Cg:function(b,d,k){return b.getRotation(d,k)},Od:function(b,d){return b.getAbsolutePosition(d)}};Ue={va:function(b){return b.value},fb:function(b,d){b.value=d},$l:function(b){return b.frame}};Y={create:function(b,
d,k,m,n,q){return new (e())(b,d,k,m,n,q)},clone:function(b){return b.clone()},jp:function(b,d){b.blendingSpeed=d},tc:function(b,d){b.enableBlending=d},lg:function(b){return b.framePerSecond},B:function(b){return b.targetProperty},ig:function(b){return b.dataType},sm:function(b){return b.loopMode},vp:function(b,d){b.setEasingFunction(d)},zi:function(b){return e().Parse(b)},ya:function(b,d,k){b.setKeys(d,k)},h:function(b){return b.getKeys()},K:function(b,d){return b.createKeyForFrame(d)},Zo:function(b){return b.serialize()},
Vd:function(){return e().ANIMATIONTYPE_VECTOR3},Td:function(){return e().ANIMATIONTYPE_FLOAT},Ud:function(){return e().ANIMATIONTYPE_QUATERNION},tl:function(){return e().ANIMATIONLOOPMODE_CYCLE}};Ea={Ih:function(b,d){b.animation=d},f:function(b){return b.animation},Ua:function(b,d){b.target=d},m:function(b){return b.target}};X={create:function(b,d,k,m){return new (l("AnimationGroup"))(b,d,k,m)},hi:function(b,d,k,m,n){return l("AnimationGroup").ClipFrames(b,d,k,m,n)},start:function(b,d,k,m,n,q){return b.start(d,
k,m,n,q)},play:function(b,d){return b.play(d)},pause:function(b){return b.pause()},stop:function(b){return b.stop()},reset:function(b){return b.reset()},Ba:function(b,d){return b.goToFrame(d)},normalize:function(b,d,k){return b.normalize(d,k)},Ug:function(b){return b.loopAnimation},Cp:function(b,d){b.loopAnimation=d},ne:function(b){return b.speedRatio},Yp:function(b,d){b.speedRatio=d},tc:function(b,d){b.enableBlending=d},getName:function(b){return b.name},R:function(b){return b.from},v:function(b){return b.to},
Mh:function(b,d){b.from=d},Sb:function(b,d){b.to=d},clone:function(b,d,k,m){return b.clone(d,k,m)},j:function(b){return b.targetedAnimations},sl:function(b){return b.animatables},ma:function(b,d,k){return b.addTargetedAnimation(d,k)},Ah:function(b,d){b.removeTargetedAnimation(d)},Uc:function(b){return b.isStarted},jc:function(b){return b.isPlaying},b:function(b){b.dispose()},Sq:function(b){return b.getLength()}};gh={f:function(b){return b.animation},m:function(b){return b.target}};Me={tm:function(b){return b.masterFrame},
getAnimations:function(b){return b.getAnimations()}};rf={pd:function(b){return l("Color3").FromHexString(b)}};Rd={create:function(b,d,k,m){return new (l("Color4"))(b,d,k,m)}};qf={Hh:function(b,d){b.albedoColor=d},rl:function(b){return b.albedoColor},bf:function(b,d){b.albedoTexture=d},$f:function(b){return b.albedoTexture}};pf={getName:function(b){return b.name},Al:function(b){return b.getBindedMeshes()},b:function(b,d,k,m){b.dispose(d,k,m)}};Qb={si:function(b,d){return l("Matrix").FromQuaternionToRef(b,
d)},ii:function(b,d,k){return l("Matrix").Compose(b,d,k)},Kb:function(){return l("Matrix").IdentityReadOnly},ee:function(){return l("Matrix").Identity()},tb:function(b){return b.invert()},Qa:function(b,d,k,m,n,q){return b.decompose(d,k,m,n,q)},normalize:function(b){return b.normalize()},multiply:function(b,d){return b.multiply(d)},Zb:function(b,d){return b.equals(d)},Sm:function(b){return b.getTranslation()}};he={H:function(b){return b.meshes},$a:function(b){return b.skeletons},ca:function(b){return b.animationGroups}};
xe={bm:function(b){return b.glTFFiles}};se={ui:function(b,d,k){return l("GLTF2Export").GLBAsync(b,d,k)}};ge={ka:function(b,d,k,m,n,q,u){return l("SceneLoader").ImportMeshAsync(b,d,k,m,n,q,u)},qd:function(b,d,k,m,n){return l("SceneLoader").LoadAssetContainerAsync(b,d,k,m,n)}};Mg={add:function(b,d,k,m,n,q){return b.add(d,k,m,n,q)},Ec:function(b,d){return b.addOnce(d)},remove:function(b,d){return b.remove(d)}};hh={b:function(b){b.dispose()}};sf={create:function(b,d,k,m,n,q,u,S,W,ea,ka,ma,na,wa){return new (l("Texture"))(b,
d,k,m,n,q,u,S,W,ea,ka,ma,na,wa)},Vh:function(b,d){b.uScale=d},Wh:function(b,d){b.vScale=d},Xh:function(b,d){b.wAng=d},b:function(b){b.dispose()}};Ld={za:function(b){return b.getEngine()},kq:function(b){b.stopAllAnimations()},Qm:function(b,d){return b.getTransformNodeById(d)},pe:function(b){return b.transformNodes},Zq:function(b){return b.textures},Tq:function(b){return b.onPointerObservable},je:function(b){return b.onBeforeRenderObservable},ie:function(b){return b.onAfterRenderObservable},Cm:function(b){return b.onAfterDrawPhaseObservable},
qe:function(b){return b.uid},sa:function(b){return b.activeCamera},create:function(b,d){return new (f())(b,d)},Jh:function(b,d){b.clearColor=d},$p:function(b,d,k,m,n){b.setTransformMatrix(d,k,m,n)},Qc:function(b){return b.getTransformMatrix()},xb:function(b,d,k){return b.render(d,k)},H:function(b){return b.meshes},$a:function(b){return b.skeletons},ca:function(b){return b.animationGroups},he:function(b){return b.morphTargetManagers},um:function(b){return b.materials},Se:function(b,d){b.registerBeforeRender(d)},
di:function(b,d){b.unregisterBeforeRender(d)},Ho:function(b,d,k){return b.removeMesh(d,k)},hr:function(b,d){return b.removeSkeleton(d)},Rj:function(b){b.clearCachedVertexData()},Oj:function(b){b.cleanCachedTextureBuffer()},b:function(b){b.dispose()},yn:function(b){return b.isDisposed},Ic:function(b,d){return b.executeWhenReady(d)}};ih={zc:function(b,d,k){return l("Scalar").Lerp(b,d,k)}};Sd={create:function(b,d,k){return new (h())(b,d,k)},zc:function(b,d,k){return h().Lerp(b,d,k)},rd:function(b,d,
k,m){return h().Project(b,d,k,m)},tf:function(b,d,k,m,n,q){return h().Unproject(b,d,k,m,n,q)},scale:function(b,d){return b.scale(d)},sf:function(b,d){return h().TransformCoordinates(b,d)},Ai:function(b,d,k,m,n){return h().ProjectToRef(b,d,k,m,n)},Gi:function(){return h().Zero()},Di:function(){return h().Up()},ni:function(){return h().Down()},wi:function(){return h().Left()},Bi:function(){return h().Right()},Ub:function(){return h().Forward()},yc:function(){return h().Backward()},clone:function(b){return b.clone()},
Zb:function(b,d){return b.equals(d)},Mq:function(b,d){b.copyFrom(d)},qc:function(b,d){return b.scaleInPlace(d)},Pk:function(b,d){return b.divideInPlace(d)},Xc:function(b,d){return b.multiplyInPlace(d)},add:function(b,d){return b.add(d)},lq:function(b,d){return b.subtract(d)},set:function(b,d,k,m){return b.set(d,k,m)},nq:function(b){return b.toQuaternion()},vi:function(b,d,k){return h().GetAngleBetweenVectors(b,d,k)},mi:function(b,d){return h().Dot(b,d)},Ek:function(b,d){return b.cross(d)},normalize:function(b){return b.normalize()},
rf:function(b,d,k,m){return h().SlerpToRef(b,d,k,m)},xf:function(b,d){return b.addInPlace(d)},Eq:function(b,d){return h().Maximize(b,d)},Fq:function(b,d){return h().Minimize(b,d)},Xb:function(b,d){return b.applyRotationQuaternion(d)}};Td={create:function(b,d,k,m){return new (l("FreeCamera"))(b,d,k,m)},Ua:function(b,d){b.setTarget(d)},Jp:function(b,d){b.mode=d},za:function(b){return b.getEngine()}};xf={xi:function(){return l("Camera").ORTHOGRAPHIC_CAMERA},Np:function(b,d){b.orthoTop=d},Kp:function(b,
d){b.orthoBottom=d},Lp:function(b,d){b.orthoLeft=d},Mp:function(b,d){b.orthoRight=d},Rh:function(b,d){b.minZ=d},ym:function(b){return b.minZ},ke:function(b,d){return b.getProjectionMatrix(d)},ta:function(b){return b.getScene()},se:function(b,d){return b.getViewMatrix(d)},Rc:function(b){return b.viewport},cq:function(b,d){b.viewport=d},u:function(b){return b.position}};yf={create:function(b,d,k,m){return new (l("Viewport"))(b,d,k,m)},nd:function(b,d,k){return b.toGlobal(d,k)}};Z={clone:function(b,
d,k,m,n){return b.clone(d,k,m,n)},getMetadata:function(b){return b.metadata},zo:function(b,d,k){return b.refreshBoundingInfo(d,k)},Ga:function(b,d,k){return b.computeWorldMatrix(d,k)},fc:function(b){return b.uniqueId},setPosition:function(b,d){b.position=d},u:function(b){return b.position},Cg:function(b){return b.rotation},N:function(b){return b.rotationQuaternion},ld:function(b,d){b.scaling=d},l:function(b){return b.scaling},fa:function(b,d){b.rotationQuaternion=d},Zf:function(b){return b.absoluteScaling},
Od:function(b){return b.absolutePosition},il:function(b){return b.absoluteRotationQuaternion},getName:function(b){return b.name},ta:function(b){return b.getScene()},$o:function(b,d){b.alphaIndex=d},Th:function(b,d){b.rotation=d},bc:function(b){return b.getBoundingInfo()},kp:function(b,d){return b.setBoundingInfo(d)},te:function(b){return b.getWorldMatrix()},$d:function(b,d,k){return b.getChildTransformNodes(d,k)},fg:function(b,d,k){return b.getChildMeshes(d,k)},ea:function(b,d){b.parent=d},getParent:function(b){return b.parent},
s:function(b,d){b.setEnabled(d)},isEnabled:function(b){return b.isEnabled()},gg:function(b,d,k){return b.getChildren(d,k)},ge:function(b){return b.material},ug:function(b){return b.morphTargetManager},Tp:function(b,d){b.renderOutline=d},Op:function(b,d){b.outlineColor=d},Pp:function(b,d){b.outlineWidth=d},de:function(b){return b.id},b:function(b,d,k){b.dispose(d,k)}};jh={getName:function(b){return b.name},Ca:function(b,d){b.influence=d},ng:function(b){return b.influence}};Mf={Bm:function(b){return b.numTargets},
m:function(b,d){return b.getTarget(d)},b:function(b){b.dispose()}};kh={create:function(b){return new (l("NullEngine"))(b)}};lh={Lc:function(b){return b.camera},s:function(b,d){b.enabled=d},isEnabled:function(b){return b.enabled}};Wd={Ta:function(b,d,k,m){return b.registerView(d,k,m)},qq:function(b,d){return b.unRegisterView(d)},resize:function(b,d){b.resize(d)},create:function(b,d,k,m){return new (l("Engine"))(b,d,k,m)},Xe:function(b,d){b.runRenderLoop(d)},Bb:function(b,d){b.stopRenderLoop(d)},vl:function(b,
d,k){return b.getAspectRatio(d,k)},Rl:function(b){return b.getDeltaTime()},Wq:function(b,d){return b.getRenderWidth(d)},Vq:function(b,d){return b.getRenderHeight(d)},yl:function(){return l("Engine").audioEngine},yp:function(b,d){b.enableOfflineSupport=d},ql:function(b){return b.activeView},Oh:function(b,d){b.inputElement=d},Vm:function(b){return b.views},b:function(b){b.dispose()}};mh={Gn:function(b){return b.unlocked},unlock:function(b){b.unlock()}};wf={create:function(b,d,k){return new (l("BoundingInfo"))(b,
d,k)},Yd:function(b){return b.boundingBox},hh:function(b){return b.minimum},eh:function(b){return b.maximum},yo:function(b,d,k,m){return b.reConstruct(d,k,m)}};vf={Hg:function(b){return b.vectorsWorld},vm:function(b){return b.maximumWorld},tg:function(b){return b.minimumWorld}};Zd={create:function(b,d,k,m){return new (l("BoneLookController"))(b,d,k,m)},Ua:function(b,d){b.target=d},update:function(b){b.update()}};$d={gi:function(){return l("Space").BONE},Dq:function(){return l("Space").LOCAL},Ei:function(){return l("Space").WORLD}};
ec={create:function(b,d,k){return new (a())(b,d,k)},ah:function(b,d,k,m,n,q){return b.lookAt(d,k,m,n,q)},Ga:function(b,d,k){return b.computeWorldMatrix(d,k)},rotate:function(b,d,k,m){return b.rotate(d,k,m)},Um:function(b){return b.up},Zl:function(b){return b.forward},u:function(b){return b.position},setPosition:function(b,d){b.position=d},l:function(b){return b.scaling},N:function(b){return b.rotationQuaternion},fa:function(b,d){b.rotationQuaternion=d},te:function(b){return b.getWorldMatrix()},Bp:function(b,
d){b.id=d},de:function(b){return b.id},ea:function(b,d){b.parent=d},getParent:function(b){return b.parent},Ip:function(b,d){b.metadata=d},getMetadata:function(b){return b.metadata},Sl:function(b,d){return b.getDirection(d)},getName:function(b){return b.name},Nq:function(b,d){return b.detachFromBone(d)},mg:function(b,d){return b.getHierarchyBoundingVectors(d)},b:function(b,d,k){b.dispose(d,k)}};nh={Hq:function(){return l("Axis").X},Fi:function(){return l("Axis").Y},Iq:function(){return l("Axis").Z}};
oh={create:function(b,d,k,m,n,q,u){return new (l("FxaaPostProcess"))(b,d,k,m,n,q,u)}}})();var ph;(function(){ph={ji:function(a,f,e,c,g){return new self.BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(a,f,e,c,g)},Jq:function(a,f){return a.addControl(f)},gr:function(a,f){return a.removeControl(f)}}})();var Jd,Qd,Vd,Xd,qh,vh;
(function(){var a=!0,f=!1,e=!1,c=!1,g=30,h=!1,l=function(){var d=self.vpCommonApi;if(null==d)return null;d=d.localStorage.getItem("babylonjs-options");if(null==qc(d))return null;try{return JSON.parse(d)}catch(k){console.error(k)}return null}();if(null!=l){var b=function(d,k){var m=l[d];return null!=m?m:k};a=b("enableOfflineSupport",a);h=b("antiAliasing",h);f=b("doNotHandleContextLost",f);e=b("clearCachedVertexData",e);c=b("cleanCachedTextureBuffer",c);g=b("editingModeFps",g);console.log("===== Loaded babylon.js options =====");
console.log("enableOfflineSupport = "+a);console.log("doNotHandleContextLost = "+f);console.log("clearCachedVertexData = "+e);console.log("cleanCachedTextureBuffer = "+c);console.log("editingModeFps = "+g);console.log("antiAliasing = "+h)}qh=function(){return g};Xd=function(){return a};vh=function(){return h};Vd=function(){return f};Jd=function(){return e};Qd=function(){return c}})();var tf={};
(function(){function a(){return new Promise(function(w){self.character3dController=function(){return{getActionFamilyNameForCharacterFamilyName:function(U){return Vf(U)},fromElement:function(U){var fa=this;return new Promise(function(G,ba){var ca=U.closest('g[graphViewDrawPane="true"]');if(null==ca)ba("Cannot find enclosing graphViewDrawPane element");else{var va=[],la={getCanvasHostParentElement:function(){return ca},addAnimationInfoObserver:function(ha){va.push(ha)},removeAnimationInfoObserver:function(ha){ha=va.indexOf(ha);
0<=ha&&va.splice(ha,1)},getBrightness:function(){function ha(ia){if(null==ia)return null;if("svg"==ia.nodeName||"SVG"==ia.nodeName){var qa=ia.getAttribute("animation");if(qa){try{var ra=JSON.parse(qa)}catch(rc){ra={}}qa=((ra.page||{}).animationInfo||{}).brightness;if(null!=qa)return qa}return ha(ia.parentElement)}return ha(ia.closest("svg"))}return ha(ca)},addAssetInfoForActionPropsIdAndPath:function(){},fireAnimationInfoObservers:function(){va.forEach(function(ha){return ha()})},dispatchElementCharacter3dControllerCreatedEventToDrawPane:function(ha){var ia=
la.getCanvasHostParentElement();null!=ia&&ia.dispatchEvent(new CustomEvent("elementCharacter3dControllerCreated",{detail:{elementCharacter3dController:ha,ownerOfElementCharacter3dController:la}}))}};fa.forOwner(la).then(function(ha){G(ha)})["catch"](function(ha){ba(ha)})}})},forOwner:function(U){return new Promise(function(fa,G){var ba=U.getCanvasHostParentElement();null==ba?G("Canvas host parent element cannot be null"):(ba=ba.querySelector("["+xd+"="+ee+"]"),null!=ba?(fa(ba.Ld),ba.parentElement.appendChild(ba),
U.dispatchElementCharacter3dControllerCreatedEventToDrawPane(ba.Ld)):k(U).then(function(ca){fa(ca)})["catch"](function(ca){G(ca)}))})}}}();w()})}function f(w){return qd.some(function(U){return w.toLowerCase().includes(U)})}function e(w,U){w=void 0===w?1:w;U=void 0===U?1.5:U;var fa=[];Array.from(Array(20)).map(function(G,ba){fa.push(w/20*ba)});Array.from(Array(20)).map(function(G,ba){fa.push(w+(U-w)/20*ba)});fa.push(U);return fa}function c(w){return new Promise(function(U,fa){var G;Na().then(function(){return a()}).then(function(){return ic(yb+
"/asset/b4/b4250e07-e467-42b5-91fd-8f77854797da/character.json")}).then(function(ba){G=ba;(function(){var ca=G["brightness_level.json"];Object.keys(ca).map(function(va){var la=ca[va];hd[va]=e(la["default"],la.max)});self.updateBrightnessLevel=function(va,la,ha){hd[va]=e(la,ha)}})();Zc=xg(G);tf.isNonMixamoBasedFamily=function(ca){return null!=G.non_mixamo_based_families[ca]};tf.is2DFamily=function(){var ca=function(){var va={};C(G["2d_families"],function(la){va[la]=!0});return va}();return function(va){return!0===
ca[va]}}();tf.isCharacterFamilySupportFeature=function(ca,va,la){null==la&&(la=!0);ca=G.non_mixamo_based_families[ca];return null==ca||null==ca[va]?la:!0===ca[va]};tf.getCharacterFamilyTextureSupportInfo=function(){var ca=G["character_textures.json"];return function(va){va=ca[va];return null==va||!0!==va.available?null:{supportColor:!0,supportImage:va.support_image}}}();return Cg()}).then(function(ba){gd=ba;ba=g(w);U(ba)})["catch"](function(ba){fa(ba)})})}function g(w){var U={},fa={};U.registerResource=
function(G,ba){fa[G]=ba};U.ARROW_HEAD_GLB_PATH_RESOURCE_KEY="AdjustHeadOrientationTool.arrowHeadGlbPath";U.Mm=function(G){return fa[G]};U.xl=function(G,ba){return w.getAssetUrlWithType(G,ba)};U.Ha=function(G,ba,ca){return w.ensureActionAssetInVpDiagramData?w.ensureActionAssetInVpDiagramData(G,ba,ca):Promise.resolve()};(function(){if("undefined"!==typeof window){var G=function(){var ba=Wd.yl();null!=ba&&(window.removeEventListener("click",G),!1===mh.Gn(ba)&&mh.unlock(ba))};window.addEventListener("click",
G)}})();return U}function h(w,U){return new Promise(function(fa,G){l(w,U).then(function(ba){fa(ba.assetUrl)})["catch"](function(ba){G(ba)})})}function l(w,U){return new Promise(function(fa,G){b().then(function(){return Nc.xl(w,U)}).then(function(ba){fa(ba)})["catch"](function(ba){G(ba)})})}function b(){return new Promise(function(w){null!=Nc?w():d(function(){w()})})}function d(w){null==od&&(od=function(){var U={},fa=[];U.Si=function(G){fa.push(G)};U.Po=function(){!1===Ha(fa)&&(C(fa,function(G){G()}),
fa=[])};return U}());od.Si(w)}function k(w){function U(){function Ma(){var B={};ie.add(B);return B}function Za(B,D,J,V,O,da,Ja){da&&Ce(B,Ja);D=ze(B,D,J);null!=D&&(B=O(),B=Ie(V,D,B));da&&Ce(B,Ja);return B}function Mb(){Ad(je&&!1===Xe)}function bc(){Xe&&(Xe=!1,Mb())}function zb(B){32===B.keyCode&&(Xe=!0,B.stopPropagation(),B.preventDefault(),Mb())}function Ib(){var B={},D=[];B.add=function(J){D.push(J)};B.remove=function(J){J=D.indexOf(J);0<=J&&D.splice(J,1)};B.fireEvent=function(J){D.forEach(function(V){V(J)})};
return B}function hc(B,D,J){B={characterElement:B.Xa.Rf,actionId:B.vd,propsId:B.vb};D.lf(B);J.fireEvent(B)}function mb(B,D,J,V){if(null!=B)return B;if(null==D)return null;if(null!=J&&(B=J.find(function(da){return"poseOffset"===da.type}),null!=B&&(B=B.boneRotations,null!=B))){D=Object.assign({},D);J=Object.keys(B);var O=function(da){return self.BabylonJsBoneMapper.ensureBoneNameInMixamo(da,V).toLowerCase().includes("left")};B=J.some(function(da){return f(da)&&O(da)});J=J.some(function(da){return f(da)&&
!O(da)});B&&delete D.left;J&&delete D.right;if(!(0<Object.keys(D).length))return null}return D}function Fb(B,D){return new Promise(function(J,V){null!=B?h(eb,B).then(function(O){return ic(O,!1===fc(O,yb))}).then(function(O){J(O.data)})["catch"](function(O){V(O)}):J(D)})}var $c=function(){var B={},D=function(){var J={},V={};J.add=function(O,da,Ja){var ab=V[da];null==ab&&(ab=[],V[da]=ab);ab.push({Lm:function(Ua){self.clearTimeout(Ja);O.uh(Ua);return O},un:function(Ua){return Ua===O},qa:function(){var Ua=
ab.indexOf(this);0<=Ua&&(ab.splice(Ua,1),0===ab.length&&delete V[da])}})};J.pop=function(O){var da=V[O];if(null==da)return null;var Ja=da.shift();0===da.length&&delete V[O];return Ja};J.remove=function(O,da){var Ja=V[O];null!=Ja&&(Ja=Ec(Ja,function(ab){return ab.un(da)}),null!=Ja&&Ja.qa())};return J}();B.Zd=function(J,V){var O=D.pop(J);return null!=O?O.Lm(V):null};B.Hk=function(J,V,O){var da=self.setTimeout(function(){D.remove(V,J);O()},1E3);D.add(J,V,da)};return B}(),eb={},ke=function(){function B(){var O=
{},da=null,Ja=null;O.add=function(ab){this.O()?Ja=ab:null!=da?da.push(ab):null!=Ja&&(da=[Ja,ab],Ja=null)};(function(){var ab=[];O.zf=function(Ua){0<=ab.indexOf(Ua)||ab.push(Ua)};O.Go=function(Ua){Ua=ab.indexOf(Ua);0>Ua||ab.splice(Ua,1)};O.Cn=function(){return 0===ab.length};O.mm=function(){return ab.length}})();O.ze=function(){return!1===this.Cn()};O.contains=function(ab){return this.O()?!1:null!=da?0<=da.indexOf(ab):ab===Ja};O.Kl=function(ab){if(this.O())return null;if(null!=Ja){var Ua=Ja;Ja=null;
return Ua}return null!=da?(Ua=function(){var pb=function(){var $b=ab.getAttribute("animations_json");if(null==qc($b))return null;a:{try{var cc=JSON.parse($b);break a}catch(gb){console.error(gb)}cc=null}return null==cc?null:cc.actions}();if(Ha(pb))return null;var Tb=Bd.og(pb[0]);Gc(da,{A:function(){return null==Ua},da:function($b){Bd.kl(Bd.pg(Tb,$b))&&(Ua=$b,da.splice(da.indexOf(Ua),1))}});return Ua}(),null==Ua&&(Ua=da.pop()),1===da.length&&(Ja=da[0],da=null),Ua):null};O.O=function(){return null==
Ja&&null==da};O.debug=function(){console.log("Reference count: "+this.mm());this.O()?console.log("Empty"):null!=Ja?console.log("One character object"):null!=da&&console.log(da.length+" character objects")};return O}function D(O){var da=V[O];null==da&&(da=B(),V[O]=da);return da}var J={},V={};J.register=function(O,da,Ja){O=D(O);O.contains(da)||(O.add(da),O.zf(Ja))};J.unregister=function(O,da,Ja){O=D(O);!1===O.contains(Ja)&&O.add(Ja);O.Go(da)};J.qa=function(O){null!=V[O]&&delete V[O]};J.ze=function(O){O=
V[O];return null==O?!1:O.ze()};J.Zd=function(O,da,Ja){O=V[O];if(null!=O&&!1===O.O()){O.zf(Ja);var ab=O.Kl(da);ab.uh(da);ab.Id=Ja}return ab};J.debug=function(){Da(V,function(O,da){console.log("characterAssetId: "+O);da.debug()})};return J}(),Bd=function(){var B={},D={};B.pg=function(J,V){return J+"\n"+V.Tm()};B.nm=function(J,V){var O=this.og(J);return this.pg(O,V)};B.og=function(J){return La(JSON.stringify(J))};B.Pd=function(){var J=0;Da(D,function(){J++});return J};B.debug=function(){console.log("Action count: "+
this.Pd());var J=0;Da(D,function(V){console.log(J+1+" : "+V);J++});console.log("\n")};B.register=function(J,V){D[J]!==V&&(D[J]=V)};B.unregister=function(J){delete D[J]};B.kl=function(J){return D[J]};B.ll=function(J){var V=D[J];null!=V&&delete D[J];return V};return B}();(function(){var B=function(){function D(){return{done:function(){V.shift();0<V.length&&V[0].resolve(D())}}}var J={},V=[];J.add=function(O,da){V.push({resolve:O,reject:da});1===V.length&&0<V.length&&V[0].resolve(D())};return J}();eb.Yo=
function(){return new Promise(function(D,J){B.add(D,J)})}})();eb.importGlbFile=function(B){return new Promise(function(D,J){var V=URL.createObjectURL(B),O=B.name;(function(){if(O.endsWith(".glb"))return ge.ka("",V,B,K.a,null,".glb");if(O.endsWith(".eglb"))return wd(V,!0).then(function(da){return ge.ka("",da.J,da.url,K.a,null,da.I)});J("unknown file extension")})().then(function(da){var Ja=he.H(da)[0];da=Z.N(Ja);var ab=Pb.ga(0,0,0);da.x=ab.x;da.y=ab.y;da.z=ab.z;da.w=ab.w;Sd.qc(Z.l(Ja),8);var Ua=Z.u(Ja);
Ua.y-=6;document.addEventListener("keydown",function(pb){switch(pb.key){case "a":case "A":Ua.x-=.25;break;case "d":case "D":Ua.x+=.25;break;case "w":case "W":Ua.y+=.25;break;case "s":case "S":Ua.y-=.25;break;case "=":case "+":Sd.qc(Z.l(Ja),1.15);break;case "-":case "_":Sd.qc(Z.l(Ja),.85)}});D()})["catch"](function(da){J(da)})["finally"](function(){URL.revokeObjectURL(V)})})};eb.setEditingMode=function(B){rh=B};eb.sn=function(B){return function(){ie.b();jc.b();null!=cg&&cg();hb.mb(K);Ld.b(B)}}(K.a,
K.P);eb.clearCache=function(){uc.Qj(K.a)};eb.freezeGetCanvasZoneBoundsFunctionAndReturnHandler=function(){var B=ca,D=ca();ca=function(){return D};return{restore:function(){ca=B}}};eb.prepareApplyCamera=function(){null==this.ic&&(this.ic=function(){var B=new Map,D=new Map,J=null==Cd?{x:0,y:0,width:0,height:0}:Cd.getBoundingClientRect();jc.D(function(da){var Ja=jc.Aa(da).Xa,ab=Ja.Jb(),Ua=Ja.getAttribute("data-char-bounds");B.set(da,{boundingClientRect:ab,oa:Ua&&JSON.parse(Ua)});D.set(da,Ja)});var V=
ca(),O=ca;ca=function(){return V};return{Nl:function(da){return B.get(da)},Rq:function(da){return D.get(da)},Hl:function(){return J},qa:function(){ca=O}}}())};eb.getInfoForCamera=function(){return this.ic};eb.applyCamera=function(B,D,J){var V=this.ic;jc.D(function(O){var da=V.Nl(O),Ja=da.boundingClientRect;da=da.oa;var ab=V.Hl();da?O.mp(da.x,da.y,da.width,da.height):O.lp((Ja.x-ab.x)*B+(ab.x+D*B),(Ja.y-ab.y)*B+(ab.y+J*B),Ja.width*B,Ja.height*B)})};eb.finishApplyCamera=function(){this.ic.qa();delete this.ic};
var Gh=function(){function B(){var J=ac();hc(J,{lf:function(V){var O=Z.u(J);V.position={x:O.x,y:O.y,z:O.z}}},sh)}var D;return function(J){if(J!==Rg.Fe(K.F)){Rg.Qp(K.F,J);if(J){J=Rg.le(K.F);var V=nc();Sg.wc(V,J);J=cb();D=Mg.add(J,B)}else J=D,V=cb(),Mg.remove(V,J),D=null;dg.fireEvent()}}}(),Hh=function(){function B(){var J=ib();hc(J,{lf:function(V){var O=Z.l(J),da=Z.u(J),Ja=Z.N(J);V.scale={x:O.x,y:O.y,z:O.z};V.position={x:da.x,y:da.y,z:da.z};V.rotation={x:Ja.x,y:Ja.y,z:Ja.z,w:Pb.pb(Ja)}}},th)}var D;
return function(J){if(J!==Rg.He(K.F)){Rg.Vp(K.F,J);if(J){J=Rg.le(K.F);var V=Gb();Sg.wc(V,J);J=qb();D=Mg.add(J,B);J=Gb();V=eh.Jg(J);var O=eh.gc(J);dh.s(eh.Ig(J),!1);dh.s(V,!1);dh.s(O,!1)}else J=D,V=qb(),Mg.remove(V,J),D=null;eg.fireEvent()}}}(),gg=function(){function B(){var J=Bb();null!=J.Xa&&hc(J,{lf:function(V){var O=Z.N(J),da=Z.u(J),Ja=Z.l(J);V.rotation={x:O.x,y:O.y,z:O.z,w:Pb.pb(O)};V.position={x:da.x,y:da.y,z:da.z};V.scale={x:Ja.x,y:Ja.y,z:Ja.z}}},uh)}var D;return function(J){if(J!==Rg.Ge(K.F)){Rg.kd(K.F,
J);if(J){J=Rg.le(K.F);var V=Ub();Sg.wc(V,J);D=ra(B)}else qa(D),D=null;fg.fireEvent()}}}(),Ye=Ib();eb.addPoseEditorShowingListener=function(B){Ye.add(B)};eb.removePoseEditorShowingListener=function(B){Ye.remove(B)};var sh=Ib(),th=Ib(),uh=Ib();eb.addPropsPositionChangedListener=function(B){sh.add(B)};eb.addPropsScaleChangedListener=function(B){th.add(B)};eb.addPropsRotationChangedListener=function(B){uh.add(B)};var dg=Ib();eb.addPropsPositionGizmoEnabledChangedListener=function(B){dg.add(B)};eb.removePropsPositionGizmoEnabledChangedListener=
function(B){dg.remove(B)};var eg=Ib();eb.addPropsScaleGizmoEnabledChangedListener=function(B){eg.add(B)};eb.removePropsScaleGizmoEnabledChangedListener=function(B){eg.remove(B)};var fg=Ib();eb.addPropsRotationGizmoEnabledChangedListener=function(B){fg.add(B)};eb.removePropsRotationGizmoEnabledChangedListener=function(B){fg.remove(B)};eb.enableInput=function(){K.De=K.canvas;null!=K.Hc&&lh.isEnabled(K.Hc)&&"function"===typeof hb.Lh&&hb.Lh(K.De)};eb.setGizmoManagerScaleRatio=function(B){Rg.wc(K.F,B)};
eb.hasMultipleViews=function(){return hb.ye()};eb.getScene=function(){return K.a};eb.startRender=function(){rd++;1==rd&&hb.md(K)};eb.stopRender=function(){rd--;0==rd&&hb.Bb(K)};eb.clearRender=function(){rd=0;hb.Bb(K)};eb.renderOnce=function(){var B=this;return this.hasMultipleViews()?new Promise(function(D){Mg.Ec(Ld.ie(K.a),function(){D();B.stopRender()});B.startRender()}):Ih(K.P)};eb.setCanvasParentElementBounds=function(B,D,J,V){K.Ea.setAttribute("x",B);K.Ea.setAttribute("y",D);K.Ea.setAttribute("width",
J);K.Ea.setAttribute("height",V)};eb.boundsChanged=function(B,D){function J(){var O=K.canvas;0!==O.clientWidth&&0!==O.clientHeight&&(Wd.resize(K.P),K.Yc.gb(),K.a.Yf=!0,V.synchronizeAllCharactersBounds(D),delete K.a.Yf)}null==B&&(B=!1);var V=this;B?J():K.a.Ri(J)};eb.requestRealTimeRender=function(){hg=!0};eb.synchronizeAllCharactersBounds=function(B){jc.mq(B)};eb.getActionDurationInSeconds=function(B){var D=this;return new Promise(function(J,V){h(D,B).then(function(O){return wd(O,void 0)}).then(function(O){return Hd(O.J,
O.url,K.a,null,O.I,!0,B)}).then(function(O){var da=Ef.H(O);!1===Ha(da)&&Kc(da,function(Ja){nf(Ja)});da=X.v(Ef.ca(O)[0])/lb;Ef.b(O);delete O.rootNodes;J(da)})["catch"](function(O){V(O)})})};eb.loadBlendAction=function(B,D,J,V,O,da,Ja){return new Promise(function(ab){function Ua(){pb()}function pb(){function gb(){function Ya(wb,fb){C(X.j(wb),function(Eb){fb(Eb)})}var Kb=function(){function wb(Cb){return gh.m(Cb).name+"\n"+Y.B(gh.f(Cb))}var fb={},Eb={};fb.get=function(Cb){Cb=wb(Cb);return Eb[Cb]};fb.set=
function(Cb,Xa){var xb=wb(Cb);Eb[xb]=Xa};return fb}();Ya(Tb,function(wb){var fb=Ea.f(wb),Eb=Y.h(fb).length,Cb=Y.K(fb,db);fb=Y.h(fb);Eb=Eb!==fb.length;var Xa=fb[Cb];null!=Xa&&Kb.set(wb,Ue.va(Xa));Eb&&fb.splice(Cb,1)});Ya($b,function(wb){var fb=Ea.f(wb),Eb=Y.h(fb).length,Cb=Y.K(fb,Vb),Xa=Y.h(fb);Eb=Eb!==Xa.length;var xb=Xa[Cb];if(null!=xb){var Va=Kb.get(wb);if(null!=Va){xb=[{frame:0,value:Va},{frame:V*lb,value:Ue.va(xb)}];fb=Y.create(null,Y.B(fb),Y.lg(fb),Y.ig(fb),Y.sm(fb));if(null!=O){Va=O.mode;var rb=
wh(O.type);bh.wp(rb,zh(Va));Y.vp(fb,rb)}Y.ya(fb,xb);wb=Ea.m(wb);X.ma(cc,fb,wb)}}Eb&&Xa.splice(Cb,1)});X.start(cc);X.pause(cc)}function kb(Ya,Kb){var wb={},fb=Ge(Ya);X.Ba(Ya,Kb);wb.restore=function(){X.Ba(Ya,fb)};return wb}var Nb=Tb,Sa=$b;Tb=X.clone(Tb);$b=X.clone($b);null!=cc&&X.b(cc);cc=X.create(null,K.a);var db=function(){var Ya=J-da;0>Ya&&(Ya=0);Ya=Ya*Ja*lb;Ya+=B.bi;var Kb=X.v(Tb)-B.pq;Ya>Kb&&(Ya=Kb);return Ya}(),Vb=X.R($b)+D.bi,Ga=kb(Tb,db),Db=kb($b,Vb);try{gb()}finally{Ga.restore(),Db.restore()}Tb=
Nb;$b=Sa}var Tb=B.Rd(),$b=D.Rd(),cc=null;pb();B.wf(Ua);D.wf(Ua);ab({seek:function(gb){return new Promise(function(kb){B.jd();var Nb=gb*lb;q(cc);X.Ba(Tb,X.v(Tb));X.Ba(cc,Nb);kb()})},play:function(){return new Promise(function(gb){X.play(cc);gb()})},pause:function(){return new Promise(function(gb){X.pause(cc);gb()})},getStartTime:function(){return J},getDuration:function(){return V},destroy:function(){X.b(cc)}})})};var Xe=!1,je=!1,Ze=null,Md=null;eb.loadAction=function(B,D,J,V,O){function da(pb,Tb){var $b=
B.La(pb.id);if(null!=$b)return Tb($b)}function Ja(pb){return da(pb,function(Tb){return Tb.Lb()})}function ab(pb){return da(pb,function(Tb){return Tb.Mc()})}var Ua=O.indexOf(D);return new Promise(function(pb,Tb){var $b=Bd.nm(D,B),cc=Bd.ll($b);if(null!=cc)B.vf(D.id,cc),pb(cc);else{var gb=!0===D.flipH,kb=gb;Fb(D.patchedAnimationGroupDataAssetId,D.patchedAnimationGroupData).then(function(Nb){function Sa(){return new Promise(function(Va,rb){ta(Eb,Cb,fb+".glb").then(function(nb){return wd(nb,void 0)}).then(function(nb){Va({Wo:nb.url,
I:nb.I,J:nb.J})})["catch"](function(nb){rb(nb)})})}var db=D.armSpace,Vb=D.shoulderPosition,Ga=new vg,Db=function(){if(null==Nb)return null;var Va=Nb.allPropInfoLists;if(Ha(Va))return null;Va=Dc(Va);C(Va,function(rb){rb=rb.propInfoList;Ha(rb)||C(rb,function(nb){var Wb=nb.actionPropsIdAndPath;null!=Wb&&(delete nb.actionPropsIdAndPath,nb.la=Wb)})});return Va}(),Ya=new pc,Kb=null,wb,fb=D.assetId,Eb,Cb,Xa,xb;l(eb,fb).then(function(Va){function rb(){var bb=D.positionOffset;if(bb)return bb;if(0<Ua)for(bb=
Ua-1;0<=bb;bb--){var ua=O[bb].positionOffset;if(ua)return Object.assign({},ua)}return null}function nb(bb){if(-1001===bb||0===Ua&&-1E3===bb)bb=Rb;if(0<Ua&&(-1E3===bb||-1001===bb))for(var ua=Ua-1;0<=ua;ua--){var ub=O[ua],xa=vb(ub),Jb=!0===ub.turn;if(-1E3!==xa&&-1001!==xa||Jb||0===ua){!1===Jb?bb=-1E3===xa||-1001===xa?Rb:xa:(ua=B.La(ub.id).rg(),null!=ua&&(bb=ua,bb=Dd(bb)));break}}0===bb?bb=0:-180===bb||180===bb?bb=-Math.PI:(ua=Math.PI/180*bb,bb=0>bb?Math.abs(ua):-Math.abs(ua));return bb}function Wb(bb){var ua=
Ba.ia(Je(sb,J));ec.Ga(ua,!0);ua=ec.getParent(ua);ua=ec.Sl(ua,nh.Fi());return Pb.Ci(ua,bb)}Eb=Va.assetUrl;Cb=Va.assetType;var Fc=vb(D);null==Fc&&(Fc=0);var sb=jc.be(B);wb=function(bb){return new Promise(function(ua,ub){function xa(Oa){return new Promise(function(ja,oc){(new wg(D.expressionName,J,B,Oa)).C().then(function(){ja()})["catch"](function(Yb){oc(Yb)})})}var Jb=pe(bb);null!=Jb&&(Kb=Jb.handProps);var Ob=Ef.ca(bb)[0];Ob=X.clone(Ob);u(Ob);var Jc=D.startRatio||tf.ba,vc=D.endRatio||tf.aa;Promise.resolve().then(function(){gb&&
Ce(Ob,J);if(null==Be(Ob,B.ja(),"rotationQuaternion")){var Oa=Je(sb,J),ja=function(){var H=Pb.create(),t=Ba.dc(Oa);Qb.Qa(t,null,H,null);return H}(),oc=[],Yb=function(H){oc.push({frame:H,value:ja})},kc=X.R(Ob),wc=X.v(Ob);Yb(kc);Yb(wc);Yb=function(){var H=lb,t=Y.Ud();return Y.create(null,"rotationQuaternion",H,t)}();Y.ya(Yb,oc);X.ma(Ob,Yb,Ba.ia(Oa))}if(null==Be(Ob,B.ja(),"position")){Oa=Je(sb,J);var dc=function(){var H=Sd.create(),t=Ba.dc(Oa);Qb.Qa(t,null,null,H);return H}();oc=[];Yb=function(H){oc.push({frame:H,
value:dc})};kc=X.R(Ob);wc=X.v(Ob);Yb(kc);Yb(wc);Yb=function(){var H=lb,t=Y.Vd();return Y.create(null,"position",H,t)}();Y.ya(Yb,oc);X.ma(Ob,Yb,Ba.ia(Oa))}var Sc=function(){var H=D.inPlace;"boolean"===typeof H&&(H=H?"z":null);return H}(),xc=jc.Xd(B),sc=jc.lm(B),r=function(){var H=null;0===Ua&&(H=self.lockInPlace);return H}();return function(){return new Promise(function(H,t){var E=sb,F=jc.Aa(B),z=Ob;E=new oe(E,F,z,sc,xc,J,K.a);F=D.overriddenInPlaces;E.yb(Sc);E.fd(r);E.gd(F);var x=function(){var R=
D.armSpace;null==R&&(R=Ne());return R}(),y=D.shoulderPosition,N=D.customizations,L=null!=Nb||!1===Ha(N);E.cf(L?null:x);E.gf(L?null:y);E.bb();if(null!=Nb){var I=jc.Aa(B);E=Za(z,I,Nb,K.a,function(){var R={};C(Aa.M(sb),function(T){var v=Ba.getName(T);T=Ba.ia(T);R[v]=T});return function(T){return T===He?I:R[T]}},gb,J);if(null!=E){z=E;var aa=[];E=Je(sb,J);var M=Ba.getName(E);C(X.j(z),function(R){var T=Ea.m(R);R=Ea.f(R);var v=Y.B(R),A=!1;"rotationQuaternion"!==v&&(A=!0,"position"===v&&null!=T&&T.id===M&&
(A=!1));A&&aa.push(R)});C(aa,function(R){X.Ah(z,R)})}}(function(){return new Promise(function(R,T){if(Ha(N))R();else{var v=B.Nf(N,z,Ya,Ga);v.eb(Jc);v.cb(vc);v.ed(gb);v.C().then(function(){R()})["catch"](function(A){T(A)})}})})().then(function(){L&&!1===Oe(x)&&Te(z,x,J);L&&!1===df(y)&&ef(z,y,J,K.a);return xa(z)}).then(function(){H(z)})["catch"](function(R){t(R)})})}()}).then(function(Oa){function ja(x){function y(){var L=Z.fg(x,!1);!1===Ha(L)&&Kc(L,function(I){nf(I)});nf(x)}if(B.nf){var N=function(){!1!==
B.Xj(N)&&(B.Io(N),y())};B.Qi(N);self.setTimeout(N,1E3)}else y();B.Eo(x)}function oc(){var x=rb();if(null!=x){var y=B.ja();Ae(x,y,Oa)}}function Yb(){kc(function(){X.stop(Oa);X.start(Oa,!1,t);X.pause(Oa)})}function kc(x){var y=Ge(Oa);try{x()}finally{null!=y&&X.Ba(Oa,y)}}function wc(){var x=B.ja();return Be(Oa,x,"position")}function dc(){var x=B.ja();return Be(Oa,x,"rotationQuaternion")}function Sc(){X.Ba(Oa,Ge(Oa))}var xc=function(){var x={},y={},N=function(){var L=dc();return Y.h(Ea.f(L))}();C(N,function(L){y[L.frame]=
L.value.clone()});x.get=function(L){return y[L]};x.Wm=function(L){var I=this.get(L);if(null!=I)return I;var aa=Ec(N,function(T){return T.frame>L});if(null==aa)return null;I=N[N.indexOf(aa)-1];if(null==I)return null;I=I.frame;aa=aa.frame;var M=this.get(I),R=this.get(aa);return Pb.sd(M,R,(L-I)/(aa-I))};return x}(),sc=function(){var x={},y={},N=function(){var L=wc();return Y.h(Ea.f(L))}();C(N,function(L){y[L.frame]=L.value.clone()});x.get=function(L){return y[L]};return x}(),r=null;(function(){Oa.ad=
function(){function x(){var aa=function(){var M=B.ja();return Be(Oa,M,"position")}();aa=Y.h(Ea.f(aa));C(aa,function(M){var R=sc.get(M.frame);M.value=Sd.Xb(R,y)})}var y=function(){var aa=-nb(Fc);return Wb(aa)}(),N=!0,L=Oa.ij;if(null!=L){var I=L.Uo;N=L.So;L=ud(L.oo,y);L=ud(L,I);y=td(N,L);N=!1}(function(){function aa(Q){var oa=Y.clone(R);Q=Y.K(oa,Q);oa=Y.h(oa);return Pb.Oa(oa[Math.max(Math.min(Q,oa.length-1),0)].value).y}var M=function(){var Q=B.ja();return Be(Oa,Q,"rotationQuaternion")}(),R=Ea.f(M);
M=Y.h(R);C(M,function(Q){var oa=xc.get(Q.frame);Q.value=ud(oa,y)});var T=X.v(Oa)*Jc,v=X.v(Oa)*vc;if(-1001===D.angle&&0<Ua){var A=B.La(O[Ua-1].id);T=aa(T);if(null!=A){var P=Wb(A.rg()-T);C(M,function(Q){var oa=xc.get(Q.frame);Q.value=ud(oa,P)})}}r=aa(v)})();N&&x()};(function(){function x(aa){N.push({frame:aa,value:L})}var y=function(){var aa=lb,M=Y.Ud();return Y.create(null,"rotationQuaternion",aa,M)}(),N=[],L=fd(J),I=X.v(Oa);x(X.R(Oa));x(I);Y.ya(y,N);I=jc.Aa(B);X.ma(Oa,y,I)})();Oa.ad()})();oc();var H=
Ef.H(bb);!1===Ha(H)&&Kc(H,function(x){nf(x)});delete bb.rootNodes;Ef.b(bb);X.tc(Oa,!1);var t=D.speed;H=X.v(Oa);var E=Jc*H,F=(1-vc)*H;X.start(Oa,!1,t);X.pause(Oa);var z=function(){function x(){var M=la();if(M!==je){var R=M?y.T.Ag(Md):null;Nd(R);M?R&&(Ze=R.vb):Ze=null}M=la();M!==je&&(je=M,Mb(),je?(mxEvent.addListener(document,"keydown",zb),mxEvent.addListener(document,"keyup",bc)):(mxEvent.removeListener(document,"keydown",zb),mxEvent.removeListener(document,"keyup",bc)))}var y={Lb:function(){return this.T.Lb()},
Mc:function(){return this.T.Mc()},ad:function(){Oa.ad();oc()},buildTimeline:function(M){var R=this;return new Promise(function(T,v){R.$h();(function(){return new Promise(function(A,P){function Q(){return new Promise(function(oa,ya){Ya.O()&&null==Kb?oa():R.aj(M).then(function(){oa()})["catch"](function(Ta){ya(Ta)})})}R.$i(M).then(function(){return Q()}).then(function(){A()})["catch"](function(oa){P(oa)})})})().then(function(){T()})["catch"](function(A){v(A)})["finally"](function(){R.Sf()})})}},N=function(){function M(v){C(T,
function(A){v(A)})}var R={},T=[];R.add=function(v){T.push(v)};R.qa=function(){Ha(T)||(M(function(v){ja(v)}),T=[])};R.Jk=function(){Ha(T)||M(function(v){Z.isEnabled(v)&&Z.s(v,!1)})};return R}();y.bi=E;y.pq=F;y.pause=function(){return new Promise(function(M){X.pause(Oa);M()})};y.play=function(){return new Promise(function(M){X.play(Oa);M()})};y.reset=function(){X.reset(Oa)};var L=null;y.ib=function(M){null==L&&(L=[]);L.push(M)};y.updateActionInfoForInheritedPropsChangedToFalse=function(M){var R=this.T.Fd;
Ha(R)||(M=M.customizations,Ha(M)||C(M,function(T){if(T.type===mg){var v=T.boneRotations;C(R,function(A){null!=v[A]&&delete v[A]})}}))};y.seek=function(M){return new Promise(function(R){y.jd();var T=M*lb*t;T+=E;q(Oa,!1,t);X.Ba(Oa,T);0===M&&!1===Ha(L)&&C(L,function(v){v()});R()})};y.destroy=function(M){null==M&&(M=!1);M?(X.Uc(Oa)&&X.stop(Oa),B.zh(this),Bd.register($b,this),N.Jk()):(Bd.unregister($b),B.zh(this),X.stop(Oa),X.b(Oa),this.Ik(),I.qa(),aa.qa(),this.Pj(),N.qa())};y.hasProps=function(){return this.T.Nb()};
y.getPropsIds=function(){return this.T.Km()};y.getCurrentPropsId=function(){return Md};y.setCurrentPropsId=function(M){Md=M;var R=la(),T=R?y.T.Ag(M):null;Nd(T);Ze=R?M:null};y.isShowPositionController=function(){return Rg.Fe(K.F)};y.setShowPositionController=function(M){Gh(M);x()};y.isShowScaleController=function(){return Rg.He(K.F)};y.setShowScaleController=function(M){Hh(M);x()};y.isShowRotationController=function(){return Rg.Ge(K.F)};y.setShowRotationController=function(M){gg(M);x()};var I=function(){function M(A){!1===
Ha(T)&&C(T,function(P){A(P)})}var R={},T=[];R.add=function(A){T.push(A)};R.wd=function(){M(function(A){A.wd()})};var v=!1;R.clear=function(){M(function(A){A.kill()})};R.qa=function(){v||(v=!0,this.clear())};return R}(),aa=function(){var M={},R=[];M.add=function(v){R.push(v)};var T=!1;M.clear=function(){!1===Ha(R)&&C(R,function(v){v.kill()})};M.qa=function(){T||(T=!0,this.clear())};return M}();(function(){function M(v,A){if(v.first)return A[0].value;if(v.last){var P=[].concat(A);P.reverse();return P[0].value}return null}
function R(){null!=T?T.restore():T=function(){var v={},A=new Map,P=X.v(Oa);C(X.j(Oa),function(Q){var oa=S(Ea.f(Q));A.set(Q,oa)});v.restore=function(){A.forEach(function(Q,oa){Ea.Ih(oa,S(Q))});X.Sb(Oa,P)};return v}()}(function(){var v=null;y.oc=function(A,P,Q){function oa(){return new Promise(function(Ra,Pa){var pa=D.customizations;if(Ha(pa))Pa("There is no customizations");else{pa=Dc(pa);var Ka=Ec(pa,function(Zb){return"motionMixer"===Zb.type});if(null==Ka)Pa("No motion mixer customization is found");
else if(Ka=Ka.actions,Ha(Ka))Pa("There is no sub actions");else{var Qa=Ec(Ka,function(Zb){return Zb.id===A});if(null==Qa)Pa("Sub action with ID "+A+" not found");else{var ob=null!=P,jb=null!=Q;if(ob&&jb)Pa("Cannot preview trimmed sub action for both start and end ratio");else{Ka=Qa.startRatio;var lc=Qa.endRatio;!1===ob&&(P=Ka);!1===jb&&(Q=lc);if(P===Ka&&Q===lc)Ra();else{Ka=Qa.duration/(1-(Ka+(1-lc)));var Lb=Ka-Ka*P-Ka*(1-Q);ya.$h();Qa.startRatio=P;Qa.endRatio=Q;Qa.duration=Lb;Qa.playCount=1;B.Nf(pa,
Oa,new pc,new vg).C().then(function(){ya.dh()})["catch"](function(Zb){Pa(Zb)})["finally"](function(){ya.Sf();ya.seek(ob?Qa.startTime:jb?Qa.startTime+Lb/Qa.speed:0).then(function(){Ra()})["catch"](function(Zb){Pa(Zb)})})}}}}}})}var ya=this,Ta=this.oc;this.oc=function(Ra,Pa,pa){return new Promise(function(Ka,Qa){if(Ra!==A)Qa("Different sub action id "+Ra+", expecting "+A);else{if(null!=v){var ob=v.Eh;ob()}v={Ja:Pa,Ka:pa,Eh:Ka,Do:Qa}}})};return new Promise(function(Ra,Pa){oa().then(function(){Ra()})["catch"](function(pa){Pa(pa)})["finally"](function(){ya.oc=
Ta;if(null!=v){var pa=v.Ja,Ka=v.Ka,Qa=v.Eh,ob=v.Do;v=null;ya.oc(A,pa,Ka).then(function(){Qa()})["catch"](function(jb){ob(jb)})}})})}})();y.km=function(){function v(oa){oa=Pb.Oa(oa);return Dd(oa.y)}var A=X.v(Oa)*Jc,P=xc.Wm(A);if(null==P)return null;var Q=function(){var oa=dc();if(null==oa)return null;oa=Y.h(Ea.f(oa));var ya=oa[A];if(null!=ya)return v(ya.value);ya=Ec(oa,function(Ta){return Ta.frame>A});if(null==ya)return null;oa=oa[oa.indexOf(ya)-1];return v(Pb.sd(oa.value,ya.value,(A-oa.frame)/(ya.frame-
oa.frame)))}();return null==Q?null:Q-v(P)};y.Rp=function(v,A){var P=function(){var Q=-nb(Fc);return Pb.ga(0,Q,0)}();(function(){var Q=wc();Q=Y.h(Ea.f(Q));C(Q,function(oa){var ya=sc.get(oa.frame);null!=ya&&(ya=Sd.Xb(ya,P),ya.x+=v,ya.y+=A,oa.value=ya)})})();Sc()};y.Wp=function(v){C(X.j(Oa),function(A){var P=Ea.m(A),Q=Ba.getName(P);bf(Q,J)&&(A=Y.h(Ea.f(A)),C(A,function(oa){var ya=af(Ue.va(oa),Vb,J,Q,K.a);ya=We(ya,v,J,Q,K.a);Ue.fb(oa,ya)}))});Sc();Vb=v};y.ap=function(v){var A=function(){var P=zd(v);return Wb(P)}();
(function(){var P=dc();P=Y.h(Ea.f(P));C(P,function(Q){var oa=xc.get(Q.frame);null!=oa&&(oa=ud(oa,A),Q.value=oa)})})();(function(){var P=wc();P=Y.h(Ea.f(P));var Q=null,oa=null;(function(){var ya=D.positionOffset;null!=ya&&(Q=ya.horizontal,oa=ya.vertical);null==Q&&(Q=0);null==oa&&(oa=0)})();C(P,function(ya){var Ta=sc.get(ya.frame);Ta=Sd.Xb(Ta,A);if(0!==Q||0!==oa)Ta=Sd.clone(Ta),Ta.x+=Q,Ta.y+=oa;null!=Ta&&(ya.value=Ta)})})();Sc()};y.fp=function(v){C(X.j(Oa),function(A){var P=Ea.m(A),Q=Ba.getName(P);
Re(Q,J)&&(A=Y.h(Ea.f(A)),C(A,function(oa){var ya=Se(Ue.va(oa),db,J,Q);ya=Qe(ya,v,J,Q);Ue.fb(oa,ya)}))});Sc();db=v};y.rg=function(){return r};y.jl=function(){return D};y.Oi=function(v){N.add(v)};(function(){var v=[];y.wf=function(A){v.push(A)};y.fr=function(A){A=v.indexOf(A);0<=A&&v.splice(A,1)};y.Uf=function(){!1===Ha(v)&&C(v,function(A){A()})};y.Pj=function(){v=[]}})();var T=null;y.Dk=function(){var v=this,A={},P=!1;A.Zn=function(){P=!0};A.Tk=function(){P&&kc(function(){Yb();v.Uf()})};return A};
(function(){var v=function(){var A=na(J);var P=jc.be(B);A=Ff(P,A);A=null==A?null:Ba.ia(A);if(null==A)return null;P=D.headOrientation;var Q=K.a,oa=jc.Aa(B);return new Ug(Oa,P,Ua,O,Q,A,J,oa)}();y.Mf=function(){null!=v&&v.C()&&this.Uf()}})();y.$h=function(){this.mf=this.Dk();R()};y.Sf=function(){this.mf.Tk();delete this.mf};y.dh=function(){this.mf.Zn()};y.Ki=function(){I.wd()};y.$i=function(v){return new Promise(function(A){var P=function(){var Q=Ja(D);return new Gg(Q,D.inheritProps,D.startTime,Oa,K.a,
v,t,Jc,vc)}();(function(){if(null!=xb){var Q=xb.frameInOriginalAnimation;null!=Q&&P.zp(Q)}})();Ua<O.length-1&&P.ff(O[Ua+1].startTime);(function(){var Q=P.Bd;P.Bd=function(oa,ya){Q.apply(this,arguments);I.add(oa)}})();P.qb();A()})};y.aj=function(v){var A=this;return new Promise(function(P,Q){var oa=function(){return{Wb:function(Ka){z.Oi(Ka);B.xd(Ka)},ib:function(Ka){A.ib(Ka)}}}(),ya=mb(!1===Ya.O()?Ya.Jc():null,Kb,D.customizations,J);if(null==ya)P();else{var Ta=jc.Aa(B),Ra=jc.be(B),Pa=Ig(D.startTime,
D.duration,Ua,O.length),pa=new Hg(oa,ya,K.a,J,Ta,Ra,v,Ga,Oa,Pa);Ua<O.length-1&&pa.ff(O[Ua+1].startTime);pa.qb().then(function(){pa.Ae()&&pa.Qn(function(Ka){aa.add(Ka)});P()})["catch"](function(Ka){Q(Ka)})["finally"](function(){B.Mj();pa.Ef&&A.dh()})}})};y.uq=function(){return new Promise(function(v){v()})};y.getRotationAngle=function(v,A){var P=A.notNull?0:null,Q=X.j(Oa);if(null==Q)return P;Q=Q.find(function(oa){var ya=Ea.m(oa),Ta=jc.Aa(B);if(ya!==Ta)return!1;oa=Ea.f(oa);return null==oa?!1:"rotationQuaternion"===
Y.B(oa)});if(null==Q)return P;Q=Ea.f(Q);if(null==Q)return P;Q=Y.h(Q);if(null==Q||0==Q.length)return P;Q=M(A,Q);return null==Q?P:Yd(Pb.Oa(Q).y,v)*(180/Math.PI)};y.getHipsBonePosition=function(v){var A=v.notNull?0:{x:0,y:0,z:0},P=new Map,Q=Aa.M(sb).map(function(ya){var Ta=Ba.getName(ya);P.set(Ta,ya);return Ta});Q=self.BabylonJsBoneMapper.getCharacterFamilyNameByBoneNames(Q);var oa=self.BabylonJsBoneMapper.remapBoneName("mixamorig:Hips",Q);if(null==oa)return A;Q=X.j(Oa);if(null==Q)return A;Q=Q.find(function(ya){if(Ea.m(ya).name!==
oa)return!1;ya=Ea.f(ya);return null==ya?!1:"position"===Y.B(ya)});if(null==Q)return A;Q=Ea.f(Q);if(null==Q)return A;Q=Y.h(Q);if(null==Q||0==Q.length)return A;v=M(v,Q);return null==v?A:{x:v.x,y:v.y,z:v.z}};y.ar=function(){return inPlace};y.jd=function(){this.T.jd(B)};y.Rd=function(){return Oa};y.kc=function(v){this.T.kc(v)};y.Ik=function(){this.kc(function(v){ja(v)})}})();return y}();Bg().then(function(x){z.isShowPropsForFileName=x.Mg});B.vf(D.id,z);ua(z)})["catch"](function(Oa){ub(Oa)})})};return Sa()}).then(function(Va){return Hd(Va.J,
Va.Wo,K.a,null,Va.I,!0,fb)}).then(function(Va){if(null==Va)Tb("assetContainer is null");else return xb=pe(Va),null!=xb&&!0===xb.flipHorizontally&&(kb=!0),wb(Va)}).then(function(Va){Xa=Va;var rb=function(){var nb=function(){return{L:function(bb){return h(eb,bb)},ob:function(){return Ja(O[Ua-1])},nb:function(){return ab(O[Ua-1])}}}(),Wb=function(){var bb=jc.Aa(B),ua=B.flipH(),ub=B.flipV();return sg(V,J,bb).uc(ua).dd(ub).$()}(),Fc=function(){var bb=D.showProps,ua=D.propsTransforms,ub=D.inheritProps&&
0<Ua;return rg().Uh(bb).Sh(ua).vc(kb).Nh(ub).$()}(),sb=function(){var bb=D.duration,ua=D.startRatio,ub=D.endRatio,xa=D.speed,Jb=null!=xb?xb.actionAssetPathForLoadProps:null,Ob=D.customizations;return tg(Eb).bd(Jb).cd(Ob).sc(bb).eb(ua).cb(ub).zb(xa).$()}();return new ug(nb,Wb,gd,sb,K.a,Fc,Xa.Rd())}();Xa.T=rb;rb.yd=function(nb){xh(nb)};rb.rh=function(nb){nb&&Xa.Ki();this.kc(function(Wb){Ze===Wb.vb&&Nd(nb?Wb:null)})};(function(){var nb=rb.Re;rb.Re=function(Wb,Fc){nb.apply(this,arguments);var sb=jc.Aa(B);
Wb.Xa=sb.Xa;Wb.vd=D.id;B.xd(Wb)}})();rb.af(function(){var nb=[],Wb=Ga.Db;Ha(Wb)||(nb=nb.concat(Wb));Ha(Db)||(nb=nb.concat(Db));return nb}());return new Promise(function(nb,Wb){rb.sb().then(function(){nb()})["catch"](function(Fc){Wb(Fc)})})}).then(function(){var Va;Md&&(Va=Xa.T.al(function(rb){return rb.vb==Md}));null==Va&&(Md=Xa.T.Jm());Xa.Mf();pb(Xa)})["catch"](function(Va){Tb(Va)})})["catch"](function(Nb){Tb(Nb)})}})};var jc=function(){var B={},D=new Map,J=[];B.add=function(V,O,da,Ja,ab){J.push(V);
D.set(V,{Ma:O,Yh:da,wa:Ja,Da:ab})};B.remove=function(V){var O=J.indexOf(V);0<=O&&(J.splice(O,1),D["delete"](V))};B.D=function(V){C(J,function(O){V(O)})};B.Yg=function(V){this.D(function(O){O=O.api;null!=O&&V(O)})};B.lm=function(V){return D.get(V).wa};B.Xd=function(V){return D.get(V).Da};B.be=function(V){return D.get(V).Yh[0]};B.Aa=function(V){return D.get(V).Ma[0]};B.mq=function(V){var O=this;Ca(function(){O.Yg(function(da){m(da,V)})},K.canvas)};B.b=function(){Kc(J,function(V){var O=V.api;O&&O.destroy();
V.destroy()})};return B}();Mg.add(Ld.ie(K.a),function(){jc.Yg(function(B){B.afterRender()})});eb.updateCharactersMeshesPositionZByCharacterElementOrderInDocument=function(){var B=Ld.H(K.a);if(!1===Ha(B)){var D=function(){var V={},O=[];V.add=function(da){O.push(da)};V.hq=function(){O.sort(function(da,Ja){return da.Tj(Ja)})};V.D=function(da){!1===Ha(O)&&C(O,function(Ja){da(Ja)})};return V}();try{C(B,function(V){var O=V.Xa;if(null!=O){if(!1===O.isConnected())throw"characterElementDisconnected";D.add(O,
V)}})}catch(V){if("characterElementDisconnected"===V)return}D.hq();var J=250;D.D(function(V){V.fq(J);J+=50})}};var ie=function(){var B={},D=[];B.add=function(V){D.push(V)};B.remove=function(V){V=D.indexOf(V);0>V||(D.splice(V,1),0===D.length&&!1===J.O()&&J.Qo())};var J=function(){var V={},O=[];V.add=function(da,Ja){O.push({resolve:da,reject:Ja})};V.O=function(){return 0===O.length};V.Qo=function(){O.shift().resolve()};return V}();B.yq=function(){return new Promise(function(V,O){0===D.length?V():J.add(V,
O)})};B.b=function(){D=null};return B}();eb.loadPropsExclusively=function(B){var D=this;return new Promise(function(J,V){Ac(50*Math.random()).then(function(){return ie.yq()}).then(function(){var O=Ma();return D.loadProps(B,O)}).then(function(O){J(O)})["catch"](function(O){V(O)})})};eb.loadProps=function(B,D){return new Promise(function(J,V){null==D&&(D=Ma());ge.ka("","",B,K.a).then(function(O){function da(){var gb=Z.N(pb),kb=Z.l(pb);return{pc:{x:gb.x,y:gb.y,z:gb.z,w:gb.w},Ye:{x:kb.x,y:kb.y,z:kb.z}}}
function Ja(){Kc(Ua,function(gb){Af(gb)})}function ab(gb,kb){if(gb){var Nb=Pb.create(gb.x,gb.y,gb.z,gb.w);Z.fa(pb,Nb)}kb&&(Nb=Sd.create(kb.x,kb.y,kb.z),Z.ld(pb,Nb))}ad(K.a);var Ua=Ef.H(O),pb=Ua[0],Tb=0,$b=null,cc=null;D.updatePropImageShape=function(gb,kb,Nb,Sa,db,Vb,Ga,Db,Ya,Kb,wb){function fb(sb,bb){var ua=ec.create(null,sb);Z.ea(bb,ua);Eb();return ua}function Eb(){var sb=Nb.getBoundingClientRect();Fc.Rb(sb.x,sb.y,sb.width,sb.height)}function Cb(sb){sb=ec.mg(sb,!0);return{x:(sb.max.x+sb.min.x)/
2,y:(sb.max.y+sb.min.y)/2}}function Xa(sb,bb){var ua=fb(sb,bb),ub=Cb(ua).x;ec.l(ua).x*=-1;var xa=Cb(ua).x;ec.u(ua).x+=ub-xa}function xb(sb,bb){var ua=fb(sb,bb),ub=Cb(ua).y;ec.l(ua).y*=-1;var xa=Cb(ua).y;ec.u(ua).y+=ub-xa}function Va(sb,bb){var ua=fb(sb,bb),ub=Cb(ua);ec.l(ua).x*=-1;ec.l(ua).y*=-1;var xa=Cb(ua);ec.u(ua).x+=ub.x-xa.x;ec.u(ua).y+=ub.y-xa.y}null==Kb&&(Kb=!1);var rb=xf.ym(K.G);xf.Rh(K.G,-1E3);null!=db&&null==Ga&&null!=wb&&(Ga={x:(0<=wb.x?1:-1)*Math.abs(db.x),y:(0<=wb.y?1:-1)*Math.abs(db.y),
z:(0<=wb.z?1:-1)*Math.abs(db.z)});var nb={},Wb=If(K.a);Wb.forEach(function(sb){nb[Z.fc(sb)]=Z.isEnabled(sb)});Wb.forEach(function(sb){var bb=!1;Ua.forEach(function(ua){ua===sb&&(bb=!0)});bb||Z.s(sb,!1)});var Fc=this;ab(Sa,db);Eb();null==Vb&&null==Ga||ab(Vb,Ga);Db&&!Ya?Xa(K.a,pb):Ya&&!Db?xb(K.a,pb):Db&&Ya&&Va(K.a,pb);Ld.xb(K.a);return(new Promise(function(sb,bb){var ua=Tc([pb],!0),ub=ca(),xa=null!=kb;xa&&(K.canvas.style.opacity=0);var Jb=Object.assign({},ua),Ob=1;xa&&(ua.width/=kb,ua.height/=kb,Ob/=
kb);xa=Math.min(ub.width/ua.width,ub.height/ua.height);1>xa&&(ua.width*=xa,ua.height*=xa,Ob*=xa);Fc.Rb(ub.x+ua.x,ub.y+ua.y,ua.width,ua.height);var Jc=ua.x+ua.width>ub.width||ua.y+ua.height>ub.height||0>ua.x||0>ua.y?!0:!1,vc={};if(Jc){xa={x1y1:0>ua.x||0>ua.y?!0:!1,x2y1:ua.x+ua.width>ub.width||0>ua.y?!0:!1,x1y2:ua.y+ua.height>ub.height||0>ua.x?!0:!1,x2y2:ua.y+ua.height>ub.height||ua.x+ua.width>ub.width?!0:!1};var Oa;if(xa.x1y1&&xa.x2y1&&xa.x1y2&&!xa.x2y2)var ja=Oa=0;xa.x1y1&&xa.x2y1&&!xa.x1y2&&!xa.x2y2&&
(Oa=ua.x,ja=0);xa.x1y1&&xa.x2y1&&!xa.x1y2&&xa.x2y2&&(Oa=ub.width-ua.width,ja=0);!xa.x1y1&&xa.x2y1&&!xa.x1y2&&xa.x2y2&&(Oa=ub.width-ua.width,ja=ua.y);!xa.x1y1&&xa.x2y1&&xa.x1y2&&xa.x2y2&&(Oa=ub.width-ua.width,ja=ub.height-ua.height);!xa.x1y1&&!xa.x2y1&&xa.x1y2&&xa.x2y2&&(Oa=ua.x,ja=ub.height-ua.height);xa.x1y1&&!xa.x2y1&&xa.x1y2&&xa.x2y2&&(Oa=0,ja=ub.height-ua.height);xa.x1y1&&!xa.x2y1&&xa.x1y2&&!xa.x2y2&&(Oa=0,ja=ua.y);vc.x=Oa;vc.y=ja;Fc.Rb(ub.x+Oa,ub.y+ja,ua.width,ua.height)}Ld.xb(K.a);(function(){return new Promise(function(oc){Ld.Ic(K.a,
function(){oc()})})})().then(function(){ah.Of(K.P,K.G,{precision:1},function(oc){var Yb=new Image;Wb.forEach(function(kc){var wc=nb[Z.fc(kc)];void 0!==wc&&Z.s(kc,wc)});Kc(Ua,function(kc){nf(kc)});Yb.onload=function(){var kc=document.createElement("canvas");kc.width=ua.width;kc.height=ua.height;var wc=kc.getContext("2d");Jc?wc.drawImage(Yb,-vc.x,-vc.y):wc.drawImage(Yb,-ua.x,-ua.y);kc=kc.toDataURL("image/png");var dc=da();wc=dc.pc;dc=dc.Ye;dc.x/=Ob;dc.y/=Ob;dc.z/=Ob;sb({screenshot:kc,rotation:wc,scaling:dc,
bounds:{x:Jb.x+ub.x,y:Jb.y+ub.y,width:Jb.width,height:Jb.height},actionCount:Tb})};Yb.src=oc})})["catch"](function(oc){bb(oc)})}))["catch"](function(sb){V(sb)})["finally"](function(){K.canvas.style.opacity=null;xf.Rh(K.G,rb)})};D.toEditMode=function(gb,kb,Nb,Sa,db,Vb){function Ga(Xa,xb){var Va=ec.create(null,Xa);Z.ea(xb,Va);Db();return Va}function Db(){var Xa=kb.getBoundingClientRect();Eb.Rb(Xa.x,Xa.y,Xa.width,Xa.height)}function Ya(Xa){Xa=ec.mg(Xa,!0);return{x:(Xa.max.x+Xa.min.x)/2,y:(Xa.max.y+Xa.min.y)/
2}}function Kb(Xa,xb){var Va=Ga(Xa,xb),rb=Ya(Va).x;ec.l(Va).x*=-1;var nb=Ya(Va).x;ec.u(Va).x+=rb-nb}function wb(Xa,xb){var Va=Ga(Xa,xb),rb=Ya(Va).y;ec.l(Va).y*=-1;var nb=Ya(Va).y;ec.u(Va).y+=rb-nb}function fb(Xa,xb){var Va=Ga(Xa,xb),rb=Ya(Va);ec.l(Va).x*=-1;ec.l(Va).y*=-1;var nb=Ya(Va);ec.u(Va).x+=rb.x-nb.x;ec.u(Va).y+=rb.y-nb.y}var Eb=this;Ad(!0);gg(!0);Nd(pb);gb.addGraphModelChangeListener();var Cb;$b=ia(function(){Cb=da()});cc=ra(function(){var Xa=function(){var xb=!0,Va;Tb++;return function(){if(xb)xb=
!1,Va=Cb;else{var rb=da();ab(Va.pc,Va.Ye);Va=rb}}}();gb.execute(Xa);(function(){var xb=kb.getBoundingClientRect(),Va=Tc([pb],!0),rb=ca();gb.updateCellBounds(xb,Va,rb)})()});ab(Nb,Sa);this.updatedMeshBounds=function(){var Xa=kb.getBoundingClientRect();Eb.Rb(Xa.x,Xa.y,Xa.width,Xa.height)};db&&!Vb?Kb(K.a,pb):Vb&&!db?wb(K.a,pb):db&&Vb?fb(K.a,pb):Db()};D.leaveEditMode=function(gb){selfAsProps=this;Ad(!1);gb.removeGraphModelChangeListener();ha($b);qa(cc);gg(!1);Ld.xb(K.a);return(new Promise(function(kb,
Nb){var Sa=Tc([pb],!0),db=ca(),Vb=Sa.x+Sa.width>db.width||Sa.y+Sa.height>db.height||0>Sa.x||0>Sa.y?!0:!1,Ga=Math.min(db.width/Sa.width,db.height/Sa.height);1>Ga&&(Sa.width*=Ga,Sa.height*=Ga);var Db={},Ya=If(K.a);Ya.forEach(function(Eb){Db[Z.fc(Eb)]=Z.isEnabled(Eb)});Ya.forEach(function(Eb){var Cb=!1;Ua.forEach(function(Xa){Xa===Eb&&(Cb=!0)});Cb||Z.s(Eb,!1)});var Kb={};if(Vb){Ga={x1y1:0>Sa.x||0>Sa.y?!0:!1,x2y1:Sa.x+Sa.width>db.width||0>Sa.y?!0:!1,x1y2:Sa.y+Sa.height>db.height||0>Sa.x?!0:!1,x2y2:Sa.y+
Sa.height>db.height||Sa.x+Sa.width>db.width?!0:!1};var wb;if(Ga.x1y1&&Ga.x2y1&&Ga.x1y2&&!Ga.x2y2)var fb=wb=0;Ga.x1y1&&Ga.x2y1&&!Ga.x1y2&&!Ga.x2y2&&(wb=Sa.x,fb=0);Ga.x1y1&&Ga.x2y1&&!Ga.x1y2&&Ga.x2y2&&(wb=db.width-Sa.width,fb=0);!Ga.x1y1&&Ga.x2y1&&!Ga.x1y2&&Ga.x2y2&&(wb=db.width-Sa.width,fb=Sa.y);!Ga.x1y1&&Ga.x2y1&&Ga.x1y2&&Ga.x2y2&&(wb=db.width-Sa.width,fb=db.height-Sa.height);!Ga.x1y1&&!Ga.x2y1&&Ga.x1y2&&Ga.x2y2&&(wb=Sa.x,fb=db.height-Sa.height);Ga.x1y1&&!Ga.x2y1&&Ga.x1y2&&Ga.x2y2&&(wb=0,fb=db.height-
Sa.height);Ga.x1y1&&!Ga.x2y1&&Ga.x1y2&&!Ga.x2y2&&(wb=0,fb=Sa.y);Kb.x=wb;Kb.y=fb;selfAsProps.Rb(db.x+wb,db.y+fb,Sa.width,Sa.height)}(function(){return new Promise(function(Eb){Ld.Ic(K.a,function(){Eb()})})})().then(function(){ah.Of(K.P,K.G,{precision:1},function(Eb){var Cb=new Image;Ya.forEach(function(Xa){var xb=Db[Z.fc(Xa)];void 0!==xb&&Z.s(Xa,xb)});Kc(Ua,function(Xa){nf(Xa)});Cb.onload=function(){var Xa=document.createElement("canvas");Xa.width=Sa.width;Xa.height=Sa.height;var xb=Xa.getContext("2d");
Vb?xb.drawImage(Cb,-Kb.x,-Kb.y):xb.drawImage(Cb,-Sa.x,-Sa.y);Xa=Xa.toDataURL("image/png");xb=da();kb({screenshot:Xa,rotation:xb.pc,scaling:xb.Ye,bounds:{x:Sa.x+db.x,y:Sa.y+db.y,width:Sa.width,height:Sa.height},actionCount:Tb})};Cb.src=Eb})})["catch"](function(Eb){Nb(Eb)})}))["catch"](function(kb){V(kb)})};D.dispose=function(){Kc(Ua,function(gb){nf(gb)});ie.remove(this)};(function(){D.Rb=function(gb,kb,Nb,Sa){var db=ca();gb-=db.x;kb-=db.y;var Vb;va();(function(){Ja();Vb=Tc([pb],!0);var Ga=Math.min(Nb/
Vb.width,Sa/Vb.height),Db=Z.l(pb);Db.x*=Ga;Db.y*=Ga;Db.z*=Ga})();(function(){Ja();Vb=Tc([pb],!0);var Ga=Z.getParent(pb);Ga=null!=Ga?Ga:pb;var Db=Z.u(Ga),Ya=yf.nd(xf.Rc(K.G),K.canvas.clientWidth,K.canvas.clientHeight),Kb=Ld.Qc(K.a);Db=Sd.rd(Db,Qb.Kb(),Kb,Ya);Ya=Tc([pb],!1);Db=Sd.tf(Sd.create(gb+Nb/2+(Ya.x+Ya.width/2-(Vb.x+Vb.width/2)),kb+Sa/2+(Ya.y+Ya.height/2-(Vb.y+Vb.height/2)),Db.z),K.canvas.clientWidth,K.canvas.clientHeight,Qb.Kb(),xf.se(K.G,void 0),xf.ke(K.G,void 0));Z.setPosition(Ga,Db)})()}})();
J(D)})["catch"](function(O){V(O);ie.remove(D)})})};eb.loadCharacter=function(B,D,J,V,O,da){var Ja=this;return new Promise(function(ab,Ua){Ja.loadCharacterWithDetails(B,D,J,V,O,da).then(function(pb){ab(pb.character)})["catch"](function(pb){Ua(pb)})})};eb.loadCharacterWithDetails=function(B,D,J,V,O,da){function Ja(){ab.updateCharactersMeshesPositionZByCharacterElementOrderInDocument()}!0!==da.In&&(da=function(){var gb=da,kb={In:!0},Nb=La(gb.outerHTML);kb.Ml=function(){return Nb};kb.getAttribute=function(Sa){return gb.getAttribute(Sa)};
kb.isConnected=function(){return gb.isConnected};kb.Rf=gb;kb.fq=function(Sa){var db=gb.api;null!=db&&db.setZIndex(Sa)};kb.Tj=function(Sa){Sa=Sa.Rf;if(null==Sa)throw"anotherCharacterElement has no DOM element";return gb.compareDocumentPosition(Sa)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1};kb.addEventListener=function(Sa,db){gb.addEventListener(Sa,db)};kb.Jb=function(){return gb.getBoundingClientRect()};return kb}());var ab=this,Ua=da.Ml(),pb=Pf(D),Tb=Qf(D),$b=ce(D),cc=de(D);return new Promise(function(gb,
kb){function Nb(Ga,Db){gb({character:Ga,details:Db})}var Sa=$c.Zd(B,da);null==Sa&&(Sa=ke.Zd(B,da,Ua));if(null!=Sa){var db=jc.Aa(Sa);db=Z.l(db);if(0>db.x&&!J||0<db.x&&J)db.x*=-1;if(0>db.y&&!V||0<db.y&&V)db.y*=-1;Sa.flipH=function(){return J};Sa.flipV=function(){return V};Sa.Gf(O).then(function(){})["catch"](function(Ga){console.error(Ga)});Nb(Sa,{reclaimed:!0})}else{var Vb;l(ab,B).then(function(Ga){if(!ig(kb)){var Db=Ga.assetUrl;Ga=Ga.assetType;Vb=function(Ya,Kb,wb,fb){function Eb(r,H,t,E,F){return new Promise(function(z){var x=
new Xg(r,H,t,E,lb,F);x.flatten();z({Za:x.Za,duration:x.Tl()})})}function Cb(r,H,t,E,F,z,x,y,N,L,I,aa,M,R,T){null==y&&(y=tf.ba);null==N&&(N=tf.aa);null==R&&(R=!1);return new Promise(function(v,A){ta(r,H,t).then(function(P){return wd(P,void 0)}).then(function(P){return Hd(P.J,P.url,E,null,P.I,!0,B)}).then(function(P){var Q=Ef.ca(P),oa=Q.length;if(1!==oa)A("Invalid animation group count "+oa+" found in URL "+r);else{Q=Q[0];var ya=pe(P);return Xa(Q,r,E,F,z,x,y,N,L,I,aa,M,R,T).then(function(Ta){v({g:Ta.g,
mc:Ta.mc,Cb:Ta.Cb,gh:ya})})}})["catch"](function(P){A(P)})})}function Xa(r,H,t,E,F,z,x,y,N,L,I,aa,M,R){var T=null,v=null,A=null,P=E.Gb,Q=E.Md,oa=E.wa,ya=E.Da;Ee(r,R);M&&Ce(r,D);null!=L&&(E=ja.ja(),Ae(L,E,r));null!=z&&((new oe(Q,P,r,oa,ya,D,t)).bb(),L=Za(r,P,z,t,function(){return Wg(r,P)},!1,D),null!=L&&(X.b(r),r=L));return function(){return new Promise(function(Ta,Ra){if(Ha(F))Ta();else{A=new pc;v=new vg;var Pa=function(){var pa=yh(t);return new kg(F,r,A,D,pa,lb,P,Q,oa,ya,B,gd,v,t)}();Pa.ed(M);Pa.C().then(function(){!1===
A.O()&&(T={handProps:Dc(A.Jc())});Ta()})["catch"](function(pa){Ra(pa)})}})}().then(function(){(function(){null==T&&(T={});T.actionAssetPathForLoadProps=H;M&&(T.flipHorizontally=!0);if(null!=z){null==T.patchedAnimationGroupData&&(T.patchedAnimationGroupData={});var Pa=T.patchedAnimationGroupData;null!=z.allPropInfoLists&&(Pa.allPropInfoLists=Dc(z.allPropInfoLists));null!=z.handProps&&(Pa.handProps=Dc(z.handProps))}})();!1===df(I)&&ef(r,I,D,t);null!=aa&&!1===Oe(aa)&&Te(r,aa,D);if(x!==tf.ba||y!==tf.aa){var Ta=
Fe(r,x,y);X.b(r);r=Ta}if(null!=N&&0!==N){var Ra=function(){var Pa=zd(N);return Pb.ga(0,Pa,0)}();(function(){var Pa=function(){var pa=ja.ja();return Be(r,pa,"rotationQuaternion")}();Pa=Y.h(Ea.f(Pa));C(Pa,function(pa){pa.value=ud(pa.value,Ra)})})();(function(){var Pa=function(){var pa=ja.ja();return Be(r,pa,"position")}();Pa=Y.h(Ea.f(Pa));C(Pa,function(pa){pa.value=Sd.Xb(pa.value,Ra)})})()}return{g:r,mc:T,Cb:v}})}function xb(r,H){return new Promise(function(t,E){function F(){N===y?t(x):z().then(function(){N++;
F()})["catch"](function(I){E(I)})}function z(){return new Promise(function(I,aa){function M(Ta){return new Promise(function(Ra){if(1===v)Ra(Ta);else{var Pa=new Xg(H,Ta,v,T,lb,null);Pa.flatten();Pa=Pa.Za;X.b(Ta);Ra(Pa)}})}var R=r[N],T=R.repeatBlendDuration,v=R.playCount,A=R.speed,P=R.startRatio||tf.ba,Q=R.endRatio||tf.aa,oa=Wa(L,N),ya={startTime:R.startTime,duration:nd(R.duration,P,Q,R.playCount),oj:R.blendDuration};nb(R,H).then(function(Ta){if(P!==tf.ba||Q!==tf.aa)Ta=Fe(Ta,P,Q);null!=A&&Ee(Ta,A);
return M(Ta)}).then(function(Ta){function Ra(){var Pa=function(){var pa=zd(oa);return Pb.ga(0,pa,0)}();(function(){var pa=function(){var Ka=ja.ja();return Be(Ta,Ka,"rotationQuaternion")}();null!=pa&&(pa=Y.h(Ea.f(pa)),C(pa,function(Ka){Ka.value=ud(Ka.value,Pa)}))})();(function(){var pa=function(){var Ka=ja.ja();return Be(Ta,Ka,"position")}();null!=pa&&(pa=Y.h(Ea.f(pa)),C(pa,function(Ka){Ka.value=Sd.Xb(Ka.value,Pa)}))})()}0!==oa&&Ra();ya.g=Ta;x.push(ya);I()})["catch"](function(Ta){aa(Ta)})})}var x=
[],y=r.length,N=0,L=Ic(r,function(I){return I.angle});F()})}function Va(r){return new Promise(function(H,t){var E=null,F;r.Ob().then(function(z){F=z.g;E=bg(Le(z.qo,xa));return E.start()}).then(function(){return r.Mb(F)}).then(function(z){F=z;return E.end(Le(F,xa))}).then(function(z){H({Eb:z,duration:X.v(F)/lb})})["catch"](function(z){t(z)})})}function rb(r,H,t){null==t&&(t=!0);return new Promise(function(E,F){var z=r.assetId,x=r.assetUrl,y=!0===r.flipH,N=null,L=null;ta(x,r.assetType,z+".glb").then(function(I){return wd(I,
void 0)}).then(function(I){return Id(I.J,I.url,H,I.I,z)}).then(function(I){I=Ef.ca(I);var aa=I.length;if(1!==aa)F("Invalid animation group count "+aa+" found in URL "+x);else{L=I[0];y&&Ce(L,D);t&&(I=new oe(Jb,xa,L,vc,Oa,D,H),aa=r.inPlace,null!=aa&&I.yb(aa),I.bb());I=r.positionOffset;if(null!=I){aa=L;var M=ja.ja();Ae(I,M,aa)}N=L;return Fb(r.patchedDataAssetId,r.patchedData)}}).then(function(I){null!=I&&(I=Za(L,xa,I,H,function(){return Wg(L,xa)},y,D),null!=I&&(L=I));return function(){return new Promise(function(aa,
M){var R=r.customizations;if(Ha(R))aa();else{var T=new pc,v=function(){return new Promise(function(A,P){if(T.O())A();else{var Q=[];Da(T.Jc(),function(oa,ya){if(null!=ya&&"gesture"===ya.type){var Ta=Jg(yb,ya.assetId,Jb,D,L,X.R(L),X.v(L),oa);Q.push(Ta)}});Promise.all(Q).then(function(){A()})["catch"](function(oa){P(oa)})}})};L===N&&(L=X.clone(L));R=ua(R,L,T,new vg);R.ed(r.flipH);R.C().then(function(){return v()}).then(function(){aa()})["catch"](function(A){M(A)})}})}()}).then(function(){E({qo:N,g:L})})["catch"](function(I){F(I)})})}
function nb(r,H,t){return new Promise(function(E,F){rb(r,H,t).then(function(z){E(z.g)})["catch"](function(z){F(z)})})}function Wb(r,H,t,E,F,z,x){x=void 0===x?!0:x;if("gesture"===H)return z(r);if("props"===H){var y;return Bg().then(function(N){return N.fe(r)}).then(function(N){y=N.Pe;return z(N.Kg)}).then(function(N){return x?Fc(y,t,E,F):N})}}function Fc(r,H,t,E){return Fa(r,t,D).then(function(F){F=Ef.H(F)[0];F=hf(F,H,E,D);ja.xd(F);Z.s(F,!0);return{hand:H,propsMesh:F}})}function sb(){Kc(Kb,function(r){Aa.b(r)})}
function bb(){Kc(Ya,function(r){nf(r)})}function ua(r,H,t,E){var F=K.a,z=xa,x=Jb,y=yh(F);return new kg(r,H,t,D,y,lb,z,x,vc,Oa,B,gd,E,F)}function ub(r,H,t,E,F,z){function x(){if(null==xc||!xc.Fc){if(null!=z){var T=z();Zd.Ua(I,T)}H?(T=H.progress(),T=E&&E.isNoStartBlending()||!(T<M)?E&&E.isNoEndBlending()||!(1-T<R)?1:(1-T)/R:T/M):T=1;Zd.update(I);Pb.rf(aa,Ba.pc(L),T,ec.N(Ba.ia(L)))}}var y="vroid"===r,N=na(r),L=Aa.M(Jb).find(function(T){return T.name===N}),I=id(xa,L,F,y);r=Ba.ia(L);r=ec.N(r);var aa=Pb.clone(r),
M=t?Math.min(.2/t,.4):.4,R=t?Math.min(.2/t,.4):.4;Ld.Se(K.a,x);return x}ad(K.a);!1===Ha(wb)&&Kc(wb,function(r){X.stop(r);X.b(r)});var xa=Ya[0],Jb=Kb[0];(function(){var r=fd(D);Z.fa(xa,r)})();(function(){function r(){var F=H(t);return vf.tg(F)}function H(F){F=Z.bc(F);return wf.Yd(F)}var t=xa,E=r();C(Ya,function(F){if(F!==t){var z=H(F),x=vf.tg(z);z=vf.vm(z);var y=x.x-E.x,N=x.y-E.y,L=x.z-E.z,I=Z.l(t),aa=I.x,M=I.y,R=I.z,T=z.x-x.x,v=z.y-x.y,A=z.z-x.z;F.Jf=function(){var P=Z.l(t),Q=P.x/aa,oa=P.y/M,ya=P.z/
R,Ta=r();P=Sd.create(Ta.x+y*Q,Ta.y+N*oa,Ta.z+L*ya);Q=Sd.create(P.x+T*Q,P.y+v*oa,Ta.z+A*ya);Q=wf.create(P,Q);return vf.Hg(wf.Yd(Q))}}})})();Jf(xa,Ya);Rf(Ya,xa,D);var Ob=of(Ya),Jc=Z.l(xa);J&&(Jc.x*=-1);V&&(Jc.y*=-1);var vc=me(Jb,D),Oa=ne(Jb);xa.Xa=da;var ja={ensureNoCameraTransformAction:function(r,H){return Ca(r,H)}};ja.Id=Ua;var oc=null;ja.clearCurrentPositionAnimationSession=function(){oc=null};ja.createPositionAnimationSession=function(r,H){var t={};oc=t;var E=[],F,z;t.reset=function(){var x=Z.u(xa);
F=x.x;z=x.y;var y=K.sj();C(E,function(N){N.reset(y)})};t.createPositionAnimation=function(x,y,N,L){function I(A){0==X.jc(R)&&!1===X.Uc(R)?(X.start(R),X.Ba(R,A),X.pause(R)):X.Ba(R,A);H.animationUpdated()}var aa={};E.push(aa);var M=N*lb,R=X.create(null,K.a),T=null;N=function(){var A=lb,P=Y.Vd(),Q=Y.tl();return Y.create(null,"position",A,P,Q,!1)}();var v=function(){var A=[],P=Z.u(xa);A.push({frame:0,value:P});A.push({frame:M,value:P});return A}();aa.reset=function(A){if(!X.jc(R)){var P=Z.u(xa);var Q=
Sd.clone(P);Q.x=F;Q.y=z;P=Q.x+x*A.zq;A=Q.y+y*A.Aq;v[0].value=Q;Q=Sd.create(P,A,Q.z);v[1].value=Q;F=P;z=A;0!==T&&null!=T&&I(T)}};Y.ya(N,v);X.ma(R,N,xa);X.start(R);X.pause(R);aa.play=function(){X.play(R)};aa.pause=function(){X.pause(R)};aa.isPlaying=function(){return X.jc(R)};aa.progress=function(A){T=null!=L&&r.time()<L&&1!==A?null:M*A;null!=T&&I(T)};aa.b=function(){X.jc(R)&&X.pause(R);X.b(R)};return aa};t.dispose=function(){C(E,function(x){x.b()})};return t};ja.flipH=function(){return J};ja.flipV=
function(){return V};ja.initForSeekCapture=function(r,H){dc.mn(r,H)};var Yb;ja.cellStateStartResize=function(){Yb=Tc([xa],!0)};ja.cellStateResetResize=function(){null!=Yb&&(Yb=null)};ja.cellStateFireCellResizedWithVertexHandler=function(r){null!=Yb&&(ja.setBounds(r.x,r.y,r.width,r.height),Yb=null)};var kc=function(){function r(){var F=function(){var x={},y=[];x.add=function(N){y.push(N)};x.na=function(N){!1===Ha(y)&&C(y,function(L){jh.Ca(L,N)})};return x}(),z=function(){var x={},y=[];x.add=function(N){y.push(N)};
x.na=function(N){!1===Ha(y)&&C(y,function(L){jh.Ca(L,N)})};return x}();return{xe:function(x,y){"nn"===y?F.add(x):"jawOpen"===y&&z.add(x)},na:function(x){F.na(1.8*x);z.na(.3*x)}}}function H(F,z,x,y,N){var L={},I=function(){function aa(T){C(R,function(v){var A=1.3*T(jh.getName(v));jh.Ca(v,A)})}var M={},R=[];M.add=function(T){R.push(T)};M.na=function(T){.25<=T?aa(function(v){return v===F?T:0}):.2<=T?aa(function(v){return v===y?T:0}):.1<=T?aa(function(v){return v===N?T:0}):0<T?aa(function(v){return v===
z?T:0}):aa(function(){return 0})};return M}();L.xe=function(aa,M){M!==F&&M!==z&&M!==x&&M!==y&&M!==N||I.add(aa)};L.na=function(aa){I.na(aa)};return L}if($b)return H("Fcl_MTH_A","Fcl_MTH_E","Fcl_MTH_I","Fcl_MTH_O","Fcl_MTH_U");if(cc)return H("A","E","I","O","U");if("uavatar"===D)return r();var t=function(){var F={},z=[];F.add=function(x){z.push(x)};F.na=function(x){!1===Ha(z)&&C(z,function(y){jh.Ca(y,2*x)})};return F}(),E=function(){var F={},z=[];F.add=function(x){z.push(x)};F.na=function(x){!1===Ha(z)&&
C(z,function(y){jh.Ca(y,x)})};return F}();return{xe:function(F,z){"mouthShrugUpper"===z?t.add(F):"jawOpen"===z&&E.add(F)},na:function(F){t.na(F);E.na(F)}}}();(function(){ea(Ya,function(r,H){kc.xe(r,H)})})();var wc=function(){return{Xi:function(r,H){function t(z){var x=z.fps,y=z.frames;F(x,y,function(N){var L=Math.floor(N*x);N=(N-L/x)/(1/x);for(var I=y[L];null==I&&0<L;)L--,I=y[L];null!=I&&(L=y[L+1],null!=L&&(I+=(L-I)*N),kc.na(I))})}function E(z){var x=z.fps,y=z.morphTargets,N=z.frames,L=function(){var I=
{},aa={};ea(Ya,function(M,R){var T=aa[R];null==T&&(T=[],aa[R]=T);T.push(M)});I.D=function(M,R){var T=aa[M];Ha(T)||C(T,function(v){R(v)})};return I}();F(x,N,function(I){var aa=Math.floor(I*x);I=(I-aa/x)/(1/x);for(var M=N[aa];null==M&&0<aa;)aa--,I=0,M=N[aa];if(null!=M){M=JSON.parse(JSON.stringify(M));if(null!=N[aa+1])for(var R=M.length,T=0;T<R;T++){var v=N[aa][T];M[T]=v+(N[aa+1][T]-v)*I}null!=y&&y.map(function(A,P){L.D(A,function(Q){jh.Ca(Q,M[P])})})}})}function F(z,x,y){var N=null,L=Mg.add(Ld.je(K.a),
function(){var I=r.getRelativeTime();r.isActive()&&N!=I&&(y(I),N=I)});r.Qf=function(){Mg.remove(Ld.je(K.a),L);L=null}}(function(){var z=H.characterFamilyName;return Tf(z)||Uf(z)||ce(z)||Sf(z)||de(z)?!0:!1})()?H.blendShapes&&E(W(H.characterFamilyName,H.blendShapes)):null!=H.spectrum&&t(H.spectrum)},Mo:function(r){r.Qf&&r.Qf()}}}();ja.createSound=function(r,H){var t=!1,E=null,F=0,z=!1,x=H.trimmedStartTime||0,y=r-x-(H.trimmedEndTime||0),N=H.duration,L={setActive:function(I){z=I},isActive:function(){return z},
getDuration:function(){return N},isPlaying:function(){t&&Date.now()/1E3>=E+1E3*N&&(t=!1,E=null,F=N);return t},getCurrentTime:function(){return L.isPlaying()?Date.now()/1E3-E:F},getRelativeTime:function(){var I=L.getCurrentTime();I%=y;return I+=x},seek:function(I){return new Promise(function(aa){null!=I&&(I<N?L.isPlaying()?E=Date.now()/1E3+I:F=I:(t=!1,E=null,F=N));aa()})},play:function(I){return new Promise(function(aa,M){L.isPlaying()?L.seek.then(aa)["catch"](M):(null==I?(t=!0,E=Date.now()/1E3+F,
F=null):I<N?(t=!0,E=Date.now()/1E3+I,F=null):(t=!1,E=null,F=N),aa())})},pause:function(){return new Promise(function(I){L.isPlaying()&&(t=!1,F=Date.now()/1E3-E,E=null);I()})},dispose:function(){return new Promise(function(I){wc.Mo(L);I()})}};wc.Xi(L,H);return L};ja.getPointerEventDetectionBounds=function(){return new Promise(function(r){var H=ca();C(Ya,function(E){Z.Ga(E,!0)});var t=Lf(Ya,!0,function(){return Tc(Ya,!1)});r({x:t.x,y:t.y,width:t.width,height:t.height,canvasZoneX:H.x,canvasZoneY:H.y})})};
ja.getHipsBoneRotationAngleDifferenceApplied=function(r){r=this.La(r);return null==r?null:r.km()};ja.getBounds=function(){return Tc(Ya,!1)};ja.setBounds=function(r,H,t,E,F){var z=ca();r-=z.x;H-=z.y;this.setBoundsImpl(r,H,t,E,F);this.xh();this.Nj()};(function(){var r=null;ja.setBoundsImpl=function(H,t,E,F,z){function x(N){var L=xa.sh;null!=L&&L.s(N)}!0===K.a.Yf&&(z=!0);null==z&&(z=!1);if(!1!==z||null==r||!r.Zb(H,t,E,F)){r=function(){return{Zb:function(N,L,I,aa){return N===H&&L===t&&I===E&&aa===F}}}();
Sc.Uk();x(!1);z=Z.N(xa);z=Pb.clone(z);try{var y=function(){var N=Yd(0,D);return Pb.ga(0,N,0)}();Z.fa(xa,y);va();(function(){var N=new zf(Ya,{x:H,y:t,width:E,height:F},K.a,K.ha);N.Xp(Tb);N.C()})()}finally{Sc.Ro(),x(!0),Z.fa(xa,z)}null!=oc&&oc.reset();null!=xc&&xc.Hj()}}})();ja.setHeadRotationQuaternion=function(r,H,t,E,F){var z=Pb.create(F.x,F.y,F.z,F.w),x=na(r),y=Aa.M(Jb).find(function(N){return N.name===x});F=Sd.create(0,0,0);return ub(r,H,t,E,F,function(){return Nf(y,z)})};ja.setHeadFaceCamera=
function(r,H,t,E){var F=xf.u(Ld.sa(K.a));F=Sd.clone(F);F.z-=300;return ub(r,H,t,E,F)};ja.setHeadHorizontal=function(r){function H(){if(null==xc||!xc.Fc){var z=Ba.ia(F),x=ec.Zl(z),y=ec.Um(z),N=Sd.Di(),L=Sd.normalize(Sd.Ek(x,N));x=Sd.vi(x,N,L)-Math.PI/2;N=Sd.mi(N,y);y=Math.abs(N)<Math.cos(Math.PI/180*80);N=0>N;var I=$d.Ei();y||(N?ec.rotate(z,L,-x,I):ec.rotate(z,L,x,I))}}var t=K.a,E=na(r),F=Aa.M(Jb).find(function(z){return z.name===E});Ld.Se(t,H);return H};ja.resetHeadOrientation=function(r){r&&Ld.di(K.a,
r)};ja.scale=function(r){Sd.qc(Z.l(xa),r)};ja.retargetAnimation=function(r,H,t,E,F,z,x){function y(pa){var Ka=Ra.goToFrame;Ra.goToFrame=function(Qa){Ka.call(Ra,Qa);pa.time(tf.Ya(Qa-X.R(Ra)))}}var N=t.duration,L=t.startRatio||tf.ba,I=t.endRatio||tf.aa,aa=t.shoulderPosition,M=t.armSpace,R=!0===t.flipH,T=t.speed,v=t.customizations,A=t.patchedAnimationGroupDataAssetId,P=t.patchedAnimationGroupData,Q,oa,ya,Ta={},Ra=Ef.ca(r)[0];Ra=X.clone(Ra);u(Ra);var Pa;return Fb(A,P).then(function(pa){Pa=pa;return Xa(Ra,
H,F,{Gb:z,Md:x,wa:vc,Da:Oa},v,null,L,I,null,null,aa,M,R,T)}).then(function(pa){Q=pa.mc;oa=pa.Cb;Ra=pa.g;pa=me(x,D);var Ka=ne(x);pa=new oe(x,z,Ra,pa,Ka,D,F);pa.Qh();Ka=function(){var jb=t.inPlace;"boolean"===typeof jb&&(jb=jb?"z":null);return jb}();var Qa=function(){var jb=null,lc=t.id;0===E.findIndex(function(Lb){return Lb.id===lc})&&(jb=self.lockInPlace);return jb}(),ob=t.overriddenInPlaces;pa.yb(Ka);pa.fd(Qa);pa.gd(ob);pa.bb();null!=Pa&&(Ra=ye(z,x,D,Ra,Pa,F));return function(){return new Promise(function(jb,
lc){ya=function(){var Lb=function(){return{L:function(Hb){return h(eb,Hb)},ob:function(){return null},nb:function(){return null}}}(),Zb=sg(B,D,z).uc(J).dd(V).$(),Uc=rg().vc(R).$(),sd=function(){var Hb=pe(r);Hb=null!=Hb&&Hb.actionAssetPathForLoadProps?Hb.actionAssetPathForLoadProps:null!=Q?Q.actionAssetPathForLoadProps:null;return tg(H).bd(Hb).cd(v).sc(N).eb(L).cb(I).zb(T).$()}();return new ug(Lb,Zb,gd,sd,F,Uc,Ra)}();ya.af(function(){var Lb=[];if(null!=oa){var Zb=oa.Db;Ha(Zb)||(Lb=Lb.concat(Zb))}return Lb}());
ya.sb().then(function(){ya.Nb()&&ya.hd();jb()})["catch"](function(Lb){lc(Lb)})})}()}).then(function(){return function(){return new Promise(function(pa,Ka){var Qa=null!=Q?Q.handProps:null,ob=function(){var Zb=pe(r);return null!=Zb?Zb.handProps:null}();Qa=mb(Qa,ob,v,D);if(null==Qa)pa();else{ob=function(){return{Wb:function(Zb,Uc){Ta[Uc]=Zb},ib:function(){}}}();var jb=window.gsap.timeline({paused:!0}),lc=Ig(0,N,0,1),Lb=new Hg(ob,Qa,F,D,z,x,jb,oa,Ra,lc);Lb.qb().then(function(){Lb.Ae()&&(jb.time(.001),
jb.time(0));y(jb);pa()})["catch"](function(Zb){Ka(Zb)})}})}()}).then(function(){if(ya.Nb()){var pa=window.gsap.timeline({paused:!0}),Ka=X.R(Ra),Qa=X.v(Ra);(function(){var ob=window.gsap.to({},{duration:tf.Ya(Qa-Ka),onStart:function(){ya.hd()}});pa.add(ob,0)})();(new Gg(ya.Lb(),!1,0,Ra,F,pa,1,tf.ba,tf.aa)).qb();y(pa)}return function(ob){return new Promise(function(jb,lc){(new wg(t.expressionName,D,ja,ob)).C().then(function(){jb()})["catch"](function(Lb){lc(Lb)})})}(Ra)}).then(function(){var pa=Ef.H(r);
!1===Ha(pa)&&Kc(pa,function(Ka){nf(Ka)});delete r.rootNodes;Ef.b(r);X.tc(Ra,!1);X.start(Ra,!1,T);X.pause(Ra);return{animationGroup:Ra,handPropsMeshMap:Ta,actionPropsMeshList:ya.Nb()?ya.xa:null}})};ja.applyPoseOffsetToAnimationGroup=function(r,H){return(new og(r,H,D)).C()};ja.getFingerBoneRotationsFromAssetContainerMetadata=function(r,H){var t=pe(r);if(null==t)return Promise.resolve(null);t=t.handProps;if(null==t)return Promise.resolve(null);var E=new pc;return(new pg(t,E)).C().then(function(){if(E.O())return null;
var F=[];Da(E.Jc(),function(z,x){if(null!=x){var y=Wb(x.assetId,x.type,null,null,null,function(N){var L;return(new gc(yb,N)).load().then(function(I){L=new sa(I,H,D);return L.Ed()}).then(function(){var I={},aa=za(z);L.Zg(function(M){var R=L.re(aa,M);null!=R&&(I[M]=R)});return I})},!1);F.push(y)}});return Promise.all(F).then(function(z){return z.reduce(function(x,y){if(null!=y)for(var N in y)x[N]=y[N];return x},{})})})};ja.applyHandPropsDataToBones=function(r,H,t,E,F,z){return Wb(r,H,t,E,F,function(x){var y;
return(new gc(yb,x)).load().then(function(N){y=new sa(N,z,D);return y.Ed()}).then(function(){return y.sq(t)})})};(function(){var r=function(){function t(x){var y=null;Bc(z,{we:function(N,L){L===x&&(y=N)},A:function(){return null==y}});return y}var E={},F=[],z={};E.add=function(x,y){F.push(y);z[x]=y};E.remove=function(x){var y=F.indexOf(x);0>y||(F.splice(y,1),x=t(x),null!=x&&delete z[x])};E.D=function(x){!1===Ha(F)&&C(F,function(y){x(y)})};E.Fl=function(x){return z[x]};return E}();ja.Nf=ua;(function(){var t=
null;ja.Nj=function(){var E=Z.Ga(xa,!1);null!=t&&Qb.Zb(t,E)||(t=E,r.D(function(F){F.Mf()}))}})();ja.Xj=function(t){var E=this.Pb;return null==E?!1:0<=E.indexOf(t)};ja.Qi=function(t){null==this.Pb&&(this.Pb=[]);this.Pb.push(t)};ja.Io=function(t){var E=this.Pb;null!=E&&(t=E.indexOf(t),0>t||E.splice(t,1))};ja.Mj=function(){var t=this.Pb;null!=t&&(Kc(t,function(E){E()}),delete this.Pb)};ja.Tm=function(){return Z.fc(xa)};ja.ja=function(){var t=null;return function(){null==t&&(t=Je(Jb,D).name);return t}}();
ja.Gf=function(t){return new Promise(function(E,F){Ob.We();null==t?E():Ob.jj(t,function(z){return h(eb,z)},K.a).then(function(){E()})["catch"](function(z){F(z)})})};ja.vf=function(t,E){r.add(t,E)};ja.zh=function(t){r.remove(t)};ja.Jn=function(t){r.D(t)};ja.La=function(t){return r.Fl(t)};ja.lp=function(t,E,F,z){this.setBounds(t,E,F,z)};ja.mp=function(t,E,F,z){this.setBoundsImpl(t,E,F,z)};ja.Vc=function(t){ea(Ya,function(E,F){t(E,F)})};ja.Kk=function(){var t=this.Dc;null!=t&&(delete this.Dc,t.cancel())};
ja.br=function(t){var E=this;this.Kk();this.Dc=t;t.C().then(function(){})["catch"](function(F){null!=F&&console.error(F)})["finally"](function(){t===E.Dc&&delete E.Dc})};var H=null;ja.tp=function(t){if(t!=H){var E=nc();null!=E&&Sg.df(E,null);E=Gb();null!=E&&Sg.df(E,null);E=Ub();null!=E&&Sg.df(E,null);null!=H&&H.s(!1);H=t;null!=H&&H.s(!0)}};ja.Xq=function(){var t=Z.Cg(xa).y;t=fh.ti(t);return fh.Ql(t)};ja.wq=function(t){t(this.api)};ja.kr=function(){this.wq(function(t){m(t)})};(function(){var t=0;ja.xh=
function(){r.D(function(E){E.ad()});t++;5<=t&&(this.xh=function(){})}})()})();ja.rotate=function(r){r=fh.qf(r);r=fh.Bg(r);Z.Th(xa,Sd.create(0,r,0))};ja.uh=function(r){xa.Xa=r};ja.fireReloadForReclaimed=function(){null!=sc&&sc.No();xa.Xa.addEventListener("apiReady",function(){Ja()},{once:!0})};ja.setMaterialsOutline=function(r){Ob.Gp(r)};ja.getCanChangeTextureMaterialNames=function(){return Ob.zm()};ja.willDestroyForSetWebComponentNode=function(){this.nf=!0};ja.destroy=function(r){null==r&&(r=!1);
var H=r;!1===r&&(ke.unregister(B,this.Id,this),ke.ze(B)&&(r=!0));if(r)this.setVisible(!1),this.clearCurrentPositionAnimationSession(),H&&ke.register(B,this,this.Id);else{ke.qa(B);var t=this;!0===this.nf?delete this.nf:t.setVisible(!1);ja.clearCurrentPositionAnimationSession();$c.Hk(t,B,function(){null!=dc&&(dc.qa(),dc=null);null!=fb&&(hh.b(fb),fb=null);bb();sb();jc.remove(t);kc=wb=Kb=Ya=xa=null;null!=sc&&sc.b();sc=null})}};ja.setVisibleAsPromise=function(r){var H=this;return new Promise(function(t,
E){eb.Yo().then(function(F){H.setVisible(r);F.done();t()})["catch"](function(F){E(F)})})};ja.setVisible=function(r){Z.s(xa,r);r?dc.start():dc.pause()};var dc=function(r){function H(){var v=.8*Math.random(),A=jh.ng(x.kg());x.D(function(P){t(P,A,v,15)})}function t(v,A,P,Q){function oa(){ya++;var Ta=ih.zc(A,P,ya/Q);L.Ca(Ta);ya>=Q&&Ld.di(K.a,oa)}var ya=0;Ld.Se(K.a,oa)}function E(){1===F(1,2)&&(N.Sj(),Ac(100).then(function(){N.mh()}))}function F(v,A,P){null==P&&(P=function(){return Math.random()});P=P();
return Math.floor(P*(A-v+1))+v}var z=function(){var v={},A=[];v.add=function(P){A.push(P)};v.D=function(P){C(A,function(Q){P(Q)})};v.O=function(){return Ha(A)};return v}(),x=function(){var v={},A=[];v.kg=function(){return A[0]};v.add=function(P){A.push(P)};v.D=function(P){C(A,function(Q){P(Q)})};v.O=function(){return Ha(A)};return v}();(function(){ea(r,function(v,A){"eyeBlinkLeft"===A||"eyeBlinkRight"===A||"vrc.blink_left"===A||"vrc.blink_right"===A||"Blink_L"===A||"Blink_R"===A||"target_17"===A||
"target_18"===A||"Fcl_EYE_Close"===A||"L_Blink"===A||"R_Blink"===A?z.add(v):("browInnerUp"===A||"browOuterUpLeft"===A||"browOuterUpRight"===A)&&x.add(v)})})();var y=X.create(null,K.a),N=function(){var v={},A=Sb(0,0),P=function(){var Q=lb,oa=Y.Td();return Y.create(null,"influence",Q,oa)}();Y.ya(P,[A]);z.D(function(Q){X.ma(y,P,Q)});v.Sj=function(){A.value=1};v.mh=function(){A.value=0};return v}(),L=function(){var v={},A=Sb(0,0),P=function(){var Q=lb,oa=Y.Td();return Y.create(null,"influence",Q,oa)}();
Y.ya(P,[A]);x.D(function(Q){X.ma(y,P,Q)});v.Ca=function(Q){A.value=Q};return v}(),I=null,aa=null,M=!1,R=null,T=function(){var v={},A={};v.ei=function(P){A={};null!=P&&Da(P,function(Q,oa){if("eyeBlinkLeft"===Q||"eyeBlinkRight"===Q||"Fcl_EYE_Close"===Q)A[Q]=oa})};v.lr=function(P,Q){var oa=A[P];return null==oa||Q>oa?Q:oa};return v}();return{ei:function(v){T.ei(v)},mn:function(v,A){this.pause();var P=1E3*A;R=function(){var Q=function(){var Ra=La(v),Pa=new Math.seedrandom(Ra);return{lh:function(){return Pa.th()}}}(),
oa=function(){var Ra={},Pa=[];Ra.add=function(pa,Ka){Pa.push(function(){return{jf:function(Qa){return Qa>=pa},Me:function(){x.D(function(Qa){jh.Ca(Qa,Ka)})}}}())};Ra.Ue=function(){x.O()||x.D(function(pa){jh.Ca(pa,0)})};Ra.D=function(pa){for(var Ka=Pa.length,Qa=0;pa.A()&&Qa<Ka;Qa++)pa.ve(Pa[Qa],Qa)};return Ra}(),ya=function(){function Ra(Qa,ob){Ka.push(function(){return{jf:function(jb){return jb>=Qa},Me:function(){z.D(function(jb){jh.Ca(jb,ob)})}}}())}var Pa=0,pa={},Ka=[];pa.Li=function(Qa){Ra(Qa,
1);Ra(Qa+100,0)};pa.Gh=function(Qa){Pa=Qa};pa.Ue=function(){this.Gh(0);N.mh()};pa.D=function(Qa){for(var ob=Ka.length,jb=Pa;Qa.A()&&jb<ob;jb++)Qa.ve(Ka[jb],jb)};return pa}(),Ta=function(){function Ra(){return Q.lh()}return function(){return 1===F(1,2,Ra)}}();(function(){if(!z.O())for(var Ra=800;Ra+100<=P;)Ta()&&ya.Li(Ra),Ra+=800})();(function(){if(!x.O())for(var Ra=1200,Pa=jh.ng(x.kg());Ra<=P;){for(var pa=.8*Q.lh(),Ka=1/lb*1E3,Qa=1;15>=Qa;Qa++){var ob=ih.zc(Pa,pa,Qa/15);oa.add(Ra+Ka*(Qa-1),ob)}Pa=
pa;Ra+=1200}})();return{seek:function(Ra){0===Ra&&(ya.Ue(),oa.Ue());var Pa=null,pa=null,Ka=1E3*Ra;oa.D(function(){var Qa=!0;return{A:function(){return Qa},ve:function(ob){ob.jf(Ka)?Pa=ob:Qa=!1}}}());ya.D(function(){var Qa=!0;return{A:function(){return Qa},ve:function(ob,jb){ob.jf(Ka)?pa=ob:(ya.Gh(jb),Qa=!1)}}}());null!=Pa&&Pa.Me();null!=pa&&pa.Me()}}}()},seek:function(v){null!=R&&R.seek(v)},start:function(){M||(M=!0,!1===z.O()&&(I=self.setInterval(E,800)),!1===x.O()&&(aa=self.setInterval(H,1200)),
X.start(y,!0))},pause:function(){!1!==M&&(M=!1,null!=I&&(self.clearInterval(I),I=null),null!=aa&&(self.clearInterval(aa),aa=null),X.stop(y))},qa:function(){this.pause();X.stop(y);X.b(y)}}}(Ya);ja.setVisible(!1);jc.add(ja,Ya,Kb,vc,Oa);ja.seekAnimateFaceMorphsHandler=function(r){dc.seek(r)};ja.setZIndex=function(r){return function(H){Z.u(r).z=H}}(xa);var Sc=function(){var r={},H=[];r.add=function(E){H.push(E)};r.remove=function(E){E=H.indexOf(E);0<=E&&H.splice(E,1)};var t=null;r.Uk=function(){!1===
Ha(H)&&(t=[],C(H,function(E){Z.isEnabled(E)&&(Z.s(E,!1),t.push(E))}))};r.Ro=function(){null!=t&&(C(t,function(E){Z.s(E,!0)}),t=null)};return r}();ja.xd=function(r){Sc.add(r)};ja.Eo=function(r){Sc.remove(r)};ja.mergeAnimationGroupsAndReturnAnimationGroupDeltaAndDuration=function(r){return new Promise(function(H,t){var E=kh.create(),F=Ld.create(E);Va({Ob:function(){var z=r[0];z=Dc(z);delete z.customizations;delete z.inPlace;delete z.flipH;return new Promise(function(x){rb(z,F).then(function(y){var N=
y.g;(new oe(Jb,xa,N,vc,Oa,D,F)).bb();var L=z.positionOffset;if(null!=L){var I=ja.ja();Ae(L,I,N)}x(y)})["catch"](function(y){console.error(y)})})},Mb:function(){return new Promise(function(z,x){function y(){return new Promise(function(I,aa){Hc(r,function(M,R){return new Promise(function(T,v){var A=L[R],P=function(){return{L:function(Ta){return h(eb,Ta)},ob:function(){return L[R-1].T.Lb()},nb:function(){return L[R-1].T.Mc()}}}(),Q=sg(B,D,null).uc(J).dd(V).$(),oa=function(){var Ta=M.customizations,Ra=
M.duration,Pa=M.startRatio,pa=M.endRatio,Ka=M.speed;return tg(M.assetUrl).bd(null).cd(Ta).sc(Ra).eb(Pa).cb(pa).zb(Ka).$()}(),ya=function(){var Ta=M.showProps,Ra=M.inheritProps,Pa=M.flipH;return rg().Uh(Ta).Sh(null).vc(Pa).Nh(Ra).$()}();P=new ug(P,Q,gd,oa,F,ya,A.g);A.T=P;P.sb().then(function(){T()})["catch"](function(Ta){v(Ta)})})}).then(function(){I()})["catch"](function(M){aa(M)})})}var N,L;xb(r,F).then(function(I){L=I;return y()}).then(function(){N=(new Vg(F,lb,L)).fh();C(L,function(I){X.b(I.g)});
z(N)})["catch"](function(I){x(I)})})}}).then(function(z){H({animationGroupDelta:z.Eb,duration:z.duration})})["catch"](function(z){t(z)})["finally"](function(){Ld.b(F);Wd.b(E)})})};ja.mergeAnimationGroups=function(r,H){return new Promise(function(t,E){var F=kh.create(),z=Ld.create(F),x;xb(r,z).then(function(y){x=(new Vg(z,lb,y)).fh();C(y,function(N){X.b(N.g)});return vd(z,Db,D,x,H,void 0)}).then(function(y){t(y)})["catch"](function(y){E(y)})["finally"](function(){Ld.b(z);Wd.b(F)})})};ja.loadPoseDataFromAction=
function(r){return new Promise(function(H,t){function E(z){return new Promise(function(x,y){var N=Ef.ca(z);if(null==N||1!==N.length)y("Invalid animation groups");else{N=N[0];var L={},I=(L.hipsBonePosition=null,L.boneRotations={},L.assetContainer=z,L);C(X.j(N),function(aa){var M=Ea.f(aa),R=Y.B(M);if(null==I.hipsBonePosition&&"position"===R){var T=Ea.m(aa);T=Ba.getName(T);if(T.toLowerCase().includes("hips")){var v=Y.h(M)[0];T=v.value;v=me(Jb,D,!0);if(null==v)v=1;else{var A=Gf(Jb),P=Hf(Jb);v=Yg(v,A,
P);v=null==v?1:v}I.hipsBonePosition={x:T.x*v,y:T.y*v,z:T.z*v}}}"rotationQuaternion"===R&&(T=Ea.m(aa),T=Ba.getName(T),v=Y.h(M)[0],aa=v.value,I.boneRotations[T]={x:aa.x,y:aa.y,z:aa.z,w:Pb.pb(aa)})});x(I)}})}var F;wd(r,void 0).then(function(z){return Hd(z.J,z.url,K.a,null,z.I,!0)}).then(function(z){F=z;return E(F)}).then(function(z){H(z)})["catch"](function(z){t(z)})})};ja.generateAnimatedGifForAction=function(r,H,t,E,F,z,x,y,N,L,I,aa,M,R,T,v,A,P){return new Promise(function(Q,oa){function ya(){return new Promise(function(Hb,
Cc){Cb(H,r,x,Ka,{Gb:ob,Md:jb,wa:vc,Da:Oa},y,N,F,z,aa,M,R,T,v,A).then(function(Ab){lc=Ab.gh;Lb=Ab.mc;Zb=Ab.Cb;Hb(Ab.g)})["catch"](function(Ab){Cc(Ab)})})}function Ta(){return new Promise(function(Hb,Cc){var Ab=mb(null!=Lb&&null!=Lb.handProps?Lb.handProps:null,null!=lc?lc.handProps:null,y,D);if(null==Ab)Hb();else{var Vc=function(){return{Wb:function(){},ib:function(){}}}(),le=window.gsap.timeline({paused:!0}),jg=Ig(0,P,0,1),Od=new Hg(Vc,Ab,Ka,D,ob,jb,le,Zb,Qa,jg);Od.qb().then(function(){Od.Ae()&&(le.time(.001),
le.time(0));Hb()})["catch"](function(Jh){Cc(Jh)})}})}function Ra(){return new Promise(function(Hb,Cc){sd=function(){var Ab=function(){return{L:function(Od){return h(eb,Od)},ob:function(){return null},nb:function(){return null}}}(),Vc=sg(B,D,ob).uc(J).dd(V).$(),le=rg().vc(v).$(),jg=function(){var Od=null!=lc&&lc.actionAssetPathForLoadProps?lc.actionAssetPathForLoadProps:null!=Lb?Lb.actionAssetPathForLoadProps:null;return tg(H).bd(Od).cd(y).sc(P).eb(F).cb(z).zb(A).$()}();return new ug(Ab,Vc,gd,jg,Ka,
le,Uc)}();sd.af(function(){var Ab=[];if(null!=Zb){var Vc=Zb.Db;Ha(Vc)||(Ab=Ab.concat(Vc))}return Ab}());sd.sb().then(function(){sd.Nb()&&sd.hd();Hb()})["catch"](function(Ab){Cc(Ab)})})}var Pa=document.createElement("canvas");Pa.width=130;Pa.height=180;var pa=Wd.create(Pa,!0,{preserveDrawingBuffer:!0,stencil:!0,Oq:!1}),Ka=function(){var Hb=Ld.create(pa),Cc=Td.create("camera1",Sd.create(0,1,6),Hb),Ab=new Ah(Cc);Td.Ua(Cc,Sd.create(0,1,0));Ab.gb();Ab=4;Ab=void 0===Ab?1:Ab;var Vc=-(Ab-1)/2;Ab=yf.create(Vc,
Vc,Ab,Ab);xf.cq(Cc,Ab);Cc=Ud.create("light",Sd.create(0,.7,1),Hb);Ud.Ph(Cc,.7);Ld.Jh(Hb,rf.pd("#f7f7f7"));return Hb}(),Qa,ob,jb,lc,Lb,Zb,Uc,sd;(function(){return new Promise(function(Hb,Cc){wd(Db,void 0).then(function(Ab){return ge.ka("",Ab.J,Ab.url,Ka,null,Ab.I)}).then(function(Ab){var Vc=he.$a(Ab);ob=he.H(Ab)[0];jb=Vc[0];Ab=Yd(fh.Bg(fh.qf(155)),D);Z.Th(ob,Sd.create(0,Ab,0));Sd.qc(Z.l(ob),1.25);Hb()})["catch"](function(Ab){Cc(Ab)})})})().then(function(){return ya()}).then(function(Hb){Qa=Hb;return Eb(Ka,
Qa,t,E,I)}).then(function(Hb){X.b(Qa);Uc=Hb.Za;Hb=new oe(jb,ob,Uc,vc,Oa,D,Ka);Hb.Qh();Hb.bb();Hb=X.R(Uc);var Cc=Hb+10;X.v(Uc)<Cc&&X.normalize(Uc,Hb,Cc)}).then(function(){return Ra()}).then(function(){return Ta()}).then(function(){return(new Tg(Uc,pa,Ka,Pa,L,sd)).Nd()}).then(function(Hb){Q(Hb)})["catch"](function(Hb){oa(Hb)})["finally"](function(){Ld.b(Ka);Wd.b(pa);Pa.remove()})})};ja.getSceneBlobDataAndDurationForAction=function(r,H,t,E,F,z,x,y,N,L,I,aa,M,R,T,v,A){return new Promise(function(P,Q){function oa(pa,
Ka){return new Promise(function(Qa,ob){function jb(Lb,Zb){Qa({sceneBlobData:Lb,duration:Zb})}if(!1===pb)jb(pa,Ka);else if(null==I)jb(pa,Ka);else{var lc=Vf(D);kd(pa,lc).then(function(Lb){jb(Lb,Ka)})["catch"](function(Lb){ob(Lb)})}})}function ya(pa){return new Promise(function(Ka,Qa){var ob;Eb(Ra,pa,t,E,L).then(function(jb){var lc=jb.Za;ob=jb.duration;X.b(pa);return vd(Ra,Db,D,lc,Pa,x)}).then(function(jb){Ka({Vo:jb,duration:ob})})["catch"](function(jb){Qa(jb)})})}var Ta=kh.create(),Ra=Ld.create(Ta),
Pa=null;(function(){return new Promise(function(pa,Ka){Cb(H,r,y,Ra,{Gb:xa,Md:Jb,wa:vc,Da:Oa},N,I,F,z,aa,M,R,T,v,A).then(function(Qa){var ob=Qa.g;Pa=Qa.mc;metadataFromAssetContainer=Qa.gh;Qa=mb(null!=Pa&&null!=Pa.handProps?Pa.handProps:null,null!=metadataFromAssetContainer?metadataFromAssetContainer.handProps:null,N,D);Pa.handProps=Qa;null!=L&&(Qa=L*lb,null==Pa&&(Pa={}),Pa.frameInOriginalAnimation=Qa);pa(ob)})["catch"](function(Qa){Ka(Qa)})})})().then(function(pa){return ya(pa)}).then(function(pa){return oa(pa.Vo,
pa.duration)}).then(function(pa){P(pa)})["catch"](function(pa){Q(pa)})["finally"](function(){Ld.b(Ra);Wd.b(Ta)})})};ja.setMaterialImageTextureScale=function(r,H){Ob.Fp(r,H)};ja.setMaterialImageTextureRotation=function(r,H){Ob.Ep(r,H)};var xc=null;ja.hideAdjustHeadOrientationEditor=function(){null!=xc&&(Ad(!1),xc.b(),xc=null)};ja.showAdjustHeadOrientationEditor=function(r){var H=this;return new Promise(function(t,E){if(null==Nc)E("instance is null.");else{var F=Nc.ARROW_HEAD_GLB_PATH_RESOURCE_KEY,
z=Nc.Mm(F);null==z?E('Resource "'+F+'" not registered.'):Lg(r,xa,Jb,z,D).then(function(x){xc=x;Ad(!0);t(function(){return{setConfirmEditListener:function(y){xc.sp(y)},dispose:function(){H.hideAdjustHeadOrientationEditor()}}}())})["catch"](function(x){E(x)})}})};ja.previewSubActionTrimmed=function(r,H,t,E){var F=this;return new Promise(function(z,x){var y=F.La(r);null==y?x("actionObject is null for id "+r):y.oc(H,t,E).then(function(){z()})["catch"](function(N){x(N)})})};ja.setMaterialColorTexture=
function(r,H){Ob.Dp(r,H)};ja.setActionShoulderPosition=function(r,H){var t=this.La(r);null!=t&&t.Wp(H)};ja.setActionAngle=function(r,H){var t=this.La(r);null!=t&&t.ap(H)};ja.setActionPositionOffset=function(r,H,t){r=this.La(r);null!=r&&r.Rp(H,t)};ja.setActionArmSpace=function(r,H){var t=this.La(r);null!=t&&t.fp(H)};(function(){ja.generateImage=function(r,H,t){function E(I,aa,M,R){L.push({resolve:I,reject:aa,ro:M,time:R})}function F(I){C(L,function(aa){aa.resolve(I)})}function z(I){C(L,function(aa){aa.reject(I)})}
var x=this,y=this.generateImage,N=function(){var I=!1;return function(){I||(I=!0,x.generateImage=y)}}(),L=null!=t?t:[];ja.generateImage=function(I,aa){return new Promise(function(M,R){E(M,R,I,aa)})};return new Promise(function(I,aa){null==t&&E(I,aa,r,H);!1===hb.Ie()?(z("generateImage() need support multiple views"),N()):function(){var M=function(){return{Ta:function(P){hb.Ta(P)},Be:function(){hb.Bb(K)},Ve:function(){hb.md(K)},$e:function(P){return r.seekToTimeWithReturnRestoreHandler(P)},mb:function(P){hb.mb(P)}}}(),
R=K.P,T=xa,v=Jb,A=Tc([xa],!0);M=new Dh(M,R,T,v,A,Db);M.setTime(H);return M}().Nd().then(function(M){F(M)})["catch"](function(M){1===L.length?z(M):(N(),L.shift(),M=L[0],ja.generateImage(M.ro,M.time,L))})["finally"](function(){N()})})}})();ja.alignBottomBodyWithPreviousAction=function(r,H){return new Promise(function(t,E){var F=kh.create(),z=Ld.create(F);Va({Ob:function(){return rb(r,z)},Mb:function(x){return new Promise(function(y,N){rb(H,z).then(function(L){function I(v,A){return{frame:v,value:A}}
L=L.g;var aa=function(){var v={},A={};C("Hips LeftUpLeg RightUpLeg LeftLeg LeftFoot LeftToeBase LeftToe_End RightLeg RightFoot RightToeBase RightToe_End".split(" "),function(P){A[P]=!0});v.contains=function(P){P=self.BabylonJsBoneMapper.ensureBoneNameInMixamo(P,D);P=P.substring(10);return!0===A[P]};return v}(),M=X.v(L),R=X.R(x),T=X.v(x);C(X.j(L),function(v){var A=Ea.m(v).name;if(aa.contains(A)){v=Ea.f(v);var P=Y.K(v,M);P=Y.h(v)[P];A=Be(x,A,Y.B(v));null!=A&&(v=P.value,Y.ya(Ea.f(A),[I(R,v.clone()),
I(T,v.clone())]))}});y(x)})["catch"](function(L){N(L)})})}}).then(function(x){t(x.Eb)})["catch"](function(x){E(x)})["finally"](function(){Ld.b(z);Wd.b(F)})})};ja.getAnimationGroupDeltaForConvertPoseToAction=function(r){return new Promise(function(H,t){var E=kh.create(),F=Ld.create(E);Va({Ob:function(){return rb(r,F)},Mb:function(z){return new Promise(function(x){X.normalize(z,null,r.duration*lb);x(z)})}}).then(function(z){H(z.Eb)})["catch"](function(z){t(z)})["finally"](function(){Ld.b(F);Wd.b(E)})})};
ja.flattenActionWithRepeatWithPatchData=function(r){return new Promise(function(H,t){var E=kh.create(),F=Ld.create(E),z;Va({Ob:function(){return rb(r,F)},Mb:function(x){return new Promise(function(y){var N=r.playCount,L=r.repeatBlendDuration,I=r.startRatio||tf.ba,aa=r.endRatio||tf.aa;if(I!==tf.ba||aa!==tf.aa)x=Fe(x,I,aa);N=new Xg(F,x,N,L,lb,null);N.flatten();z=N.Za;X.b(x);y(z)})}}).then(function(x){H({animationGroupDelta:x.Eb,duration:x.duration})})["catch"](function(x){t(x)})["finally"](function(){Ld.b(F);
Wd.b(E)})})};ja.getPatchedAnimationGroupDataForCustomizations=function(r,H){return new Promise(function(t,E){var F=kh.create(),z=Ld.create(F),x=null;Va({Ob:function(){return rb(r,z)},Mb:function(y){return new Promise(function(N,L){var I=r.startRatio,aa=r.endRatio,M=new vg,R=ua(H,y,new pc,M);R.eb(I);R.cb(aa);R.ed(r.flipH);I=r.speed;null!=I&&R.zb(I);R.C().then(function(){x=function(){var T=M.Db;if(Ha(T))return null;C(T,function(v){v=v.propInfoList;!1===Ha(v)&&C(v,function(A){var P=A.la;null!=P&&(delete A.la,
A.actionPropsIdAndPath=P)})});return T}();N(y)})["catch"](function(T){L(T)})})}}).then(function(y){t({animationGroupDelta:y.Eb,allPropInfoLists:x})})["catch"](function(y){E(y)})["finally"](function(){Ld.b(z);Wd.b(F)})})};ja.getPatchedAnimationGroupDataWithDuration=function(r,H,t,E){return new Promise(function(F,z){function x(aa,M){return new Promise(function(R,T){wa(Jb,xa,N,aa,H,M).C().then(function(){R()})["catch"](function(v){T(v)})})}function y(){return new Promise(function(aa,M){!1===Eh()?aa(null):
null==E?aa(null):nb(E,I).then(function(R){aa(R)})["catch"](function(R){M(R)})})}var N=Dc(t);delete N.temp;var L=kh.create(),I=Ld.create(L);Va({Ob:function(){return rb(r,I)},Mb:function(aa){return new Promise(function(M,R){y().then(function(T){return x(aa,T)}).then(function(){M(aa)})["catch"](function(T){R(T)})})}}).then(function(aa){var M=N[Fh.prototype.yi];F({animationGroupDelta:aa.Eb,handPropsInfo:null==M?null:{startTime:N.startTime,endTime:N.endTime,handProps:M},duration:aa.duration})})["catch"](function(aa){z(aa)})["finally"](function(){Ld.b(I);
Wd.b(L)})})};(function(){var r=null;ja.updateWithPoseData=function(){var H=this,t=this.updateWithPoseData;this.updateWithPoseData=function(E,F,z){return new Promise(function(x,y){null!=r&&r.reject();r={vd:E,Oe:F,timeline:z,resolve:x,reject:y}})};return new Promise(function(E,F){var z=[];H.Jn(function(x){z.push(x.uq())});Promise.all(z).then(function(){E()})["catch"](function(x){F(x)})["finally"](function(){H.updateWithPoseData=t;if(null!=r){var x=r.vd,y=r.Oe,N=r.timeline,L=r.resolve,I=r.reject;r=null;
H.updateWithPoseData(x,y,N).then(function(){L()})["catch"](function(aa){I(aa)})}})})}})();var sc=null;ja.isActionEnabled=function(r){return null!=sc?sc.tn(r):!0};ja.findForcedNormalizedActionForTime=function(r,H){return null!=sc?sc.Zk(r,H):null};ja.showPoseEditor=function(r,H,t){t=void 0===t?{}:t;var E=this,F=null!=t.canClickOnCanvas?t.canClickOnCanvas:!0;return new Promise(function(z,x){Bg().then(function(y){sc=function(){function M(){v=T=R=null;R=E.La(H);if(null!=R){var A=R.jl();T=A.startTime;v=
nd(A.duration,A.startRatio||tf.ba,A.endRatio||tf.aa,1)}}var R,T,v;M();return{tn:function(A){if(null==R||!0!==A.isBlendAction||H===A.currentAction.id)var P=!0;else P=A.startTime,A=A.duration,P=Math.max(T+v,P+A)-Math.min(T,P)<v+A?!1:!0;return P},Zk:function(A,P){return null!=R&&P>=T-.01&&P<=T+v+.01?Ec(A,function(Q){return Q.id===H}):null},No:function(){M()},b:function(){}}}();var N=K.a,L=xa,I=Jb;Z.u(xa).z=0;var aa=E.setZIndex;E.setZIndex=function(){};F&&Ad(!0);N=r.createPoseEditor(N,L,I,K.ha,function(){return{isShowPropsForFileName:function(M){return y.Mg(M)},
getBoneCanvasPosition:function(M,R){if(null==M||null==R)return null;var T=Ba.Od(R,M),v=yf.nd(xf.Rc(K.G),K.canvas.clientWidth,K.canvas.clientHeight),A=Ld.Qc(K.a);T=Sd.rd(T,Qb.Kb(),A,v);return{x:T.x,y:T.y}},getCanvasParentElement:function(){return K.Ea}}}());ja.Rg=!0;N.setDisableCanvasInteractivityCallback(function(){E.setZIndex=aa;Ja();Ad(!1);null!=ja.Rg&&delete ja.Rg;Ye.fireEvent({showing:!1});null!=sc&&sc.b();sc=null});Ye.fireEvent({showing:!0});z(N)})["catch"](function(y){x(y)})})};ja.Gf(O).then(function(){})["catch"](function(r){console.error(r)});
(function(){Zc.jg(D).then(function(r){null!=r&&ja.Vc(function(H,t){jh.Ca(H,r[t]||0)})})["catch"](function(r){console.error(r)})})();Nb(ja,{});da.addEventListener("apiReady",function(){Ja()},{once:!0})};return"3d-character-creator-character"===Ga?Kh(Db,B):wd(Db,void 0)}}).then(function(Ga){if(!ig(kb))return ge.ka("",Ga.J,Ga.url,K.a,null,Ga.I)}).then(function(Ga){if(!ig(kb)){$e();Xf(Ga,D);var Db=Ef.H(Ga),Ya=Ef.$a(Ga),Kb=Ef.ca(Ga);Ga=Ga.rn;null==Ga&&(Ga={dispose:function(){}});Vb(Db,Ya,Kb,Ga)}})["catch"](function(Ga){kb(Ga)})}})};
return eb}function fa(){var Ma=null==K.canvas;Ma&&(K.canvas=ba(),K.ha=G(),K.ha.appendChild(K.canvas),K.Ea="g"===Cd.nodeName?document.createElementNS("http://www.w3.org/2000/svg","foreignObject"):document.createElement("div"),null==K.P&&(K.P=ed(K.canvas),K.Ch=function(){K.a.Jd()}));K.Ea.style.pointerEvents="none";K.Ea.setAttribute(xd,ee);Cd.appendChild(K.Ea);Ma&&K.Ea.appendChild(K.ha)}function G(){var Ma=document.createElement("div"),Za=Ma.style;Za.position="fixed";Za.pointerEvents="none";Za.width=
"100%";Za.height="100%";return Ma}function ba(){var Ma=document.createElement("canvas"),Za=Ma.style;Za.width="100%";Za.height="100%";Za.pointerEvents="none";return Ma}function ca(){var Ma=K.ha;return null==Ma?{x:0,y:0,width:0,height:0}:Ma.getBoundingClientRect()}function va(){var Ma=K.a,Za=K.G,Mb=xf.se(Za);Za=xf.ke(Za);Ld.$p(Ma,Mb,Za)}function la(){var Ma=Rg.He(K.F),Za=Rg.Ge(K.F);return Rg.Fe(K.F)||Ma||Za}function ha(Ma){var Za=rc();return Mg.remove(Za,Ma)}function ia(Ma){var Za=rc();return Mg.add(Za,
Ma)}function qa(Ma){var Za=tb();return Mg.remove(Za,Ma)}function ra(Ma){var Za=tb();return Mg.add(Za,Ma)}function rc(){var Ma=Ub();return Sg.wg(Ma)}function tb(){var Ma=Ub();return Sg.Oc(Ma)}function qb(){var Ma=Gb();return Sg.Oc(Ma)}function cb(){var Ma=nc();return Sg.Oc(Ma)}function Bb(){var Ma=Ub();return Sg.Wd(Ma)}function ib(){var Ma=Gb();return Sg.Wd(Ma)}function ac(){var Ma=nc();return Sg.Wd(Ma)}function Ub(){return Oc("rotationGizmo")}function Gb(){return Oc("scaleGizmo")}function nc(){return Oc("positionGizmo")}
function Oc(Ma){var Za=Rg.Nc(K.F);return null==Za?null:Za[Ma]}function Pd(){var Ma=Rg.create(K.a,tf.GIZMO_THICKNESS);Rg.Kh(Ma,!1);return Ma}function Nd(Ma){Rg.If(K.F,Ma)}function $e(){var Ma=Ld.he(K.a);!1===Ha(Ma)&&Kc(Ma,function(Za){Mf.b(Za)})}function Lh(){function Ma(){var zb=w.getBrightness();null==zb&&(zb=pd);var Ib=function(hc,mb){return hc.reduce(function(Fb,$c,eb){return Math.abs($c-mb)<Math.abs(hc[Fb]-mb)?eb:Fb})}(Kd,zb);Ud.Ph(K.Sn,Kd[Ib]);zb=Ld.um(Mb);null!=zb&&zb.map(function(hc){var mb=
hc.characterFamilyName;if(null!=mb){var Fb=hd[mb];null==Fb&&(Fb=e(),hd[mb]=Fb);mb=Fb[Ib];Fb=hc.albedoTexture;null!=Fb&&(Fb.level=mb);hc.directIntensity=mb}})}var Za=null==K.a;if(Za){var Mb=Ld.create(K.P);Mb.ir=tc++;(function(){function zb(){!1===Ha(Ib)&&(C(Ib,function(hc){hc()}),Ib.length=0)}var Ib=[];Mb.Ri=function(hc){Ib.push(hc)};Mb.Bh=function(){zb();Ld.xb(Mb)};Mb.Jd=function(){var hc=qh(),mb=0;return function(){if(hg)hg=!1;else if(!hb.ye()&&rh&&(mb+=Wd.Rl(K.P),mb<30/hc*30))return;this.Bh();mb=
0}}()})();var bc=function(){var zb=ch.pf();Z.s(zb,!1);zb.vh=function(){Af(this)};zb.sg=function(){var Ib=Tc([this],!1);return{x:Ib.x,y:Ib.y}};zb.fo=function(Ib){var hc=null,mb=Z.u(this);mb.x+=1;mb.y+=1;try{hc=Ib()}finally{--mb.x,--mb.y}return hc};return zb}();K.sj=function(){bc.vh();var zb=bc.sg(),Ib=bc.fo(function(){bc.vh();return bc.sg()});return{zq:1/(Ib.x-zb.x),Aq:1/(Ib.y-zb.y)}}}else Mb=K.a;bd(Mb);Za&&(K.G=cd(K.a),hb.Ta(K),K.Yc=new Ah(K.G),vh()&&oh.create("fxaa",1,K.G));K.Yc.gb();Za&&(K.Sn=dd(Mb));
w.addAnimationInfoObserver(Ma);Ma();cg=function(){w.removeAnimationInfoObserver(Ma)};return{a:Mb,rj:Ma}}function Ih(){return new Promise(function(Ma){K.a.Bh();Ma()})}function Mh(Ma,Za){return new Promise(function(Mb,bc){var zb=Ma;if(!function(){var mb=!1,Fb=uc.get(zb,K.a);null!=Fb&&(Mb(Fb),mb=!0);return mb}()){var Ib=null,hc=function(){return yc(Ma,".vrm")||yc(Ma,".evrm")};wd(Ma,void 0).then(function(mb){hc&&!1===Ha(Ld.H(K.a))===!1&&(Ib=ch.pf(),Z.s(Ib,!1));Ma=mb.url;return ge.qd(mb.J,Ma,K.a,null,
mb.I)}).then(function(mb){if("character"===Za){var Fb=Ef.ca(mb);!1===Ha(Fb)&&Kc(Fb,function($c){X.b($c)})}else"action"===Za&&(Fb=Ef.H(mb),!1===Ha(Fb)&&Kc(Fb,function($c){nf($c)}));Fb=mb.cr;!1===Ha(Fb)&&Kc(Fb,function($c){Mf.b($c)});mb=n(mb,K.a);Mb(mb)})["catch"](function(mb){bc(mb)})["finally"](function(){null!=Ib&&(nf(Ib),Ld.Ho(K.a,Ib),Ib=null)})}})}function Kh(Ma,Za){return new Promise(function(Mb,bc){Yc(Ma).then(function(zb){return zb.blob()}).then(function(zb){zb=new File([zb],Za+".glb");return Mh(zb)}).then(function(zb){Mb(zb)})["catch"](function(zb){bc(zb)})})}
function yh(Ma){return{Pa:function(Za){xh(Za)},Sa:function(Za){return Ia(Za)},L:function(Za){return h(null,Za)},Ha:function(Za,Mb,bc){return Nc.Ha(Za,Mb,bc)},ub:function(Za,Mb,bc){return new Promise(function(zb,Ib){var hc=Za+".glb";h(null,Za).then(function(mb){ta(mb,bc,hc).then(function(Fb){return wd(Fb,void 0)}).then(function(Fb){return Hd(Fb.J,Fb.url,Ma,null,Fb.I,!0,Za)}).then(function(Fb){zb(Fb)})["catch"](function(Fb){Ib(Fb)})})})}}}function ig(Ma){return Ld.yn(K.a)?(Ma("Scene is disposed"),!0):
!1}function Tc(Ma,Za){return(new uf(Ma,K.a,K.ha,Za)).Jb()}function Ad(Ma){K.canvas.style.pointerEvents=Ma?"all":"none"}function xh(Ma){C(Ma,function(Za){w.addAssetInfoForActionPropsIdAndPath(Za)})}var Cd=w.getCanvasHostParentElement(),Bh="true"==Cd.getAttribute("useContextPool")&&!1===hb.Ie(),Ch="g"===Cd.nodeName?"G":"E",K=Bh?ka(Ch):{key:Ch,P:hb.za()},rh=!1,hg=!1,rd=0,cg=null;return new Promise(function(Ma){fa();var Za=null==K.a,Mb=Lh();Za&&(K.a=Mb.a,Bh&&(K.a.dispose=function(){var zb=ma(K.key);zb.includes(K)||
zb.push(K)}),K.a.ai=function(){var zb=ec.create(null,K.a);ec.fa(zb,Pb.create());return zb}());Mb=Mb.rj;Za&&(K.Kq=ph.ji(),K.F=Pd());rd=0;hb.Bb(K);rd++;1==rd&&hb.md(K);var bc=U();bc.owner=w;K.Ea.Ld=bc;bc.applyBrightness=Mb;bc.dispose=function(){delete K.Ea.Ld;bc.sn()};null!=Cd&&w.dispatchElementCharacter3dControllerCreatedEventToDrawPane(bc);Ma(bc)})}function m(w,U){w.isConnected()&&w.synchronizeCharacterBounds(void 0,U)}function n(w,U){var fa=Ld.H(U).length,G=Ld.$a(U).length,ba=Ld.ca(U).length,ca=
Ld.he(U).length,va=Ef.qn(w,function(la){return la});fa=Ld.H(U).slice(fa);G=Ld.$a(U).slice(G);ba=Ld.ca(U).slice(ba);ca=Ld.he(U).slice(ca);!1===Ha(ca)&&Kc(ca,function(la){Mf.b(la)});return{rn:va,meshes:fa,skeletons:G,animationGroups:ba}}function q(w,U,fa){!1===X.Uc(w)&&(X.start(w,U,fa),X.pause(w))}function u(w){C(X.j(w),function(U){var fa=S(Ea.f(U));Ea.Ih(U,fa)})}function S(w){w=Y.clone(w);var U=Y.h(w),fa=[];C(U,function(G){var ba=Ue.va(G);G=Dc(G);Ue.fb(G,ba);fa.push(G)});Y.ya(w,fa);return w}function W(w,
U){function fa(tb,qb,cb){ca[tb]={wo:qb,bj:cb}}function G(tb,qb,cb){ba[tb]={Ke:qb,dj:cb}}var ba={},ca={};if(Tf(w)||Uf(w)){var va=function(){function tb(qb,cb){qb[cb]/=2}return{Je:function(qb,cb){qb[cb]*=.75},co:tb,eo:tb}}(),la=va.co,ha=va.eo;G("jawOpen",null,va.Je);G("mouthSmileLeft",null,la);G("mouthSmileRight",null,ha)}else ce(w)?(la=function(){var tb=null,qb=null;return{Je:function(cb,Bb){null==tb&&(tb=Bb);null!=tb&&(cb[tb]*=1.25)},bo:function(cb,Bb){null==qb&&(qb=Bb);null!=qb&&(cb[qb]/=2);null!=
tb&&null!=qb&&(cb[tb]+=cb[qb])}}}(),va=la.Je,la=la.bo,G("browInnerUp","Fcl_BRW_Sorrow",null),G("browDownLeft","Fcl_BRW_Angry",null),G("browDownRight","Fcl_BRW_Angry",null),G("browOuterUpLeft","Fcl_BRW_Angry",null),G("browOuterUpRight","Fcl_BRW_Angry",null),G("eyeLookUpLeft","Fcl_EYE_Spread",null),G("eyeLookUpRight","Fcl_EYE_Spread",null),G("eyeLookDownLeft","Fcl_EYE_Sorrow",null),G("eyeLookDownRight","Fcl_EYE_Sorrow",null),G("eyeLookInLeft","Fcl_EYE_Fun",null),G("eyeLookInRight","Fcl_EYE_Fun",null),
G("eyeLookOutLeft","Fcl_EYE_Fun",null),G("eyeLookOutRight","Fcl_EYE_Fun",null),G("eyeBlinkLeft","Fcl_EYE_Close_L",null),G("eyeBlinkRight","Fcl_EYE_Close_R",null),G("eyeSquintRight","Fcl_EYE_Joy_R",null),G("eyeSquintLeft","Fcl_EYE_Joy_L",null),G("eyeWideLeft","Fcl_EYE_Surprised",null),G("eyeWideRight","Fcl_EYE_Surprised",null),G("jawOpen","Fcl_MTH_Surprised",va),G("jawForward","Fcl_MTH_Fun",null),G("jawLeft","Fcl_MTH_Neutral",null),G("jawRight","Fcl_MTH_Neutral",null),G("mouthFunnel","Fcl_MTH_U",la),
G("mouthPucker","Fcl_MTH_Small",null),G("mouthLeft","Fcl_MTH_Neutral",null),G("mouthRight","Fcl_MTH_Neutral",null),G("mouthRollUpper","Fcl_MTH_Close",null),G("mouthRollLower","Fcl_MTH_Close",null),G("mouthShrugUpper","Fcl_MTH_Angry",null),G("mouthShrugLower","Fcl_MTH_Angry",null),G("mouthClose","Fcl_MTH_Close",null),G("mouthSmileLeft","Fcl_MTH_Fun",null),G("mouthSmileRight","Fcl_MTH_Fun",null),G("mouthFrownLeft","Fcl_MTH_Sorrow",null),G("mouthFrownRight","Fcl_MTH_Sorrow",null),G("mouthDimpleLeft",
"Fcl_MTH_Neutral",null),G("mouthDimpleRight","Fcl_MTH_Neutral",null),G("mouthUpperUpLeft","Fcl_MTH_I",null),G("mouthUpperUpRight","Fcl_MTH_I",null),G("mouthLowerDownLeft","Fcl_MTH_E",null),G("mouthLowerDownRight","Fcl_MTH_E",null),G("mouthPressLeft","Fcl_MTH_Sorrow",null),G("mouthPressRight","Fcl_MTH_Sorrow",null),G("mouthStretchLeft","Fcl_MTH_Large",null),G("mouthStretchRight","Fcl_MTH_Large",null),G("tounghtOut","Fcl_MTH_A",null)):de(w)&&(fa("A",["jawOpen","mouthLowerDownLeft","mouthLowerDownRight"],
["mouthShrugLower","mouthPressLeft","mouthPressRight"]),fa("E",["mouthSmileLeft","mouthSmileRight"],["mouthStretchLeft","mouthStretchRight","mouthShrugUpper","mouthUpperUpLeft","mouthUpperUpRight"]),fa("I",["jawOpen","mouthStretchLeft","mouthStretchRight"],["mouthShrugUpper","mouthShrugLower"]),fa("O",["mouthFunnel","jawOpen"],["mouthRollUpper","mouthRollLower","mouthPucker"]),fa("U",["mouthFunnel","mouthPucker"],["jawForward","mouthRollUpper","mouthRollLower"]));if(0<Object.keys(ba).length){U=JSON.parse(JSON.stringify(U));
var ia=U.morphTargets,qa=U.frames;null!=ia&&null!=qa&&ia.map(function(tb,qb){var cb=ba[tb];if(null!=cb){var Bb=cb.Ke;null!=Bb&&tb!=Bb&&(ia[qb]=Bb);var ib=cb.dj;null!=ib&&qa.map(function(ac){ib(ac,qb)})}})}else if(0<Object.keys(ca).length){U=JSON.parse(JSON.stringify(U));var ra=U.morphTargets;va=U.frames;if(null!=ra&&null!=va){Array.from(Object.keys(ca)).map(function(tb){ra.push(tb)});var rc=function(tb,qb){var cb=0,Bb=0;qb.map(function(ib){ib=tb[ra.indexOf(ib)];0<ib&&(cb++,Bb+=ib)});cb/=qb.length;
return{rc:cb,value:Bb}};va.map(function(tb){var qb=0,cb=Object.keys(ca).map(function(Gb){var nc=ca[Gb],Oc=nc.wo;nc=nc.bj;var Pd=rc(tb,Oc),Nd=Pd.rc;Pd=Pd.value;var $e=rc(tb,nc);Gb={Ke:Gb,rc:2*Nd+$e.rc,value:2*Pd+$e.value,qh:Oc.length,Cf:nc.length};qb=Math.max(qb,Gb.rc);return Gb});cb=cb.filter(function(Gb){return qb==Gb.rc});var Bb=0;cb.map(function(Gb){Bb=Math.max(Bb,Gb.qh)});cb=cb.filter(function(Gb){return Bb==Gb.qh});var ib=0;cb.map(function(Gb){ib=Math.max(ib,Gb.Cf)});cb=cb.filter(function(Gb){return ib==
Gb.Cf});var ac=0;cb.map(function(Gb){ac=Math.max(ac,Gb.value)});cb=cb.filter(function(Gb){return ac==Gb.value});cb=cb[0];var Ub=ra.indexOf(cb.Ke);tb[Ub]=Math.min(1,cb.value);.1<tb[Ub]&&(tb[Ub]=Math.max(.2,tb[Ub]));Array.from(Array(ra.length)).map(function(Gb,nc){null==tb[nc]&&(tb[nc]=0)})})}}return U}function ea(w,U){C(w,function(fa){fa=Z.ug(fa);if(null!=fa)for(var G=Mf.Bm(fa),ba=0;ba<G;ba++){var ca=Mf.m(fa,ba);U(ca,jh.getName(ca))}})}function ka(w){var U=ma(w);0==U.length&&U.push({key:w,P:hb.za()});
w=U[0];U.splice(0,1);return w}function ma(w){var U=tf.Zj;null==U&&(U={},tf.Zj=U);var fa=U[w];null==fa&&(fa=[],U[w]=fa);return fa}function na(w){return self.BabylonJsBoneMapper.remapBoneName("mixamorig:Head",w)}function wa(w,U,fa,G,ba){var ca=yb,va=lb;ce(ba);return new Fh(w,U,fa,G,ba,ca,va)}function ta(w,U,fa){return new Promise(function(G,ba){"character-action"!==U?G(w):Yc(w).then(function(ca){return ca.blob()}).then(function(ca){ca=new File([ca],fa);G(ca)})["catch"](function(ca){ba(ca)})})}function Fa(w,
U,fa){return new Promise(function(G,ba){kf(w).then(function(ca){return wd(yb+ca.path,void 0)}).then(function(ca){return ge.ka("",ca.J,ca.url,U,null,ca.I)}).then(function(ca){Xf(ca,fa);G(ca)})["catch"](function(ca){ba(ca)})})}function Na(){return new Promise(function(w,U){null!=hb?w():tf.initializeForMultipleViewsSupport(!0).then(function(){w()})["catch"](function(fa){U(fa)})})}function Ca(w,U){if(null==U)return w();var fa=U.closest("g[graphViewDrawPane=true]");if(null==fa)return w();fa=fa.style;var G=
fa.transform;if(null==qc(G))return w();fa.transform="";try{var ba=w()}finally{fa.transform=G}return ba}function Wa(w,U){var fa=w[U];fa=null!=fa?fa:-1001;-1E3!==fa&&-1001!==fa||(fa=0===U?Rb:Wa(w,U-1));return fa}function Ia(w){return w?w.map(function(U){return{la:U}}):[]}function La(w){function U(Bb){var ib,ac="";for(ib=0;3>=ib;ib++)ac+="0123456789abcdef".charAt(Bb>>8*ib+4&15)+"0123456789abcdef".charAt(Bb>>8*ib&15);return ac}function fa(Bb,ib){var ac=(Bb&65535)+(ib&65535);return(Bb>>16)+(ib>>16)+(ac>>
16)<<16|ac&65535}function G(Bb,ib,ac,Ub,Gb,nc){Bb=fa(fa(ib,Bb),fa(Ub,nc));return fa(Bb<<Gb|Bb>>>32-Gb,ac)}function ba(Bb,ib,ac,Ub,Gb,nc,Oc){return G(ib&ac|~ib&Ub,Bb,ib,Gb,nc,Oc)}function ca(Bb,ib,ac,Ub,Gb,nc,Oc){return G(ib&Ub|ac&~Ub,Bb,ib,Gb,nc,Oc)}function va(Bb,ib,ac,Ub,Gb,nc,Oc){return G(ac^(ib|~Ub),Bb,ib,Gb,nc,Oc)}var la=function(Bb){var ib,ac=(Bb.length+8>>6)+1,Ub=Array(16*ac);for(ib=0;ib<16*ac;ib++)Ub[ib]=0;for(ib=0;ib<Bb.length;ib++)Ub[ib>>2]|=Bb.charCodeAt(ib)<<ib%4*8;Ub[ib>>2]|=128<<ib%
4*8;Ub[16*ac-2]=8*Bb.length;return Ub}(""+w),ha=1732584193,ia=-271733879,qa=-1732584194,ra=271733878;for(w=0;w<la.length;w+=16){var rc=ha;var tb=ia;var qb=qa;var cb=ra;ha=ba(ha,ia,qa,ra,la[w+0],7,-680876936);ra=ba(ra,ha,ia,qa,la[w+1],12,-389564586);qa=ba(qa,ra,ha,ia,la[w+2],17,606105819);ia=ba(ia,qa,ra,ha,la[w+3],22,-1044525330);ha=ba(ha,ia,qa,ra,la[w+4],7,-176418897);ra=ba(ra,ha,ia,qa,la[w+5],12,1200080426);qa=ba(qa,ra,ha,ia,la[w+6],17,-1473231341);ia=ba(ia,qa,ra,ha,la[w+7],22,-45705983);ha=ba(ha,
ia,qa,ra,la[w+8],7,1770035416);ra=ba(ra,ha,ia,qa,la[w+9],12,-1958414417);qa=ba(qa,ra,ha,ia,la[w+10],17,-42063);ia=ba(ia,qa,ra,ha,la[w+11],22,-1990404162);ha=ba(ha,ia,qa,ra,la[w+12],7,1804603682);ra=ba(ra,ha,ia,qa,la[w+13],12,-40341101);qa=ba(qa,ra,ha,ia,la[w+14],17,-1502002290);ia=ba(ia,qa,ra,ha,la[w+15],22,1236535329);ha=ca(ha,ia,qa,ra,la[w+1],5,-165796510);ra=ca(ra,ha,ia,qa,la[w+6],9,-1069501632);qa=ca(qa,ra,ha,ia,la[w+11],14,643717713);ia=ca(ia,qa,ra,ha,la[w+0],20,-373897302);ha=ca(ha,ia,qa,ra,
la[w+5],5,-701558691);ra=ca(ra,ha,ia,qa,la[w+10],9,38016083);qa=ca(qa,ra,ha,ia,la[w+15],14,-660478335);ia=ca(ia,qa,ra,ha,la[w+4],20,-405537848);ha=ca(ha,ia,qa,ra,la[w+9],5,568446438);ra=ca(ra,ha,ia,qa,la[w+14],9,-1019803690);qa=ca(qa,ra,ha,ia,la[w+3],14,-187363961);ia=ca(ia,qa,ra,ha,la[w+8],20,1163531501);ha=ca(ha,ia,qa,ra,la[w+13],5,-1444681467);ra=ca(ra,ha,ia,qa,la[w+2],9,-51403784);qa=ca(qa,ra,ha,ia,la[w+7],14,1735328473);ia=ca(ia,qa,ra,ha,la[w+12],20,-1926607734);ha=G(ia^qa^ra,ha,ia,la[w+5],4,
-378558);ra=G(ha^ia^qa,ra,ha,la[w+8],11,-2022574463);qa=G(ra^ha^ia,qa,ra,la[w+11],16,1839030562);ia=G(qa^ra^ha,ia,qa,la[w+14],23,-35309556);ha=G(ia^qa^ra,ha,ia,la[w+1],4,-1530992060);ra=G(ha^ia^qa,ra,ha,la[w+4],11,1272893353);qa=G(ra^ha^ia,qa,ra,la[w+7],16,-155497632);ia=G(qa^ra^ha,ia,qa,la[w+10],23,-1094730640);ha=G(ia^qa^ra,ha,ia,la[w+13],4,681279174);ra=G(ha^ia^qa,ra,ha,la[w+0],11,-358537222);qa=G(ra^ha^ia,qa,ra,la[w+3],16,-722521979);ia=G(qa^ra^ha,ia,qa,la[w+6],23,76029189);ha=G(ia^qa^ra,ha,ia,
la[w+9],4,-640364487);ra=G(ha^ia^qa,ra,ha,la[w+12],11,-421815835);qa=G(ra^ha^ia,qa,ra,la[w+15],16,530742520);ia=G(qa^ra^ha,ia,qa,la[w+2],23,-995338651);ha=va(ha,ia,qa,ra,la[w+0],6,-198630844);ra=va(ra,ha,ia,qa,la[w+7],10,1126891415);qa=va(qa,ra,ha,ia,la[w+14],15,-1416354905);ia=va(ia,qa,ra,ha,la[w+5],21,-57434055);ha=va(ha,ia,qa,ra,la[w+12],6,1700485571);ra=va(ra,ha,ia,qa,la[w+3],10,-1894986606);qa=va(qa,ra,ha,ia,la[w+10],15,-1051523);ia=va(ia,qa,ra,ha,la[w+1],21,-2054922799);ha=va(ha,ia,qa,ra,la[w+
8],6,1873313359);ra=va(ra,ha,ia,qa,la[w+15],10,-30611744);qa=va(qa,ra,ha,ia,la[w+6],15,-1560198380);ia=va(ia,qa,ra,ha,la[w+13],21,1309151649);ha=va(ha,ia,qa,ra,la[w+4],6,-145523070);ra=va(ra,ha,ia,qa,la[w+11],10,-1120210379);qa=va(qa,ra,ha,ia,la[w+2],15,718787259);ia=va(ia,qa,ra,ha,la[w+9],21,-343485551);ha=fa(ha,rc);ia=fa(ia,tb);qa=fa(qa,qb);ra=fa(ra,cb)}return U(ha)+U(ia)+U(qa)+U(ra)}function vb(w){w=w.angle;return null!=w?w:-1001}tf.isNonMixamoBasedFamily=function(){return!1};var hb=null;tf.initializeForMultipleViewsSupport=
function(w){return new Promise(function(U){null==hb&&(hb=function(){if(w){var fa=function(ba,ca){ca!==lh.isEnabled(ba.Hc)&&(lh.s(ba.Hc,ca),ca&&(null!=ba.De&&Wd.Oh(G,ba.De),function(){var va=Ld.ca(ba.a);Ha(va)||C(va,function(la){if(X.Uc(la)){var ha=X.jc(la);X.stop(la);X.start(la,X.Ug(la),X.ne(la));!1===ha&&X.pause(la)}})}()))},G=ed(document.createElement("canvas"));Wd.Xe(G,function(){var ba=Wd.ql(G);null!=ba&&xf.ta(lh.Lc(ba)).Jd()});return{za:function(){return G},md:function(ba){fa(ba,!0)},Bb:function(ba){fa(ba,
!1)},ye:function(){return 1<Wd.Vm(G).length},Ie:function(){return!0},Ta:function(ba){ba.Hc=Wd.Ta(G,ba.canvas,ba.G,!0)},Lh:function(ba){Wd.Oh(G,ba)},mb:function(ba){Wd.qq(G,ba.canvas)}}}return{za:function(){return null},md:function(ba){Wd.Xe(ba.P,ba.Ch)},Bb:function(ba){Wd.Bb(ba.P,ba.Ch)},ye:function(){return!1},Ie:function(){return!1},Ta:function(){},mb:function(ba){Wd.b(ba.P)}}}());U()})};var tc=1;tf.utilFunctions={validateActionBlendDurationWithPreviousActionStartTime:function(w,U,fa){return Math.min(w,
fa-U-.01)},calculateBlendActionStartTime:function(w,U){return w-U},validateActionBlendDurationWithActionStartTime:function(w,U,fa){w+U>fa&&(U=fa-w);return U},calculateXYDistancesOfPosition:function(w){var U=w.distance;w=w.angle;return{xDistance:U*Math.cos(w),yDistance:U*Math.sin(w)}},traverseAllCamerasWithFillingGaps:function(w,U,fa){var G=null,ba=w.length-1;w.forEach(function(ca,va){var la=ca.startTime,ha=ca.duration,ia=la+ha;null!=G&&G<la&&fa(G,la-G,va-1,!0);G=ia;fa(la,ha,va,!1);va===ba&&U>ia&&
fa(ia,U-ia,va,!0)})},getBoundsForMeshes:function(w,U,fa,G,ba){null==G&&(G=!1);null==ba&&(ba=!1);(function(){C(w,function(ca){Af(ca)})})();return ba?Lf(w,ba,function(){return(new uf(w,U,fa,G)).Jb()}):(new uf(w,U,fa,G)).Jb()},addTweenForCamera:function(w,U,fa,G,ba,ca,va){function la(qb){qb=w[qb].bounds;return Math.floor(20*Math.min(fa/qb.width,G/qb.height))/20}var ha=U-1,ia=w[U].bounds,qa=0<=ha?w[ha].bounds:ia,ra=la(U),rc=0<U?la(ha):ra;ba&&(rc=ra,qa=ia);var tb=rc+(ra-rc)*ca;U=function(){var qb=-((qa.x+
qa.width/2)*rc);var cb=-((qa.y+qa.height/2)*rc);qb+=(-((ia.x+ia.width/2)*ra)-qb)*ca;cb+=(-((ia.y+ia.height/2)*ra)-cb)*ca;qb+=fa/2;cb+=G/2;qb/=tb;cb/=tb;return{x:qb,y:cb}}();va(tb,U.x,U.y)},interpolateValueForFrame:function(w,U){return md(w,U)},getFlippedRotationQuaternion:function(w,U){U=void 0===U?{}:U;null==U.x&&(U.x=!1);null==U.y&&(U.y=!0);null==U.z&&(U.z=!0);var fa=Pb.clone(w);["x","y","z"].forEach(function(G){U[G]&&(fa[G]*=-1)});return fa},loadAssetContainerAsync:function(w,U,fa,G,ba,ca,va){return Hd(w,
U,fa,G,ba,ca,va)},checkDecryptUrl:function(w,U){return wd(w,U).then(function(fa){return{rootUrl:fa.J,url:fa.url,pluginExtension:fa.I}})},getQuaternionInfoFromEulerAngles:function(w,U,fa){w=Pb.ga(w,U,fa);return{x:w.x,y:w.y,z:w.z,w:w.w}}};tf.GIZMO_THICKNESS=3;tf.isCharacterFamilySupportFeature=function(){return!0};tf.calculateActionEffectiveAngle=Wa;tf.ba=0;tf.aa=1;tf.li=1;var Rb=0,yb="https://static.visual-paradigm.com";tf.Ac=yb;tf.Ya=function(w){return w/lb};"undefined"!==typeof self&&null==self.md5&&
(self.md5=La);var uc=function(){function w(G){var ba=fa.keys();if(!Ha(ba)){var ca=[],va=Ld.qe(G);C(ba,function(la){yc(la,va)&&ca.push(la)});return ca}}var U={},fa=new Qc;fa.Pf=function(G){Ef.b(G)};U.set=function(G,ba,ca){fa.set(G+"\n"+Ld.qe(ba),ca)};U.get=function(G,ba){var ca=null,va=fa.get(G+"\n"+Ld.qe(ba));null!=va&&(ca=n(va,ba));return ca};U.Qj=function(G){G=w(G);Ha(G)||C(G,function(ba){fa["delete"](ba)})};return U}(),lb=60;tf.FRAME_PER_SECOND=lb;tf.V=function(w){return w*lb};tf.isSingleFrameAction=
function(w,U,fa,G){if(1<U)return!1;w*=lb;return 4>=w-w*fa-w*(1-G)};var xd="babylonjs-canvas-host-parent-element",ee="true";tf.Qq=function(){return self.character3dController};var od=null,Nc=null,gd=null,Zc,pd=1.2,Kd=function(){var w=pd,U=[];Array.from(Array(20)).map(function(fa,G){U.push(w/20*G)});Array.from(Array(20)).map(function(fa,G){U.push(w+(5-w)/20*G)});U.push(5);return U}();tf.DEFAULT_BRIGHTNESS=pd;tf.BRIGHTNESS_VALUES=Kd;var hd=tf.BRIGHTNESS_LEVELS_MAP;null==hd&&(hd={},tf.BRIGHTNESS_LEVELS_MAP=
hd);tf.BRIGHTNESS_MARKS=[{value:0,label:"-100"},{value:10,label:"-50"},{value:20,label:"0"},{value:30,label:"50"},{value:40,label:"100"}];var qd="index little pinky middle ring thumb".split(" ");tf.isFingerBone=f;tf.getInstance=function(w){return new Promise(function(U,fa){null!=Nc?U(Nc):c(w).then(function(G){Nc=G;G=od;null!=G&&(od=null,G.Po());U(Nc)})["catch"](function(G){fa(G)})})};self.WebDiagramBabylonJsBridge=tf})();function Fh(a,f,e,c,g,h,l){this.pa=a;this.U=f;this.Oe=e;this.g=c;this.i=g;this.fi=h;this.ra=l;this.hn=self.BabylonJsBoneMapper.remapBoneName("mixamorig:Hips",g);this.sb()}var Jg,Eh;
(function(){function a(c,g){var h=Pb.clone(g);Pb.Xc(h,c);Pb.ko(h,c)}function f(){return tf.FRAME_PER_SECOND}function e(c,g,h){C(c,function(l,b){var d=!1;l<g?(l=g,d=!0):l>h&&(l=h,d=!0);d&&(c[b]=l)})}Fh.prototype.yi="handProps";Eh=function(){return!1};Fh.prototype.sb=function(){this.ph=this.zj();this.so=this.vk()};Fh.prototype.zj=function(){var c=this.j(),g=this.hn;return function(){var h={},l=[],b={},d=null,k=null;C(c,function(m){var n=Ea.f(m),q=Y.B(n);"position"===q?null==d&&(m=Ea.m(m),q=m.name,q===
g&&(d=n)):"rotationQuaternion"===q&&(m=Ea.m(m),q=m.name,null==k&&q===g?k=n:(m=q=m.name,l.push(n),b[m]=n))});h.Ln=function(m){C(l,function(n){m(n)});null!=d&&m(d)};h.ag=function(m){return b[m]};h.Og=d;h.Pg=k;(function(){h.Ln(function(m){m=Y.h(m);var n=function(){var q={},u=new Map;q.Cd=function(S){u.set(S,!0)};q.Yj=function(S){return!0===u.get(S)};return q}();C(m,function(q){var u=q.value;n.Yj(u)&&(u=u.clone(),q.value=u);n.Cd(u)})})})();return h}()};Fh.prototype.j=function(){return X.j(this.g)};Fh.prototype.vg=
function(){return this.cc("motion")};Fh.prototype.xg=function(){return this.cc("postureCorrection")};Fh.prototype.hg=function(){return this.cc("copy")};Fh.prototype.oe=function(){return this.cc("startTime")};Fh.prototype.ae=function(){return this.cc("endTime")};Fh.prototype.cc=function(c){return this.Oe[c]};Fh.prototype.vk=function(){return null!=this.vg()?this.rk():null!=this.xg()?this.wk():null!=this.hg()?this.fk():null};Fh.prototype.fk=function(){var c={},g=this,h=this.hg(),l=this.ae(),b=this.oe()*
f(),d=l*f(),k=h.pasteAtTime*f(),m=d-b,n=this.j();c.C=function(){return new Promise(function(q){C(n,function(S){var W=Y.h(Ea.f(S));(function(){var ea=!0;$a(W,{A:function(){return ea},da:function(ka){ka.frame>k?ka.frame+=m:ea=!1}})})();(function(){var ea=[],ka=null;C(W,function(na,wa){var ta=na.frame;ta>=b&&ta<=d?ea.push(Sb(k+(ta-b),na.value)):ta>=k&&null==ka&&(ka=wa)});var ma=0;C(ea,function(na){W.splice(ka+ma,0,na);ma++})})()});var u=g.Sd();u+=m;g.cp(u);q()})};return c};Fh.prototype.bg=function(){return X.R(this.g)};
Fh.prototype.Sd=function(){return X.v(this.g)};Fh.prototype.cp=function(c){X.Sb(this.g,c)};Fh.prototype.od=function(c){if(null==c)return null;c=zd(c);c=Yd(c,this.i);return c=Dd(c)};Fh.prototype.wk=function(){var c=this,g={},h=this.xg(),l=this.oe(),b=this.ae(),d=l*f(),k=b*f();b+=h.endBlendDuration;var m=(l-h.startBlendDuration)*f(),n=b*f(),q=h.boneRotations,u=h.hipsBonePosition,S=this.od(h.rotationAngle),W=this.ph;g.C=function(){return new Promise(function(ea){function ka(ma,na){var wa=Zf();(function(){var Ia=
Yf(f());Ia=[m-Ia,m,d-Ia,d,k,k+Ia,n,n+Ia];e(Ia,c.bg(),c.Sd());$f(ma,Ia,wa)})();var ta=wa.get(d),Fa=wa.get(k),Na=Y.h(ma),Ca=Na.indexOf(ta),Wa=Na.indexOf(Fa);(function(){for(var Ia=na.Kd(ta.value),La=Ca;La<=Wa;La++){var vb=Na[La],hb=vb.value.clone();vb.value=hb;na.Dd(hb,Ia)}})();(function(){var Ia=wa.get(n);Ia=Na.indexOf(Ia);var La=Wa+1,vb=Na[La];null!=vb&&(vb.value=Fa.value,Na.splice(La,Ia-La))})();(function(){var Ia=wa.get(m);Ia=Na.indexOf(Ia);var La=Ca-1,vb=Na[La];null!=vb&&(vb.value=ta.value,Na.splice(Ia,
La-Ia))})()}(function(){if(null!=u){var ma=W.Og;null!=ma&&ka(ma,{Kd:function(na){var wa=Sd.create(u.x,u.y,u.z);return Sd.lq(wa,na)},Dd:function(na,wa){Sd.xf(na,wa)}})}})();(function(){Da(q,function(ma,na){var wa=W.ag(ma);null!=wa&&ka(wa,{Kd:function(ta){var Fa=Pb.create(na.x,na.y,na.z,Pb.pb(na));return td(ta,Fa)},Dd:function(ta,Fa){a(ta,Fa)}})})})();(function(){if(null!=S){var ma=W.Pg;if(null!=ma){var na=Pb.ga(0,Math.PI/180*S,0);ka(ma,{Kd:function(){return na},Dd:function(wa,ta){a(wa,ta)}})}}})();
ea()})};return g};Jg=function(c,g,h,l,b,d,k,m){return new Promise(function(n,q){var u;(new gc(c,g)).load().then(function(S){u=new sa(S,h,l);return u.Ed()}).then(function(){u.rq(b,d,k,m);n()})["catch"](function(S){q(S)})})};Fh.prototype.rk=function(){var c=this,g={},h=this.vg(),l=this.oe(),b=this.ae(),d=0===l&&0===b,k=l-h.startBlendDuration,m=b+h.endBlendDuration,n=h.poses,q=this.ph;g.C=function(){return new Promise(function(u){if(!Ha(n)){var S=c.bg(),W=c.Sd(),ea=n.length;C(n,function(ka,ma){function na(Ca,
Wa){var Ia=Zf();if(d){$f(Ca,[wa],Ia);var La=Ia.get(wa);La.value=Wa}else{var vb=(ma===ea-1?m:n[ma+1].time)*f(),hb=(0<ma?n[ma-1].time:k)*f();(function(){var yb=Yf(f());yb=[hb,hb+yb,wa-yb,wa,wa+yb,vb-yb,vb];e(yb,S,W);$f(Ca,yb,Ia)})();La=Ia.get(wa);La.value=Wa;var tc=Y.h(Ca),Rb=tc.indexOf(La);(function(){var yb=Rb+1,uc=Ia.get(vb);uc=tc.indexOf(uc)-1;var lb=tc[yb];null!=lb&&(lb.value=Wa,tc.splice(yb,uc-yb))})();(function(){var yb=Ia.get(hb);yb=tc.indexOf(yb)+1;var uc=Rb-1,lb=tc[uc];null!=lb&&(lb.value=
Wa,tc.splice(yb,uc-yb))})()}}var wa=ka.time*f(),ta=ka.boneRotations,Fa=ka.hipsBonePosition,Na=c.od(ka.rotationAngle);(function(){Da(ta,function(Ca,Wa){var Ia=q.ag(Ca);if(null!=Ia){var La=Pb.create(Wa.x,Wa.y,Wa.z,Pb.pb(Wa));na(Ia,La)}})})();(function(){if(null!=Fa){var Ca=q.Og;if(null!=Ca){var Wa=Sd.create(Fa.x,Fa.y,Fa.z);na(Ca,Wa)}}})();(function(){if(null!=Na){var Ca=q.Pg;if(null!=Ca){var Wa=Pb.ga(0,Math.PI/180*Na,0);var Ia=Y.K(Ca,wa);Ia=Y.h(Ca)[Ia].value;Ia=Pb.multiply(Wa,Ia);na(Ca,Ia)}}})()})}u()})};
return g};Fh.prototype.C=function(){var c=this;return new Promise(function(g,h){var l=c.so;null==l?g():l.C().then(function(){g()})["catch"](function(b){h(b)})})}})();function Ah(a){this.G=a;a=xf.xi();Td.Jp(this.G,a)}p=Ah.prototype;p.za=function(){return Td.za(this.G)};p.qp=function(){xf.Np(this.G,6)};p.np=function(){xf.Kp(this.G,-6)};p.op=function(a){xf.Lp(this.G,a)};p.pp=function(a){xf.Mp(this.G,a)};p.Ul=function(a){return Wd.vl(this.za(),a)};p.Gl=function(){return this.Ul(this.G)};p.gb=function(){var a=this.Gl();this.qp();this.np();this.op(-6*a);this.pp(6*a)};self.applyBabylonJsOrthographicCamera=function(a){var f=new Ah(a);f.gb();return{update:function(){f.gb()}}};var wh,zh;
(function(){var a=new Set(["in","out","inOut"]);wh=function(c){var g=c;null==qc(c)===!1&&(g=c.charAt(0).toUpperCase(),1<c.length&&(g+=c.substring(1)));return new ($g(g+"Ease"))};zh=function(c){!1===a.has(c)&&(c="out");if("in"===c)return bh.oi;if("out"===c)return bh.ri;if("inOut"===c)return bh.pi;throw"getEasingMode encountered unknown name: "+c;};var f=function(){function c(ea,ka){return{name:ea,caption:ka}}var g=c("none","None"),h=c("circle","Circle"),l=c("back","Back"),b=c("bounce","Bounce"),d=
c("cubic","Cubic"),k=c("elastic","Elastic"),m=c("exponential","Exponential"),n=c("power","Power"),q=c("quadratic","Quadratic"),u=c("quartic","Quartic"),S=c("sine","Sine"),W=c("bezierCurve","Bezier Curve");return[g,h,l,b,d,k,m,n,q,u,S,W]}(),e=[{name:"in",caption:"In"},{name:"out",caption:"Out"},{name:"inOut",caption:"In and Out"}];self.BabylonJsEasingUtil={NONE_EASING_NAME:"none",DEFAULT_EASING_MODE:"out",getEasingItems:function(){return f},getEasingModeItems:function(){return e}}})();function Dh(a,f,e,c,g,h){this.o=a;this.P=f;this.U=e;this.pa=c;this.oa=g;this.Jj=h}p=Dh.prototype;p.setTime=function(a){this.time=a};p.Ak=function(){var a=this,f=Ld.create(this.P);bd(f);f.Jd=function(){a.rp();a.gb();a.Te()};return f};p.Ok=function(){Ld.b(this.a)};p.gb=function(){this.Yc.gb()};p.rp=function(){var a=this.context.canvas;a.width=this.oa.width;a.height=this.oa.height};p.Te=function(){Ld.xb(this.a)};p.Ta=function(a){this.o.Ta(a)};p.Bo=function(){this.Ta(this.context)};p.ik=function(){dd(this.a)};
p.hk=function(){return cd(this.a)};p.Lj=function(){return wd(this.Jj)};p.Lc=function(){return this.context.G};p.Bk=function(){return ah.ki(this.P,this.Lc(),{precision:1})};p.Nm=function(){return Ld.ie(this.a)};p.Be=function(){this.o.Be()};p.Ve=function(){this.o.Ve()};p.Xo=function(){var a=this;return new Promise(function(f){Ld.Ic(a.a,function(){f()})})};p.Pl=function(){return Z.N(this.U)};p.po=function(){var a=this;return new Promise(function(f){var e=a.Nm();"";Mg.Ec(e,function(){f()})})};
p.jk=function(){return new zf(this.Ma,{x:0,y:0,width:this.oa.width,height:this.oa.height},this.a,this.context.canvas)};p.tk=function(){return new Ah(this.Lc())};p.hj=function(){document.body.appendChild(this.context.canvas)};p.Fo=function(){this.context.canvas.remove()};p.Sp=function(a){Z.fa(this.uo,a)};p.cl=function(){this.jk().C()};
p.Ck=function(){var a={},f={},e={};C(this.Cl(),function(c){var g=Ba.getName(c),h=Ba.ia(c);c=ec.N(h);h=ec.u(h);f[g]=c;e[g]=h});a.N=function(c){return f[c]};a.u=function(c){return e[c]};return a};p.tq=function(){var a=this.Ck();C(this.Dl(),function(f){var e=Ba.getName(f);f=Ba.ia(f);var c=a.N(e);e=a.u(e);ec.fa(f,c);ec.setPosition(f,e)})};p.Cl=function(){return Aa.M(this.pa)};p.Dl=function(){return Aa.M(this.vo)};
p.jq=function(){var a=this;return new Promise(function(f,e){null==a.time?f():a.$e(a.time).then(function(c){a.Fh=c;f()})["catch"](function(c){e(c)})})};p.Sk=function(){var a=this;return new Promise(function(f,e){null==a.Fh?f():a.Fh.restore().then(function(){f()})["catch"](function(c){e(c)})})};p.$e=function(a){return this.o.$e(a)};
p.Nd=function(){var a=this;return new Promise(function(f,e){var c={};a.context=c;c.canvas=document.createElement("canvas");a.hj();a.a=a.Ak();a.ik();c.G=a.hk();a.Yc=a.tk();a.Bo();a.Lj().then(function(g){return a.Ce("",g.J,g.url,null,g.I)}).then(function(g){(function(){var b=he.ca(g);Ha(b)||C(b,function(d){X.stop(d);X.b(d)})})();var h=he.H(g),l=he.$a(g);a.Ma=h;a.Yh=l;a.uo=h[0];a.vo=l[0];a.Be();return a.jq()}).then(function(){a.Sp(a.Pl());a.tq();return a.Sk()}).then(function(){a.cl();return a.Xo()}).then(function(){return a.po()}).then(function(){return a.Bk()}).then(function(g){f({imageURL:g,
width:a.oa.width,height:a.oa.height,yOffset:0})}).then(function(){f()})["catch"](function(g){e(g)})["finally"](function(){a.Fo();a.mb(a.context);a.Ok();a.Ve()})})};p.mb=function(a){this.o.mb(a)};p.Ce=function(a,f,e,c,g){return ge.ka(a,f,e,this.a,c,g)};
})();
